
  <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=7" />
    <meta http-equiv="content-type" content="text/html;charset=gbk"/>
    <meta http-equiv="content-style-type" content="text/css"/>
    <meta http-equiv="content-script-type" content="text/javascript"/>
    <meta name="version" content="neblog-1.0"/>
    <script type="text/javascript">
      
      
      document.uniqueID!=document.uniqueID&&!!location.hash&&(location.hash=location.hash); 
      document.domain = location.hostname.replace(/^.*\.([\w]+\.[\w]+)$/,'$1');
      window.focus();
      window.getMusicTimeStamp=function(){return '44cab045461a2e1764a770c10c273874';};
    
      //BLOG-647:博客OS服务不稳定，导致页面加载很慢
      (function(){
        window.setTimeout(function(){
          var _loginUserIcon = document.getElementById('loginUserIcon');
          var _rsavatarimg = document.getElementById('rsavatarimg');
          if(!!_loginUserIcon){
            var _loaded1 = false;
            var _img1 = new Image();
            _img1.onload = function(){
                _loaded1 = true;
                _img1.onload = null;
            };
            _img1.src = _loginUserIcon.src;
            window.setTimeout(function(){
              if(!_loaded1){
                _img1.src = '';
                _loginUserIcon.src = location.f60 || 'http://b.bst.126.net/common/face60.png';
              }
            },1000);
          }
          
          if(!!_rsavatarimg){
           var _loaded2 = false;
           var _img2 = new Image();
            _img2.onload = function(){
                _loaded2 = true;
                _img2.onload = null;
            };
            _img2.src = _rsavatarimg.src;
            window.setTimeout(function(){
              if(!_loaded2){
                _img2.src = '';
                _rsavatarimg.src = location.f140 || 'http://b.bst.126.net/common/face140.png';
              }
            },1000);
          }
          
        },1000);
      })()
      
    </script>
<title>一起来写2048(160行python代码) - davidjory的日志 - 网易博客</title>
<meta name="author" content="zwssd1980,davidjory"/>
<meta name="keywords" content="一起来写2048(160行python代码),日志,davidjory,伟的博客,网易博客,网易,blog"/>
<meta name="description" content="一起来写2048(160行python代码),davidjory的网易博客,生活、技术、点点滴滴(其实我挺聪明的，就是人有点傻),"/>
  <script type="text/javascript">
    (function(){
     var R=24,C=11,a=[];
     for(var i=0;i<C;i++)for(var j=0;j<R;a.push('.icn0-'+i+j+'{background-position:'+(i>0?('-'+i*40+'px'):'0')+' '+(j>0?('-'+j*20+'px'):'0')+';}'),j++);
          var P=16,R=3,C=7;
     for(var p=1;p<P;a.push('.nbw-thm .tp'+p+'{background:url(http://b.bst.126.net/newpage/style/nblog/pages/page'+p+'.jpg'+(p>(P-3)?'?t=20100617':'')+') no-repeat;}'),p++);
     for(var r=0;r<R;r++)for(var c=0;c<C;a.push('.nbw-thm .ti'+(c+r*C)+'{background-position:-'+(20+c*100)+'px -'+(18+r*95)+'px;}'),c++);
     document.write('<style type="text/css">'+a.join('')+'</st'+'yle>');
    })();
  </script>
    <link type="text/css" rel="stylesheet" href="http://b2.bst.126.net/newpage/r/c/c.css?v=1484551956519"/>
    <link type="text/css" rel="stylesheet" href="http://os.blog.163.com/style/css/diy/109612735/3029649/-1423729529635/b.css?v=1" id="blog-163-com-theme"/>
  <!--[if lte IE 6]>
  <style type="text/css">
    html,body,#blog-163-com-ie6body{height:100%;width:100%;overflow:hidden;}
    #blog-163-com-ie6body{overflow:auto;overflow-y:scroll;}
    #blog-163-com{background:none;}
  </style>
  <![endif]-->
  
  
  <style type="text/css">.m-3 .nbw-ryt .left .mcnt{padding-left:10px;}.m-3 .nbw-ryt .right .acts{position:relative;margin:0 0 12px 0;line-height:20px;}.m-3 .nbw-ryt .right .more{margin-top:-15px;height:24px;line-height:24px;}#blog-163-com .m-3 .phide{display:none;}.m-3 .nbw-ryt .left .nbw-bitm{margin:0;padding:0 10px 0 10px;position:relative;}.m-3 .nbw-ryt .left .nbw-bitm .title{margin:30px 0 20px;line-height:32px;}.m-3 .nbw-ryt .left .nbw-bitm .title .tcnt{font-size:26px;font-weight:bold;font-family:"Hiragino Sans GB W3","Hiragino Sans GB","Microsoft YaHei","\5FAE\8F6F\96C5\9ED1",Arial,Helvetica,simsun,"\5B8B\4F53";}.m-3 .nbw-ryt .left .nbw-bitm .tdep{margin-bottom:20px;}.m-3 .nbw-ryt .left .nbw-bitm .tbar{margin:5px 0;padding:10px 0 10px 0;line-height:20px;text-align:right;}.m-3 .nbw-ryt .left .nbw-bitm .bct{font-size:16px;padding-left:0}.m-3 .nbw-ryt .left .nbw-bitm .muava{float:left;margin:5px 7px 0 0;border-width:0 1px 0 0;height:40px;}.m-3 .nbw-ryt .left .snl .pnb div{line-height:20px;text-align:left;}.m-3 .nbw-ryt .cite{margin:20px 0 0 50px;line-height:24px;text-align:left;}.m-3 .nbw-ryt .cite .close{float:right;margin:0;text-align:right;}.m-3 .nbw-ryt .cite span{cursor:pointer;}.m-3 .nbw-ryt .cite .nbw-act{text-align:center;}.m-3 .nbw-ryt .cite .ads{margin-left:20px;width:400px;}.m-3 .nbw-ryt .cite .tbac{margin-left:60px;padding:0;border:0;list-style:none;line-height:24px;}.m-3 .nbw-ryt .cite .tbl{width:150px;overflow:hidden;}.m-3 .nbw-ryt .cite .tbr{margin-left:20px;overflow:hidden;}.m-3 .nbw-act-share{position:relative;}.m-3 .nbw-act-share .nas-wrap{visibility:hidden;}.m-3 .nbw-act-share:hover .nas-wrap,.m-3 .js-share-hover .nas-wrap{visibility:visible;}.m-3 .nas-wrap,.nas-itm,.nas-wb{background:url(/newpage/images/blog/icn-share.png?0011) no-repeat 9999px 9999px;}.m-3 .nas-wrap{margin-top:5px;}.nas-itm,.nas-wb{text-decoration:none;}.nas-itm,.nas-wb:hover{text-decoration:underline;}.m-3 .nas-itm{float:left;width:16px;height:16px;margin:0 1px 0 6px;overflow:hidden;cursor:pointer;}.m-3 .nas-itm0{background-position:0 -173px;}.m-3 .nas-itm1{background-position:0 -56px;}.m-3 .nas-itm2{background-position:0 -85px;}.m-3 .nas-itm3{background-position:0 -227px;}.m-3 .nas-itm4{background-position:0 -143px;}.m-3 .nas-itm5{background-position:0 -201px;}.m-3 .nas-itm6{background-position:0 -249px;}.m-3 .nas-itm7{background-position:0 -283px;}.m-3 .nas-itm8{background-position:0 -313px;}.m-3 .nas-itm9{background-position:0 -342px;}.nas-wb{padding-left:20px;cursor:pointer;line-height:normal;background-position:0 -173px;}.nas-icn0fix{margin-top:4px;}.nas-tofix{margin-top:0;*margin-top:2px;line-height:25px;}.m-3 .ptc{position:absolute;cursor:pointer;}.m-3 .ptc .ptcp .bcmimg{float:left;background-image:url("http://b.bst.126.net/newpage/images/blogcmtimg.png");background-position:0 0;background-repeat:no-repeat;height:22px;line-height:22px;width:22px;padding:0 6px 0 0;}.m-3 .ptc .ptcp{cursor:pointer;position:absolute;left:5px;bottom:5px;clear:both;width:94px;}.m-3 .ptc .ptcp .ptcmi{float:left;width:16px;height:16px;padding:3px 6px 3px 5px;_padding:2px 6px 0 3px;margin:0;}.m-3 .ptc .ptcp .ptcmt{background-position:-418px -50px;float:left;width:67px;height:22px;overflow:hidden;margin:0px 0 0 -3px;line-height:22px;*line-height:23px;text-align:left;color:#444444;}.m-3 .ptc .ptcp .ptcmt-2{width:61px;padding-left:6px;background-position:-424px -50px;}.m-3 .relateblog{text-align:left;}.m-3 .relateblog h4{margin:0;padding:0 0 0 10px;line-height:30px;}.m-3 .relateblog .cnt{padding-left:8px;margin:10px 0 10px 0px;}.m-3 .relateblog .cnt ul{margin:0;padding:0;list-style:none;}.m-3 .relateblog .cnt ul li{height:24px;margin-right:20px;line-height:24px;}.m-3 .relateblog .cnt ul li span{margin:0 8px;}.m-3 .author, .m-3 .comment{text-align:left;}.m-3 .author .nlogif{width:150px;line-height:20px;margin-left:5px;_margin-left:3px;}.m-3 .author .nlogif .nbw-fce{margin:0 3px 0 10px;_margin-left:5px}.m-3 .author .nlogif .pright{width:85px;margin:0;padding:5px 0;_padding-top:10px}.m-3 .nbw-ryt .right h4{margin:0;padding:0;line-height:30px;}.m-3 .author h4, .m-3 .comment h4{margin:0;padding:0 0 0 10px;line-height:30px;}.m-3 .author .cwd{border:0;text-align:left;}.m-3 .author .vname{width:50px;text-align:center;}.m-3 .author .cnt{margin:10px 0 10px -5px;}.m-3 .author .nbw-fce{margin:0 11px;}.m-3 .author .nbw-f50{width:50px}.m-3 .nbw-ryt .left .top{position:relative;padding-bottom:5px;line-height:20px;}.m-3 .nbw-ryt .left .top .ilft{position:absolute;left:0;top:0;}.m-3 .nbw-ryt .left .top .irgt{position:absolute;right:-10px;top:0;}.m-3 .nbw-ryt .left .top .pleft{margin-left:20px;_margin-left:10px;overflow:hidden;width:40%;height:20px;text-align:left}.m-3 .nbw-ryt .left .top .pright{margin-right:10px;_margin-right:5px;overflow:hidden;width:40%;height:20px;text-align:right}.m-3 .nbw-ryt .left .snl .top{position:relative;padding:5px 0 15px 0;line-height:20px;}.m-3 .nbw-ryt .left .snl .top .ilft{position:absolute;left:-10px;top:5px;}.m-3 .nbw-ryt .left .snl .top .irgt{position:absolute;right:-10px;top:5px;}.m-3 .nbw-ryt .left .snl .top .pleft{margin-left:10px;_margin-left:5px;overflow:hidden;width:40%;height:20px;text-align:left}.m-3 .nbw-ryt .left .snl .top .pright{margin-right:10px;_margin-left:5px;overflow:hidden;width:40%;height:20px;text-align:right}.m-3 .nbw-ryt .left .snl .pnb{padding:5px 0 10px 10px;overflow:hidden;_width:100%}.m-3 .comment h4{padding:0 0 0 10px}.m-3 .comment .publish{margin:10px 0;padding:0 0 10px 5px;text-align:left;}.m-3 .comment .publish .nbw-fce{padding-top:0;}.m-3 .comment .publish .nbw-fce .cwd{border:0;}.m-3 .comment .publish .redt{margin-left:65px;}.m-3 .comment .nolog{border:1px solid #000;background-color:#FFFFE1;height:40px;line-height:40px;text-align:center;padding:0;_padding:10px 0;_height:20px;}.m-3 .comment .case{padding-left:5px;padding-bottom:10px;}.m-3 .comment .vgl{margin:8px;width:75%;text-align:center;}#blog-163-com .m-3 .comment .nbw-cmt .cnt{width:488px;}#blog-163-com .m-3 .comment .nbw-cmt .nbw-cmt .cnt{width:444px;}.m-3 .edt-cmt{width:444px;}.m-3 .comment .publish .edt-cmt{width:488px;}.m-3 .comment .publish .edt-cmt .zbcc{display:none;}.m-3 .nbw-ryt .left .nbw-bitm .js-fs0{font-size:150%;}.m-3 .nbw-ryt .left .nbw-bitm .js-fs1, .m-3 .nbw-ryt .left .nbw-bitm .js-fs1 *{font-size:20px;}.m-3 .nbw-ryt .left .nbw-bitm .js-fs2{}.m-3 .nbw-ryt .left .nbw-bitm .js-fs3, .m-3 .nbw-ryt .left .nbw-bitm .js-fs3 *{font-size:12px;}.m-3 .js-fcurrent{font-color:#000;font-weight:bold;text-decoration:none;}.m-3 .nbw-bitm .dream{margin-top:-10px;clear:both}.m-3 .nbw-bitm .cited{margin-top:-15px;}.m-3 .nbw-bitm .rdif{line-height:24px;height:24px;}.m-3 .nbw-bitm .rdif .pnt{line-height:24px;height:24px;margin-right:10px;}.m-3 .nbw-bitm .rdif .pclass{vertical-align:middle;width:57px;height:22px;}.m-3 .nbw-bitm .rdif .rdct{display:inline-block;}.m-3 .snl .rdcnt{padding:5px;text-align:left}.m-3 .snl .rdcnt .nbw-fce{margin:0 5px}.m-3 .snl .rdcnt p{margin:10px 0}.m-3 .snl .rdcnt .rrb{list-style:none;height:22px;line-height:22px;}.m-3 .acts .iblock{width:18px;}.m-3 .ns{margin:0 0 0 2px;}.m-3 .cancel{display:none;}.m-3 .js-hover .cancel, .m-3 .follow:hover .cancel, .m-3 .frd:hover .cancel{display:inline;}.m-3 .follow{*margin-left:2px;}.m-3 .flw{padding:7px 8px;color:#000;background:#fefce4;border:1px solid #b7b7b7;}.m-3 .acts .flw .iblock{width:20px;}.m-3 .sntesctf{width:15px;margin-left:3px;}.dr-warm{width:420px;padding:12px 18px;margin:18px 0;line-height:20px;border:1px solid #aaa;color:#666;background:#ffffdc;}.dr-warm a,.dr-warm a:hover{text-decoration:underline;color:#02a;}.dr-warm .codeinput{width:70px;text-align:center;}.dr-warm .codediv{margin:10px 0 0;}.dr-warm .ml{margin:0px 10px;vertical-align:middle;}.dr-warm .button{background-color:#77716F;width:42px;height:20px;border:0 none;color:#fff;cursor:pointer;}.m-3 .commentcntwrap{position:relative;zoom:1;}.m-3 .cmtMultiUserRole{position:absolute;left:62px;bottom:5px;width:300px;overflow-x;hidden;}.m-3 .cmtMultiUserRole .selectRole{float:right;padding:1px 1px 0 1px;border:none;}.m-3 .cmtMultiUserRole .selectRole .ztxt{float:left;width:auto;overflow:hidden;}.m-3 .cmtMultiUserRole .selectRole .zdwn{float:left;background:url("/newpage/images/icon.png") -240px -420px no-repeat;text-indent:-9999px;}.m-3 .cmtMultiUserRole .selectRole .zlst .zitm{}.m-3 .cmtMultiUserRole .selectRole .zlst .zitm:hover, .m-3 .cmtMultiUserRole .selectRole .slst .item.js-zhvr-910{color:#333;background-color:#ececec;}.m-3 .nbw-cmt{position:static;}.m-3 .nbw-cmt .thde{position:relative;zoom:1;}.m-3 .publish .redt{position:relative;zoom:1;}.m-3 .publish .redt .cmtMultiUserRole{left:135px;_left:132px;}.m-3 .cmtMultiUserRole .js-showlist{padding:0;margin:0;border-style:solid;border-width:1px 1px 0 1px;border-color:#aaa;}.m-3 .cmtMultiUserRole .js-showlist .zlst{border-style:solid;border-width:0 1px 1px 1px;border-color:#aaa;}.m-3 .multiuserItem{}.m-3 .multiuserItem .author{margin-right:-50px;}.m-3 .multiuserItem .multicntwrap{padding:30px 0 20px 0;}.m-3 .multiuserItem .multicnt{_padding-top:2px;margin-left:50px;}.m-3 .nbw-ryt .left .multiuserItem .multicnt .title{width:95%;margin-top:0;margin-bottom:0;}.m-3 .nbw-ryt .left .multiuserItem .multicnt .tdep{margin-bottom:0;}.m-3 .attachment{margin-bottom:20px;}.m-3 .awidth{width:40px;}.m-3 .view{margin-right:10px;}.m-3 .nbw-cmt .op{height:18px;line-height:18px;}.m-3 .suggestedreading{overflow:hidden;position:relative;zoom:1;}.m-3 .suggestedreading .m-list{margin-left:0;padding-left:15px;overflow:hidden;font-size:14px;}.m-3 .suggestedreading .m-list .gap{margin-left:8px;color:#ADADAD;}.m-3 .suggestedreading .m-list li{height:20px;padding:3px 0 2px;vertical-align:middle;}.m-3 .suggestedreading .wrap li{float:left;width:118px;height:146px;}.m-3 .suggestedreading .suggesteditem1{line-height:24px;margin:5px 0;font-size:12px;margin-right:10px;}.m-3 .suggestedreading .suggesteditem2{margin:5px 0;font-size:12px;}.m-3 .suggestedreading .suggesteditem2 .imgwrap1{position:relative;overflow:hidden;width:90px;height:90px;zoom:1;}.m-3 .suggestedreading .suggesteditem2 .imgwrap2{z-index:2;position:absolute;left:0;top:0;}.m-3 .suggestedreading .suggesteditem2 .btitle{width:96px;height:148px;overflow:hidden;text-decoration:none;}.m-3 .suggestedreading .suggesteditem2 .sep{padding:5px 10px 0 10px;}.m-3 .suggestedreading .suggesteditem2 a{cursor:pointer;}.m-3 .suggestedreading .suggesteditem2 a:hover{text-decoration:none;}.m-3 .suggestedreading .suggesteditem2 img{border-width:0;}.m-3 .suggestedreading .color1{background-color:#B3786B;}.m-3 .suggestedreading .color2{background-color:#D2C1A8;}.m-3 .suggestedreading .color3{background-color:#D46646;}.m-3 .suggestedreading .color4{background-color:#D28FA8;}.m-3 .suggestedreading .color5{background-color:#C84F54;}.m-3 .suggestedreading .white{color:white;}.m-3 .suggestedreading .imgtip{margin:2px;font-weight:bold;color:white;font-size:13px;}.m-3 .suggestedreading .borderwrap{padding:2px;background-color:#fff;}.m-3 .suggestedreading .time{position:absolute;bottom:0;right:0;}.m-3 .suggestedreading .hidsep{margin-left:-1px;}.m-3 .suggestedreading .srtitle{font-size:14px;font-weight:bold;margin-bottom:10px;}.m-3 #yodaoad{padding-left:5px;}.m-3 #yodaoad_3{padding:20px 0 25px 0;}.m-3 .relategroup{width:45%}.m-3 .blogvote{padding-left:35px;position:relative;zoom:1;}.m-3 .blogvote .sep{margin:0 5px;}.m-3 .blogvote .vtitle{margin:15px 0 15px -30px;}.m-3 .blogvote .vtitle span{padding-right:8px;}.m-3 .blogvote .vtitle .close{width:60px;height:24px;vertical-align:middle;}.m-3 .blogvote .roleview{padding-right:10px}.m-3 .blogvote .roleview .iblock{width:10px}.m-3 .blogvote .options{clear:both;margin-right:10px}.m-3 .blogvote .options ul{margin:0;padding:0;list-style:none;}.m-3 .blogvote .options ul li{padding:10px 0;line-height:16px;}.m-3 .blogvote .options .role{margin-bottom:15px;}.m-3 .blogvote .options .acts{margin-bottom:15px;height:24px;line-height:26px;}.m-3 .blogvote .options .acts .leftpt{height:24px;line-height:26px;}.m-3 .blogvote .options .acts .leftpt button{height:24px;line-height:18px;}.m-3 .blogvote .options .acts .leftpt span{}.m-3 .blogvote .options .acts .view{margin-left:5px;}.m-3 .blogvote .fvote{padding-top:10px;}.m-3 .blogvote .fvote ul{list-style:none;margin:10px 0;padding:0;}.m-3 .blogvote .fvote ul li{line-height:20px;margin:5px 0;}.m-3 .blogvote .options ul .col0{width:230px;margin-right:10px;margin-top:-3px;_margin-top:-5px;line-height:20px}.m-3 .blogvote .options ul .col0 input{_position:relative;_top:3px}.m-3 .blogvote .options ul .col0 label{width:200px;_position:relative;_top:4px}.m-3 .blogvote .options ul .col1{width:190px;height:14px;line-height:14px;;background:none repeat scroll 0 0 #EAEAEA;}.m-3 .blogvote .options ul .col1 .iblock{width:100%;height:16px;vertical-align:middle;}.qing001{margin:0;border:none;}.qing001 .nb-mc{background:none;}.qing001 .nb-mc .cc{width:942px;padding:0;margin:0 auto;}.qing001 .nb-mc .cl{display:none;}.qing001 .nb-mc .cr{display:none;}.qing001 .bh{display:none;}.qing001 .nbw-ryt{background:url(/newpage/images/qingtheme/qing001/blogdetail_cntbg.png) 0 0 repeat-y;}.qing001 .nbw-ryt .left{background:url(/newpage/images/qingtheme/qing001/blogdetail_ftbg.png) bottom left no-repeat;}.qing001 .nbw-ryt .left .lcnt{width:100%;padding:0;margin:0;background:url(/newpage/images/qingtheme/qing001/blogdetail_ttlbg.png) 0 0 no-repeat;}.qing001 .nbw-ryt .left .mcnt{padding:0 30px;}.qing001 .nbw-ryt .left .nbw-bitm{padding:0;}.qing001 .nb-mt{display:none;}.qing001 .nbw-ryt .left .top{display:none;}.qing001 .nbw-ryt .left .nbw-bitm .title{height:31px;padding:30px 0 46px 3px;margin:0;}.qing001 .nbw-ryt .left .nbw-bitm .title .tcnt{color:#fffadc;font-size:24px;}.qing001 .nbw-ryt .left .nbw-bitm .tdep{padding-top:6px;}.qing001 .comment .case{padding-bottom:40px;}.m-3 .article .douban{float:left;width:200px;margin:0 10px 10px 0;font-size:12px;}.m-3 .article .douban .field{padding-top:5px;}.m-3 .article .douban .field .dbyinyue{width:10px;height:8px;border-width:0;}.m-3 .article .douban img{max-width:100%;width:100%;border-color:#e9e9e9;display:inline-block;border-width:1px;border-style:solid;}.m-3 .article-1 .douban{float:right;width:200px;margin:0 3px 10px 10px;}.m-3 .article-2 .douban{float:left;width:250px;margin:0 -250px 0 0;}.m-3 .article-2 .blog{margin-left:270px;}.m-3 .article-2 .blogc{width:99%;overflow:hidden;}.m-3 .article-3 .douban{float:right;width:250px;margin:0 3px 0 -250px;}.m-3 .article-3 .blog{margin-right:270px;}.m-3 .article-3 .blogc{width:99%;overflow:hidden;}.m-3 .vote_star{overflow:visible;}.m-3 .rateword{display:none;left:88px;width:37px;top:-2px;position:absolute;line-height:23px;}.m-3 .star_d0 .rateword0{display:inline;}.m-3 .star_d1 .rateword1{display:inline;}.m-3 .star_d2 .rateword2{display:inline;}.m-3 .star_d3 .rateword3{display:inline;}.m-3 .star_d4 .rateword4{display:inline;}.m-3 .star_d5 .rateword5{display:inline;}.m-3 .nbw-act .blogsep{margin:0 2px}.m-3 .zihao{position:relative;cursor:default;}.m-3 .zihaoshow{position:absolute;width:26px;top:-57px;left:-3px;padding:0 0 3px;line-height:18px;}.m-3 .zihaoshow span{display:block;text-align:center;cursor:pointer;}.m-3 .zihaoc{border-style:solid;border-width:1px;}.m-3 .mbga{margin-bottom:12px;position:relative;}.m-3 .mbga a{margin-left:20px;}.m-3 .mbgai{position:absolute;top:-1px;width:17px;background:url(/newpage/images/microblog.png?1) no-repeat;_background:none transparent;_filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='http://b2.bst.126.net/newpage/images/microblog.png');_zoom:1;}.m-3 .mingxing{width:18px;background-position:-43px -80px;}.m-3 .xinxing{width:18px;background-position:-81px -80px;}.m-3 .darendesc{padding:7px 15px;margin-top:10px;line-height:18px;background:#efeae7;vertical-align:middle;}.m-3 .js-cmt-noavatar .nbw-cmt .nbw-fce{display:none;}.m-3 .js-cmt-noavatar .nbw-cmt .thde{padding-left:8px;margin-left:0;}.m-3 .js-cmt-noavatar .nbw-cmt .reps .thde{margin-left:55px;}.m-3 .toLofter{cursor:pointer;position:absolute;bottom:5px;width:112px;height:22px;background:url(/newpage/images/publishtolofter/tolofter.png?v=20130909) 0 0 no-repeat;text-indent:-9999px;}.m-3 .nbw-ryt .left .lcnt{padding-right:20px;}.m-3 .edt-cmt{width:auto;}.m-3 .comment .publish .edt-cmt{width:auto;}#blog-163-com .m-3 .comment .nbw-cmt .cnt{width:auto;}#blog-163-com .m-3 .comment .nbw-cmt .nbw-cmt .cnt{width:auto;}.m-3 .nbw-cmt .nbw-cmt{padding:20px 5px 1px 0;}.m-3 .nbw-cmt .op{height:18px;line-height:18px;margin-bottom:18px;}.m-3 .nbw-ryt .left .nbw-bitm .title{margin:34px 0 10px;line-height:normal;}.m-3 .nbw-ryt .left .nbw-bitm .title .tcnt{line-height:38px;}.m-3 .nbw-ryt .left .nbw-bitm .tdep{margin-bottom:25px;}.m-3 .comment .publish{padding:0 5px 10px 0;margin:20px 0 0 0;}.m-3 .nbw-sdt .miniBlogArea{bottom:12px;}.m-3 .nbw-sdt .edt .zbtn{height:40px;line-height:40px;}.m-3 .nbw-sdt .edt .zbtn .zfce{top:10px;}.m-3 .nas-tofix{line-height:24px;}.m-3 .nas-wrap{margin-top:4px;}.m-3 .leftoperatebar{height:24px;line-height:24px;padding:8px 0;}.m-3 .nbw-bitm .rdif{padding:8px 0;}.m-3 .leftoperatebar .sep-last{margin-right:8px;}.m-3 .rightoperatebar{height:40px;line-height:40px;margin-left:0px;}.m-3 .reblogbtn, .m-3 .recommendbtn, .m-3 .likebtn{width:48px;height:38px;line-height:38px;padding-left:44px;margin:0 0 0 5px;font-size:14px;color:#fff;text-align:left;}.m-3 .reblogbtn{background-position:1px -431px;}.m-3 .recommendbtn{background-position:1px -271px;}.m-3 .js-recommended{background-position:1px -351px;}.m-3 .likebtn{background-position:1px -111px;}.m-3 .js-liked{background-position:1px -191px;}.m-3 .hotarea{}.m-3 .hotarea .hotItem{position:relative;zoom:1;display:block;float:left;}.m-3 .hotarea .hotItem .hottype{position:absolute;right:-5px;top:29px;width:20px;height:20px;text-decoration:none;}.m-3 .hotarea .hotItem .js-liketype{background-position:-4px -536px;}.m-3 .hotarea .hotItem .js-reblogtype{background-position:-4px -648px;}.m-3 .hotarea .hotItem .js-sharetype{background-position:-4px -592px;}.m-3 .hotarea .expandHotItem{}.m-3 .hotarea .expeadbg{width:40px;height:40px;margin:0 auto;background-position:-2px -728px;cursor:pointer;}.js-openlikewin .showhint .zcvr{background:#000;opacity:0.5;filter:alpha(opacity=50);}.f-openlikeicon{background:url(/newpage/images/liketolofter/openlike24.png) -9999px -9999px no-repeat;_background:url(/newpage/images/liketolofter/openlike8.png) -9999px -9999px no-repeat;}#blog-163-com #blog-163-com-layer div.openlikewin{border:none;}.openlikewin .nbwinwrap .ztbr, .openlikewin .nbwinwrap .zcls, .openlikewin .nbwinwrap .zext, .openlikewin .nbwinwrap .zbtnbar{display:none;}.openlikewin .nbwinwrap .zcnt{padding:0;}.openlikewin .hdarea{position:relative;zoom:1;width:500px;height:145px;padding-top:30px;background:#d6e6f1;}.openlikewin .hdarea .tticon{width:86px;height:73px;margin:0 auto;background-position:-8px -111px;}.openlikewin .hdarea .ttcnt{height:60px;line-height:60px;color:#333;font-size:25px;}.openlikewin .hdarea .close{position:absolute;right:10px;top:10px;width:21px;height:21px;background-position:-6px -720px;cursor:pointer;}.openlikewin .bdarea{padding-bottom:40px;}.openlikewin .step{padding-top:30px;}.openlikewin .step .stepicon{width:60px;height:64px;margin:0 auto;}.openlikewin .step .stepcnt{width:500px;height:32px;line-height:32px;padding-top:16px;color:#333;font-size:20px;}.openlikewin .stepone{}.openlikewin .stepone .stepicon{background-position:-6px -247px;}.openlikewin .stepone .stepcnt{}.openlikewin .steptwo{}.openlikewin .steptwo .stepicon{background-position:-6px -359px;}.openlikewin .steptwo .stepcnt{}.openlikewin .stepthree{margin-bottom:40px;}.openlikewin .stepthree .stepicon{background-position:-6px -470px;}.openlikewin .stepthree .stepcnt{margin-bottom:5px;}.openlikewin .likeaddr{width:304px;height:40px;line-height:40px;padding:6px;margin:0 auto;background-position:-1px -600px;}.openlikewin .likeaddr .blogname{font-family:"Hiragino Sans GB W3","Hiragino Sans GB",Arial,Helvetica,simsun,u5b8bu4f53;}.openlikewin .likeaddr .blogname{text-align:right;float:left;width:150px;height:40px;line-height:40px;padding:0;margin:0;color:#666;font-size:20px;border:none;outline:none;background:none;}.openlikewin .likeaddr .urlsuffix{text-align:left;float:left;width:120px;height:40px;line-height:40px;color:#666;font-size:20px;}.openlikewin .openmylike{width:316px;height:54px;margin:0 auto;background-position:1px 1px;cursor:pointer;}.outlinklayer{position:absolute;width:398px;background:#fff;border:1px solid #cdcdcd;text-align:left;}.outlinklayer .hdarea{height:25px;}.outlinklayer .hdarea .close{position:absolute;right:0;top:0;width:30px;height:30px;background:url(/newpage/images/outlink/close.png) 10px 8px no-repeat;cursor:pointer;}.outlinklayer .bdarea{height:108px;padding:0 0 25px 30px;}.outlinklayer .bdarea .ttl{height:26px;line-height:26px;color:#333;font-size:16px;font-weight:bold;}.outlinklayer .bdarea .url{width:340px;height:22px;line-height:22px;color:#666;font-size:14px;font-weight:bold;}.outlinklayer .bdarea .prompt{height:22px;line-height:22px;padding-top:12px;color:#999;font-size:14px;}.outlinklayer .bdarea .goon{height:26px;line-height:26px;color:#536c86;font-size:16px;text-decoration:underline;}.outlinklayer .adarea{padding:10px;border-top:1px solid #e6e6e6;}.outlinklayer .adarea .adlink{}.outlinklayer .adarea .adpic{display:block;width:378px;height:50px;border:none;}.blogPublicAccount{width:95px;height:340px;padding:25px 10px 25px 25px;background:#fff;}.blogPublicAccount h3{height:26px;line-height:26px;padding:1px 0 0 0;margin:0;font-weight:normal;font-size:18px;color:#444;background:url(/newpage/images/publicaccount/sinav.png) 72px 8px no-repeat;}.blogPublicAccount h3{_background-position:72px 6px;}.blogPublicAccount .wbttl, .blogPublicAccount .yxttl, .blogPublicAccount .wxttl{height:18px;line-height:18px;padding:0;margin:0;font-weight:normal;font-size:12px;color:#444;}.blogPublicAccount .wbttl{margin-bottom:7px;color:#999;}.blogPublicAccount .yxttl{margin-bottom:4px;}.blogPublicAccount .wxttl{margin-bottom:4px;}.blogPublicAccount .wbiframe{height:24px;margin-bottom:27px;}.blogPublicAccount .yx2d{width:80px;height:80px;margin-bottom:27px;background:url(/newpage/images/publicaccount/yx2d.png) 0 0 no-repeat;}.blogPublicAccount .wx2d{width:80px;height:80px;background:url(/newpage/images/publicaccount/wx2d.jpg) 0 0 no-repeat;}.f-trans{transition:all 0.3s linear;-webkit-transition:all 0.3s linear;-moz-transition:all 0.3s linear;-o-transition:all 0.3s linear;}.nbw-ryt .right{width:260px;}.nbw-ryt .left{margin-right:-262px;}.nbw-ryt .left .lcnt{margin-right:260px;}.js-auto-098 .left, .js-fix-098 .left{margin:0 auto;}.js-auto-098 .left .lcnt, .js-fix-098 .left .lcnt{margin-right:0;}.m-3 .m-aboutme .nick .mingxing{background-position:-43px -76px;}.m-3 .m-aboutme .nick .xinxing{background-position:-81px -76px;}.m-3 .m-aboutme .flw{position:relative;z-index:10;margin:0 15px;}.m-3 .f-bkicons, .m-3 .rightoperatebar-new .f-myLikeIcons{background:url(/newpage/images/redesign2014/bkicons24.png) -9999px -9999px no-repeat;_background:url(/newpage/images/redesign2014/bkicons8.png) -9999px -9999px no-repeat;}.m-3 .share-wrap .shareitm{float:left;width:24px;height:24px;padding:0 0 0 6px;cursor:pointer;}.m-3 .share-wrap .lofter{background-position:0 -144px;}.m-3 .share-wrap .sinawb{background-position:0 -192px;}.m-3 .share-wrap .qqzone{background-position:0 -240px;}.m-3 .share-wrap .qqweibo{background-position:0 -288px;}.m-3 .share-wrap .weixin{background-position:0 -336px;}.m-3 .share-wrap .yixin{background-position:0 -384px;}.m-3 .share-wrap .weixin, .m-3 .share-wrap .yixin{position:relative;zoom:1;}.m-3 .share-wrap .code2dimlayer{visibility:hidden;position:absolute;left:-22px;bottom:28px;width:242px;height:113px;text-align:left;cursor:default;}.m-3 .share-wrap .code2dimlayer{background:url(/newpage/images/redesign2014/code2dbg24.png) 0 0 no-repeat;_background:url(/newpage/images/redesign2014/code2dbg8.png) 0 0 no-repeat;}.m-3 .share-wrap .code2dimlayer img{float:left;width:84px;height:84px;margin:11px -108px 0 11px;}.m-3 .share-wrap .code2dimlayer .tips{margin:30px 0 0 108px;color:#777;font-size:12px;}.m-3 .share-wrap .code2dimlayer .tips p{padding:0;margin:0;line-height:24px;}.m-3 .share-wrap .js-show2dimlayer{}.m-3 .share-wrap .js-show2dimlayer .code2dimlayer{visibility:visible;}.m-3 .rightoperatebar-new{height:25px;line-height:25px;padding-top:6px;}.m-3 .rightoperatebar-new .likebtn, .m-3 .rightoperatebar-new .reblogbtn, .m-3 .rightoperatebar-new .recommendbtn{width:34px;height:25px;line-height:25px;padding-left:29px;margin-left:6px;color:#fff;font-size:12px;}.m-3 .rightoperatebar-new .likebtn{background-position:0 -96px;}.m-3 .rightoperatebar-new .reblogbtn{background-position:0 0;}.m-3 .rightoperatebar-new .recommendbtn{background-position:0 -48px;}.m-3 .rightoperatebar-new .js-liked{background-position:-137px -96px;}.m-3 .rightoperatebar-new .js-recommended{background-position:-137px -48px;}.m-3 .editopbar{margin-bottom:10px;}.m-3 .author img.cwd, .m-3 .hotarea .expeadbg, .m-3 .comment .nbw-f40 img.cwd{border-radius:20px;-webkit-border-radius:20px;-moz-border-radius:20px;-o-border-radius:20px;}.m-3 .comment .nbw-f50 img.cwd, .m-3 .comment .publish .nbw-fce img.cwd{border-radius:25px;-webkit-border-radius:25px;-moz-border-radius:25px;-o-border-radius:25px;}.m-3 .comment .nbw-f40 img.cwd, .m-3 .comment .nbw-f50 img.cwd{transition:all 0.35s linear;-webkit-transition:all 0.35s linear;-moz-transition:all 0.35s linear;-o-transition:all 0.35s linear;}.m-3 .comment img.js-rotate, .m-3 .comment .nbw-f40 a:hover img.cwd, .m-3 .comment .nbw-f50 a:hover img.cwd{transform:rotate(360deg);-ms-transform:rotate(360deg);-moz-transform:rotate(360deg);-webkit-transform:rotate(360deg);-o-transform:rotate(360deg);}.m-3 .nbw-blog img{height:auto;}.newtmpl_common .m-3 .nbw-ryt .left .nbw-bitm .bct embed{max-height:336px;}.newtmpl_common .wsy{min-width:990px;}.newtmpl_common .nb-cnt{background:none;}.newtmpl_common .nb-cnt .wc{margin:0;}.newtmpl_common .m-3{width:990px;padding-top:10px;margin:0 auto;border:none;}.newtmpl_common .m-3 .nbw-ryt .left .top{height:20px;}.newtmpl_common .m-3 .nb-mc .cc{padding:0;margin:0;background:none;}.newtmpl_common .m-3 .nb-mt{display:none;}.newtmpl_common .nb-mdl .l, .newtmpl_common .nb-mdl .r{display:none;}.newtmpl_common .nb-mdl .bh{display:none;}.newtmpl_common .nbw-ryt .right{border:none;}.newtmpl_common .m-3 .nbw-ryt .left{width:688px;padding-right:31px;margin-right:0;}.newtmpl_common .m-3 .nbw-ryt .left .lcnt{padding:26px 30px;margin-right:0;border:none;}.newtmpl_common .m-3 .nbw-ryt .left .lcnt{-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;}.newtmpl_common .m-3 .left{position:relative;zoom:1;overflow:visible;}.newtmpl_common .m-3 .left .uperbox, .newtmpl_common .m-3 .left .downbox{position:absolute;right:-3px;width:5px;height:5px;overflow:hidden;}.newtmpl_common .m-3 .left .uperbox{top:0px;}.newtmpl_common .m-3 .left .downbox{bottom:0px;}.newtmpl_13664000 .m-3 .nbw-ryt .left{border-right:1px solid #c1c1c1;}.newtmpl_13664000 .m-3 .nbw-ryt .left .lcnt{background:#fff;border:1px solid #d6cdc1;}.newtmpl_13664000 .m-3 .left .uperbox, .newtmpl_13664000 .m-3 .left .downbox{background:#c1c1c1;}.newtmpl_13664000 .m-aboutme .ttlbar, .newtmpl_13664000 .m-blogclasses .ttlbar, .newtmpl_13664000 .m-lofteriframe .ttlbar, .newtmpl_13664000 .m-163news .ttlbar{color:#333;border-bottom:4px solid #333;}.newtmpl_13664000 .m-aboutme .nick a{color:#666;}.newtmpl_13664000 .m-aboutme .desc{border-color:#666;}.newtmpl_13664000 .m-aboutme .desc p{color:#666;}.newtmpl_13664000 .m-blogclasses li a, .newtmpl_13664000 .m-163news .newscnt li a{color:#666;}.newtmpl_13664000 .m-aboutme .statusNode .findfrd .fc03, .newtmpl_13664000 .m-aboutme .statusNode .dofollow .fc03, .newtmpl_13664000 .m-163news .newscnt .download163news .fc03{color:#c14f4f;}.newtmpl_13664000 .m-163news .newscnt li .fc05:hover{color:#c14f4f;}.newtmpl_13664001 .m-3 .nbw-ryt .left{border-right:1px solid #9ababa;}.newtmpl_13664001 .m-3 .nbw-ryt .left .lcnt{background:#fff;border:1px solid #d6cdc1;}.newtmpl_13664001 .m-3 .left .uperbox, .newtmpl_13664001 .m-3 .left .downbox{background:#9ababa;}.newtmpl_13664001 .m-aboutme .ttlbar, .newtmpl_13664001 .m-blogclasses .ttlbar, .newtmpl_13664001 .m-lofteriframe .ttlbar, .newtmpl_13664001 .m-163news .ttlbar{color:#303a3a;border-bottom:4px solid #303a3a;}.newtmpl_13664001 .m-aboutme .nick a{color:#455353;}.newtmpl_13664001 .m-aboutme .desc{border-color:#455353;}.newtmpl_13664001 .m-aboutme .desc p{color:#455353;}.newtmpl_13664001 .m-blogclasses li a, .newtmpl_13664001 .m-163news .newscnt li a{color:#455353;}.newtmpl_13664001 .m-aboutme .statusNode .findfrd .fc03, .newtmpl_13664001 .m-aboutme .statusNode .dofollow .fc03, .newtmpl_13664001 .m-163news .newscnt .download163news .fc03{color:#c14f4f;}.newtmpl_13664001 .m-163news .newscnt li .fc05:hover{color:#c14f4f;}.newtmpl_13664002 .m-3 .nbw-ryt .left{border-right:1px solid #666;}.newtmpl_13664002 .m-3 .nbw-ryt .left .lcnt{background:#eee;border:1px solid #eee;}.newtmpl_13664002 .m-3 .left .uperbox, .newtmpl_13664002 .m-3 .left .downbox{background:#666;}.newtmpl_13664002 .m-aboutme .ttlbar, .newtmpl_13664002 .m-blogclasses .ttlbar, .newtmpl_13664002 .m-lofteriframe .ttlbar, .newtmpl_13664002 .m-163news .ttlbar{color:#999;border-bottom:4px solid #666;}.newtmpl_13664002 .m-aboutme .nick a{color:#999;}.newtmpl_13664002 .m-aboutme .desc{border-color:#666;}.newtmpl_13664002 .m-aboutme .desc p{color:#999;}.newtmpl_13664002 .m-blogclasses li a, .newtmpl_13664002 .m-163news .newscnt li a{color:#999;}.newtmpl_13664002 .m-aboutme .statusNode .findfrd .fc03, .newtmpl_13664002 .m-aboutme .statusNode .dofollow .fc03, .newtmpl_13664002 .m-163news .newscnt .download163news .fc03{color:#c38c81;}.newtmpl_13664002 .m-163news .newscnt li .fc05:hover{color:#c38c81;}.newtmpl_13665001 .m-3 .nbw-ryt .left{border-right:1px solid #b8b3a8;}.newtmpl_13665001 .m-3 .nbw-ryt .left .lcnt{background:#f9f7f1;border:1px solid #d6cdc1;}.newtmpl_13665001 .m-3 .left .uperbox, .newtmpl_13665001 .m-3 .left .downbox{background:#b8b3a8;}.newtmpl_13665001 .m-aboutme .ttlbar, .newtmpl_13665001 .m-blogclasses .ttlbar, .newtmpl_13665001 .m-lofteriframe .ttlbar, .newtmpl_13665001 .m-163news .ttlbar{color:#443e39;border-bottom:4px solid #443e3a;}.newtmpl_13665001 .m-aboutme .nick a{color:#443e3a;}.newtmpl_13665001 .m-aboutme .desc{border-color:#666159;}.newtmpl_13665001 .m-aboutme .desc p{color:#443e3a;}.newtmpl_13665001 .m-blogclasses li a, .newtmpl_13665001 .m-163news .newscnt li a{color:#443e3a;}.newtmpl_13665001 .m-aboutme .statusNode .findfrd .fc03, .newtmpl_13665001 .m-aboutme .statusNode .dofollow .fc03, .newtmpl_13665001 .m-163news .newscnt .download163news .fc03{color:#cc6666;}.newtmpl_13665001 .m-163news .newscnt li .fc05:hover{color:#cc6666;}.newtmpl_13664003 .m-3 .nbw-ryt .left{border-right:1px solid #9e939c;}.newtmpl_13664003 .m-3 .nbw-ryt .left .lcnt{background:#fbf9fd;border:1px solid #d6cdc1;}.newtmpl_13664003 .m-3 .left .uperbox, .newtmpl_13664003 .m-3 .left .downbox{background:#9e939c;}.newtmpl_13664003 .m-aboutme .ttlbar, .newtmpl_13664003 .m-blogclasses .ttlbar, .newtmpl_13664003 .m-lofteriframe .ttlbar, .newtmpl_13664003 .m-163news .ttlbar{color:#301d28;border-bottom:4px solid #301d28;}.newtmpl_13664003 .m-aboutme .nick a{color:#61535c;}.newtmpl_13664003 .m-aboutme .desc{border-color:#61535c;}.newtmpl_13664003 .m-aboutme .desc p{color:#61535c;}.newtmpl_13664003 .m-blogclasses li a, .newtmpl_13664003 .m-163news .newscnt li a{color:#61535c;}.newtmpl_13664003 .m-aboutme .statusNode .findfrd .fc03, .newtmpl_13664003 .m-aboutme .statusNode .dofollow .fc03, .newtmpl_13664003 .m-163news .newscnt .download163news .fc03{color:#93466e;}.newtmpl_13664003 .m-163news .newscnt li .fc05:hover{color:#93466e;}#blog-163-com-main{z-index:2;}.m-fixedPCAd{_display:none;visibility:hidden;opacity:0;}.m-fixedPCAd .fixedbar{position:fixed;right:0;bottom:0;z-index:99;width:300px;height:49px;}.m-fixedPCAd .fixedbar a{background:url(/newpage/images/loftlayer/bottom2.png) 0 0 no-repeat;border:1px solid #316062;}.m-fixedPCAd .fixedbar em{background:url(/newpage/images/loftlayer/arrows24.png) 0 2px no-repeat;}.m-fixedPCAd .fixedbar a{position:fixed;right:0;bottom:0;z-index:99;width:298px;height:48px;text-decoration:none;}.m-fixedPCAd .fixedbar em{position:absolute;right:22px;bottom:20px;z-index:100;width:12px;height:10px;}.m-fixedPCAd .hoverbar{visibility:hidden;border-style:solid;border-width:1px 1px 0 1px;border-color:#316062;}.m-fixedPCAd .hoverbar{position:fixed;right:0;bottom:-193px;z-index:98;width:298px;height:200px;background-position:0 0;}.m-fixedPCAd .hoverbar .part1{height:34px;line-height:34px;padding:8px 10px 2px 10px;text-align:left;}.m-fixedPCAd .hoverbar .part1 a{float:right;color:#3a7a7b;font-size:14px;text-decoration:none;}.m-fixedPCAd .hoverbar .part1 span{color:#000;font-size:14px;}.m-fixedPCAd .part2{padding-left:10px;}.m-fixedPCAd .part2 .jximgwrap{float:left;width:134px;height:134px;margin-right:10px;}.m-fixedPCAd .part2 .jximgwrap img{display:block;width:100%;height:100%;}.js-fixedPCAd-hover .hoverbar{visibility:visible;bottom:49px;}.js-fixedPCAd-hover .fixedbar em{background-position:0 -69px;}.m-3 .nbw-bitm .cited{margin-top:20px;}.m-shareAndDownLoad{height:24px;line-height:24px;margin-top:-8px;}.m-lmiddlead{position:relative;width:100%;overflow:hidden;}.m-lmiddlead img, .m-lmiddlead embed, .m-lmiddlead object{display:block;width:100%;border:none;cursor:pointer;}.m-lmiddlead .adlink{display:block;position:relative;z-index:10;_width:590px;max-width:590px;background:url(http://b.bst.126.net/common/empty.png) 0 0 repeat;}.m-lmiddlead .flashadwrap{}.m-lmiddlead-flash .adlink img{display:none;}.m-lmiddlead-flash .flashadwrap{display:block;position:absolute;left:0;top:0;z-index:5;}.voteValCodeArea{}.m-valcode{height:24px;line-height:24px;padding:8px 0;margin-bottom:20px;}.m-valcode .txtcode{float:left;width:50px;height:24px;padding:0 5px;margin-right:10px;border-width:1px;border-style:solid;border-color:#c2c2c2 #d7d7d7 #d7d7d7 #c2c2c2;}.m-valcode .codeimg{float:left;width:60px;height:24px;margin-right:10px;}.m-valcode .changeimg{float:left;cursor:pointer;text-decoration:underline;} </style>
  
  <link href="/newpage/prettycode/prettify.css" type="text/css" rel="stylesheet" />
  </head>
<body onload="prettyPrint()" id="blog-163-com" class="nb-body nb-inr nb-edt newtmpl_common newtmpl_13665001">
  <!--[if lte IE 6]><div id="blog-163-com-ie6bodywrap" class=""><![endif]-->
    <!--[if lte IE 6]><div id="blog-163-com-ie6body" class="nb-body"><![endif]-->

<div class="nb-nbar clearfix" id="blog-163-com-topbar">
  <div class="pl fl clearfix">
  <div id="" class="nbw-im fl im im0">
    <a  rel="nofollow"  class="lbl bd ia noul " href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://www.163.com/" target="_blank" hidefocus="true"><span class="tx">网易</span><span class="iblock icn0 icn0-421">&nbsp;</span></a><div class="nbw-tcd box-shadow bd">
          <a  rel="nofollow"   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://news.163.com/" >
            新闻
          </a>
          <a  rel="nofollow"   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://www.lofter.com/&amp;act=qbbkdl_20141211_01" >
            LOFTER
          </a>
          <a  rel="nofollow"   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://email.163.com/" >
            邮箱
          </a>
          <a  rel="nofollow"   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://photo.163.com/" >
            相册
          </a>
          <a  rel="nofollow"   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://yuedu.163.com/" >
            阅读
          </a>
          <a  rel="nofollow"   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://yuedu.163.com/book" >
            图书
          </a>
          <a  rel="nofollow"   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://www.youdao.com/" >
            有道
          </a>
          <a  rel="nofollow"   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://photo.163.com/pp/square/" >
            摄影
          </a>
          <a  rel="nofollow"   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://qiye.163.com/" >
            企业邮箱
          </a>
          <a  rel="nofollow"   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://quan.163.com/?from=blogdh" >
            优惠券
          </a>
          <a  rel="nofollow"   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://note.youdao.com/?vendor=163blog" >
            云笔记
          </a>
          <a  rel="nofollow"   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://fm.163.com/?fmblogzx0628" >
            闪电邮
          </a>
          <a  rel="nofollow"   target="_blank"  class="itm noul  " hidefocus="true" href="http://mail.163.com/client/dl.html?from=mail27" >
            邮箱大师
          </a>
          <a  rel="nofollow"   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://yxp.163.com/" >
            印像派
          </a>
          <a  rel="nofollow"   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://www.kaola.com/" >
            考拉海购
          </a>
        <div class="sep bd space">&nbsp;</div>
          <a  rel="nofollow"   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://sitemap.163.com/" >
            更多
          </a>
        
    </div>
  </div>

    <span style="display:none;margin-left:0;" class="fl iblock space icn1 icn1-4">&nbsp;</span>

  <div id="" class="nbw-im fl im im10">
    <a  class="lbl bd ia noul " href="http://blog.163.com/?frompersonalbloghome" target="_blank" hidefocus="true"><span class="tx">博客</span><span class="iblock icn0 icn0-421">&nbsp;</span></a><div class="nbw-tcd box-shadow bd">
          <a   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/services/wapblog.html?frompersonalbloghome" >
            手机博客
          </a>
          <a   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/clone/clone.html?frompersonalbloghome" >
            博客搬家
          </a>
          <a   target="_blank"  class="itm noul youcai " hidefocus="true" href="http://blog.163.com/vip.do?frompersonalbloghome" >
            博客VIP服务
          </a>
          <a   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/public/explore/?frompersonalbloghome" >
            发现
          </a>
          <a   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/g/?frompersonalbloghome" >
            小组
          </a>
          <a   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/public/theme/?frompersonalbloghome" >
            风格
          </a>
        <div class="sep bd space">&nbsp;</div>
          <a   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/blog_admin/blog/static/721279201082863728829/?frompersonalbloghome" >
            LiveWriter写博
          </a>
          <a   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/blog_admin/blog/static/721279201092713253500/?frompersonalbloghome" >
            word写博
          </a>
          <a   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/services/mailblog.html?frompersonalbloghome" >
            邮件写博
          </a>
          <a   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/services/emsblog.html?frompersonalbloghome" >
            短信写博
          </a>
        <div class="sep bd space">&nbsp;</div>
          <a   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/showMultiUser.do?frompersonalbloghome" >
            群博客
          </a>
          <a   target="_blank"  class="itm noul youcai " hidefocus="true" href="http://blog.163.com/BLOG_YOUCAI/" >
            博客油菜地
          </a>
          <a   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/ht/?frompersonalbloghome" >
            博客话题
          </a>
          <a   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/hot/history/?frompersonalbloghome" >
            博客热点
          </a>
          <a   target="_blank"  class="itm noul  " hidefocus="true" href="http://q.163.com/#home?frompersonalbloghome" >
            博客圈子
          </a>
          <a   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/findFriend.do?type=5?frompersonalbloghome" >
            找朋友
          </a>
        
    </div>
  </div>
                               
    <span style="display:none;margin-left:0;" class="fl iblock space icn1 icn1-4">&nbsp;</span>
    
    <div id="topbar_gachaArea" class="fl topbar_gachaArea">
        <a class="dlditm" rel="nofollow" target="_blank" hidefocus="true" href="http://gacha.163.com/discover/pic?tag=1&amp;utm_source=%E7%BD%91%E6%98%93%E5%8D%9A%E5%AE%A2%E5%B7%A6%E4%B8%8A%E8%A7%92%E6%96%87%E5%AD%97%E9%93%BE&amp;utm_campaign=%E7%BD%91%E6%98%93%E5%8D%9A%E5%AE%A2%E5%B7%A6%E4%B8%8A%E8%A7%92%E6%96%87%E5%AD%97%E9%93%BE">GACHA－紧身衣美少女诱惑<em></em></a>
        <div class="m-gachaWrap">
            <div class="clearfix part1">
                <a class="jximgwrap" target="_blank" href="http://gacha.163.com/detail/post/4c364a3237b7401eba6f0cfde387ca81"><img class="jximg" src="http://gacha.nosdn.127.net/d8fb8d2000014f0a813c08eb32b964ff.jpeg?imageView&amp;thumbnail=268y268&amp;type=jpg&amp;enlarge=1&amp;quality=100&amp;axis=0" /></a>
                <a class="jximgwrap" target="_blank" href="http://gacha.163.com/detail/post/7e6b0747e6a04c6bbe2cd25e754624f3"><img class="jximg" src="http://gacha.nosdn.127.net/ab75bea6a7614b2f986f2b83cc6f44a3.jpeg?imageView&amp;thumbnail=268y268&amp;type=jpg&amp;enlarge=1&amp;quality=100&amp;axis=0" /></a>
                
            </div>
            <div class="part2">
                <a class="moreimg" target="_blank" href="http://gacha.163.com/discover">更多美图&gt;</a>
            </div>
            <div class="part3">
                <img src="http://b.bst.126.net/newpage/images/gacha/erweima.png">
                <p>扫码下载</p>
            </div>
            <div class="part4">&nbsp;</div>
        </div>
        
    </div>
    
    
    <div id="topbar_lofterDldArea" class="fl topbar_lofterDldArea">
        <a class="dlditm" onclick="statistic4Lofter('qbbkxz_20160330_04')" rel="nofollow" target="_blank" hidefocus="true" href="http://www.lofter.com/tag/少女?act=qbbkdl_20160513_01">LOFTER-高清美女私房一网打尽<em></em></a>
        <div class="m-lofterWrap">
            <div class="clearfix part1">
                <a class="jximgwrap" target="_blank"><img class="jximg" /></a>
                <a class="jximgwrap" target="_blank"><img class="jximg" /></a>
            </div>
            <div class="part2">
                <a class="moreimg" target="_blank" href="http://www.lofter.com/view?from=blog">更多美图&gt;</a>
            </div>
            <div class="part3">
                <img src="http://b.bst.126.net/newpage/images/loftlayer/code2d.png">
                <p>扫码下载</p>
            </div>
            <div class="part4">&nbsp;</div>
        </div>
    </div>
    
    <div id="topbar_yxpArea" class="fl topbar_yxpArea">
        <a class="dlditm" rel="nofollow" target="_blank" hidefocus="true" href="http://yxp.163.com/store/goods/photobook/">印像派-定制照片书<em></em></a>
    </div>


    <div class="nbw-im fl im1 im seebyway"><a rel="nofollow" title="随便看看" class="lbl bd ima spy" href="http://blog.163.com/randomUser.do"><span>&nbsp;</span></a></div>

    <span style="display:none;" class="fl iblock space icn1 icn1-4">&nbsp;</span>
    <div id="topbar_randShowArea" class="fl" style="display:none;">
      <div class="nbw-im fl im1 im randtag phide"><a target="_blank" class="bd ima moveblog randshow" href="http://www.lofter.com/view?act=qbbkdlcsz_20160921_01&utm_source=163blog&utm_campaign=topbar-orange">颜值最高的图片社交社区</a></div>
    </div>
  </div>
  <div class="fr pr clearfix">

  <div id="" class="nbw-im fr im loginUserMenuArea">
    <a  class="lbl bd ia noul  loginUserMenu" href="http://blog.163.com/zwssd1980/" target="_blank" hidefocus="true"><span class="tx"><img id="loginUserIcon" class="loginUserIcon" src="http://os.blog.163.com/common/ava.s?host=zwssd1980&b=0&r=-1"></span><span class="iblock icn0 icn0-421">&nbsp;</span></a><div class="nbw-tcd box-shadow bd">
          <a   target="_blank"  class="itm noul  " hidefocus="true" href="http://zwssd1980.blog.163.com/blogBackendManage.do" >
            <span class="iblock mgblog">&nbsp;</span>日志管理
          </a>
          <a   target="_blank"  class="itm noul  " hidefocus="true" href="http://zwssd1980.blog.163.com/dress/" >
            <span class="iblock dsblog">&nbsp;</span>博客装扮
          </a>
          <a   target="_blank"  class="itm noul  " hidefocus="true" href="http://zwssd1980.blog.163.com/settings/" >
            <span class="iblock stblog">&nbsp;</span>博客设置
          </a>
        <div class="sep bd space">&nbsp;</div>
          <span class="itm noul nolink " hidefocus="true">
            zwssd1980@163.com
          </span>
          <a   target="_blank"  class="itm noul  " hidefocus="true" href="http://blog.163.com/mailLogin.do?username=zwssd1980@163.com" >
            网易邮箱(<span id="topbar_newEmailCount" class="newEmailCount">0</span>)
          </a>
          <a   target="_blank"  class="itm noul  " hidefocus="true" href="http://www.lofter.com/entry?from=blogcount&amp;logined=true" >
            LOFTER(<span id="topbar_newLofterCount" class="newLofterCount ">0</span>)
          </a>
        <div class="sep bd space">&nbsp;</div>
          <a   target="_blank"  class="itm noul  " hidefocus="true" href="http://fankui.163.com/ft/comment.fb?pid=5002" >
            意见反馈
          </a>
          <a  target="_self"  class="itm noul  " hidefocus="true" href="/exit.do?target=http://zwssd1980.blog.163.com/blog/" onclick="this.href='/exit.do?target='+location.href">
            退出登录
          </a>
        
    </div>
  </div>

      <span id="topbar_emailBoxArea" class=" fr fw1 ud ima imx">(
      <a class="noul" target="_blank" href="http://blog.163.com/mailLogin.do?username=zwssd1980@163.com"><span class="iblock icn0 icn0-123 cs">&nbsp;</span><span class="emailcount ztag">0</span></a>
      <a class="noul" target="_blank" href="http://t.163.com/?f=blogmsg"><span class="iblock imbcount cs">&nbsp;</span><span class="emailcount ztag">0</span></a>
      )</span>
        <div id="topbar_acountArea" class="fr account">
          <div class="accountwrap ztag">
            <div class="accountname fw1"><span class="iblock ztag"></span><span class="iblock lstbtn">&nbsp;</span></div>
            <div style="width:100px" class="guidelist nbw-tcd bd ztag">
                <a target="_blank" class="itm noul" href="http://reg.163.com/Main.jsp?username=zwssd1980@163.com">进入通行证</a>
                <a target="_blank" class="itm noul" href="http://blog.163.com/mailLogin.do?username=zwssd1980@163.com">进入我的邮箱</a>
                <a target="_blank" class="itm noul" href="http://blog.163.com/zwssd1980/">进入我的博客</a>
                <a target="_blank" class="itm noul" href="http://photo.163.com/?username=zwssd1980@163.com">进入我的相册</a>
                <a target="_blank" class="itm noul" href="http://reader.youdao.com/?keyfrom=163home">进入有道阅读</a>
                <a target="_blank" class="itm noul" href="http://t.163.com">进入我的微博</a>
            </div>
          </div>
        </div>
        <div id="topbar_welcomeArea" class="fr welcome"><span class="greet ztag"></span><a class="nickname m2a ztag" target="_blank" href="#"></a></div>
      <div id="topbar_messageBoxArea" class="nbw-im fr im9 msgbox js-nomsg-090">
        <a class="lbl bd ia" href="http://zwssd1980.blog.163.com/message/" hidefocus="true"><span class="tx ztag">消息</span>(<span class="msgcount fw1 ztag">0</span>)<span class="iblock icn0 icn0-421">&nbsp;</span></a>
        <div class="nbw-tcd box-shadow bd msg">
          <a class="itm noul" href="http://zwssd1980.blog.163.com/message/">短消息：<span class="mztag">0</span></a><a class="itm noul" href="http://zwssd1980.blog.163.com/message/?type=com">评论：<span class="mztag">0</span></a><a class="itm noul" href="http://zwssd1980.blog.163.com/message/?type=comReply">评论回复：<span class="mztag">0</span></a><a class="itm noul" href="http://zwssd1980.blog.163.com/message/?type=note">留言：<span class="mztag">0</span></a><a class="itm noul" href="http://zwssd1980.blog.163.com/message/?type=alert">通知：<span class="mztag">0</span></a>
        </div>
      </div>
      <div id="topbar_myLikesArea" class="nbw-im fr topbar_myLikesArea"  style="display:none"  >
	    <div id="likeanimate" class="f-myLikeIcons likeanimate"></div>
	    <a id="mylikelink" class="lbl bd ima myLikes fl" href="http://www.lofter.com/mentionredirect.do?blogId=&fromBlogToolbar" target="_blank"><span class="fl newpcticon">&nbsp;<em></em></span><span class="fl">我的喜欢</span></a>
	  </div>
      <div id="topbar_newPersonalCenterArea" class="nbw-im fr">
        <a href="http://zwssd1980.blog.163.com/manage/?fromBlogToolbar" class="lbl bd ima newPersonalCenter fl ztag"><span class="fl newpcticon">&nbsp;<em></em></span><span class="fl">个人中心</span></a>
      </div>

      <div id="topbar_goWriteBlogArea" class="nbw-im fr">
        <a target="_blank" href="http://zwssd1980.blog.163.com/getBlog.do?fromString=topbar" class="lbl bd ima gowriteblog fl ztag"><span class="fl writeicon">&nbsp;</span><span class="fl">写日志</span></a>
      </div>


  </div>
</div>
<script type="text/javascript">
  (function(){
      var e = document.getElementById('blog-163-com-main');
      if(!!e) e.parentNode.insertBefore(document.getElementById('blog-163-com-topbar'),e);
      e = document.getElementById('blog-notice-email');
      if(!!e) window.setTimeout(function(){e.style.display='';},50);
  })()
</script>


<script src="http://shared.ydstatic.com/js/yadk/1.1.1.js"></script>

<!-- @NOPARSE -->
<script src="http://webzj.reg.163.com/webapp/javascript/page/json3.js"></script>
<script type="text/javascript" src="http://webzj.reg.163.com/webapp/javascript/message.js"></script>
<!-- /@NOPARSE -->

<div id="blogtoptips-yitou" class="blogtoptips blogtoptips-yitou phide">
</div>

<div class="blogtoptips phide" id="blog-163-com-toptips">
 <div class="blogtoptipswrap">
  <div id="newbulletinstip" class="newbulletinstip phide">
    <a class="lnknews fc03 m2a tiptag phide" href="" target="_blank"></a><span class="txtnews tiptag phide"></span>&nbsp;&nbsp;&nbsp;<a class="fc03 ul nextorprevnews tiptag phide" href="" hidefocus="true">显示下一条</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a class="fc03 ul close tiptag" href="" hidefocus="true">关闭</a>
  </div>
 </div>
 	<div id="sinaoauthtip" class="sinaoauthtip phide">
    	<span style="">温馨提示！由于新浪微博认证机制调整，您的新浪微博帐号绑定已过期，请重新绑定！</span><a rel="nofollow" class="fc03 noul iblock" href="http://zwssd1980.blog.163.com/settings/?fromnewcenter#m=6">立即重新绑定新浪微博》</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a class="fc03 iblock close" href="">关闭</a>
  	</div>
    <div id="$_faxiantip" class="faxiantip phide">
      <div>
	    <a class="m2a iblock" href="http://blog.163.com/public/explore/?fromblogbanner" target="_blank"></a>
	    <span class="faxiantag m2a"></span>
      </div>
    </div>
    <div id="$_guanggaotip" class="guanggaotip phide">
      <div>
	    <a class="m2a iblock" href="http://zwssd1980.blog.163.com/settings/#m=7&fromblogbanner" target="_blank"></a>
	    <span class="guanggaotag m2a"></span>
      </div>
    </div>
    <div id="$_lofterInviteTip" class="lofterInviteTip phide">
      <div>
	    <a class="m2a iblock" href="http://www.lofter.com/invite/163blog/?email=zwssd1980@163.com" target="_blank"></a>
	    <span class="lofterInviteTag m2a"></span>
      </div>
    </div>
</div>  <div class="nb-wrap wsy" id="blog-163-com-main"><div class="nb-are nb-top">
  <div class="wkg h" id="blog-163-com-banner">
    
    <div class="t">
      <h1 class="n c"><span class="ztag pre">伟的博客</span><span class="c space"><span class="e fc03 pnt">[编辑]</span></span></h1>
      <p class="d c"><span class="ztag pre">生活、技术、点点滴滴(其实我挺聪明的，就是人有点傻)</span><span class="c space"><span class="e fc03 pnt">[编辑]</span></span></p>
    </div>
    <div class="f h ztag"></div>
    <a class="x" hidefocus="true" target="_blank" href="#"><span class="xx ztag"></span></a>
  </div>
</div><div class="nb-are nb-nav">
  <div class="wkg">
    <div class="c h">
      <h2>导航</h2>
      <ul class="noul clearfix">
                
	        <li class="w w0">
	          <a class="i i0 fc01 h" hidefocus="true" href="http://zwssd1980.blog.163.com/">首页</a>
	        </li>
	        <li class="w w1 selected">
	          <a class="i i1 fc01 h" hidefocus="true" href="http://zwssd1980.blog.163.com/blog/">日志</a>
	        </li>
	        <li class="w w9">
	          <a class="i i9 fc01 h" hidefocus="true" href="http://zwssd1980.blog.163.com/loftarchive/">LOFTER</a>
	        </li>
	        <li class="w w2">
	          <a class="i i2 fc01 h" hidefocus="true" href="http://zwssd1980.blog.163.com/album/">相册</a>
	        </li>
	        <li class="w w3">
	          <a class="i i3 fc01 h" hidefocus="true" href="http://zwssd1980.blog.163.com/music/">音乐</a>
	        </li>
	        <li class="w w4">
	          <a class="i i4 fc01 h" hidefocus="true" href="http://zwssd1980.blog.163.com/collection/">收藏</a>
	        </li>
	        <li class="w w5">
	          <a class="i i5 fc01 h" hidefocus="true" href="http://zwssd1980.blog.163.com/friends/">博友</a>
	        </li>
	        <li class="w w6">
	          <a class="i i6 fc01 h" hidefocus="true" href="http://zwssd1980.blog.163.com/profile/">关于我</a>
	        </li>
      </ul><!--
 --></div>
    <div class="l h">&nbsp;</div>
    <div class="r h">&nbsp;</div>
  </div>
</div>  <div class="nb-are nb-smt"><div class="wkg h space"><div class="l h">&nbsp;</div><div class="r h">&nbsp;</div><div class="c h">&nbsp;</div></div></div>
  <div class="nb-are nb-cnt">
    <div class="wkg">
  <div class="nbw-ban" >
    <div class="img icn1 icn1-5">&nbsp;</div>
    <div class="cnt " id="blog-163-com-bantip">
由于您的博客内含有违规内容，已违反互联网信息服务管理办法有关条例，目前帐号已被封禁。<br/>请尽快删除相关内容，处理完毕后，<a class="ul" target="_blank" href="http://blog.163.com/unblock.do?u=3029649">可在此点击申请解封</a>。    </div>
  </div>
  <script type="text/javascript">
    function showTip(){document.getElementById('blog-163-com-bantip').parentNode.style.display = 'block';}
    function showTipOutLink(){document.getElementById('blog-163-com-pban').style.display='none';document.getElementById('blog-163-com-poutban').style.display='block';document.getElementById('blog-163-com-bantip').parentNode.style.display = 'block';}
    function refreshTip(){var e=document.getElementById('blog-163-com-bantip');e.className='js-single-100';e.innerHTML='您已成功提交解封申请，您的博客目前还处于封禁状态，我们会尽快为您处理，请耐心等待。';}
  </script>
      <div class="c wc h clearfix " id="blog-163-com-container">

  <div class="nb-mdl lcr m-3 " id="-3">
  <div class="nb-mt lcr th fc02">
    <div class="c tc th lcr"><h2 class="thide nb-jsc mdl_t_t">日志</h2></div>
    <div class="r tm th nb-jsc"></div>
    <div class="l tl th">&nbsp;</div>
    <div class="r tr th">&nbsp;</div>
  </div>
    <div class="nb-mc lcr">
      <div class="c cc lcr nb-jsc">
<script>
function g_onSuggestedReadingImgLoad(_img){
    var image = new Image();
    image.src = _img.src;
    var _width = 90;
    var _height = 90;
    if(image.width > image.height){
    	_img.style.marginLeft = -Math.floor((image.width*(_height/image.height)-_width)/2)+'px';
    	_img.style.height = _height+'px';
    }else {
    	_img.style.width = _width+'px';
    	_img.style.marginTop = -Math.floor((image.height*(_width/image.width)-_height)/2)+'px';
    }
    _img.style.display = 'block';
}
</script>
<div class="nbw-ryt ztag clearfix ">
  <div class="right bdwl bds0 bdc0">
    <div class="cnt ztag">
    <div class="g-rsidebar">
        <div class="m-aboutme">
            <div class="ttlbar fc06 bdwb bdc0 bds0">关于我</div>
            <a class="avatar" href="http://zwssd1980.blog.163.com/" target="_blank" hidefocus="true" >
                <img id="rsavatarimg" src="http://os.blog.163.com/common/ava.s?b=1&host=zwssd1980">
            </a>
            <div class="nick fc03">
                 <a href="http://zwssd1980.blog.163.com/" target="_blank" hidefocus="true" >davidjory</a>
                 
            </div>
        </div>
        
        <div class="m-rtopad">
            <a href="#" target="_blank" hidefocus="true"><img style="border:none;" id="righttopadimg" /></a>
            <iframe marginwidth="0" marginheight="0" id="rtop_iframe" style="display:none;" width="240" height="240" frameborder="0" scrolling="no" allowtransparency="true"></iframe>
        </div>
        
        <div class="m-blogclasses">
            <div class="ttlbar fc06 bdwb bdc0 bds0">文章分类</div>
            <ul>
                    <li><a class="fc05" href="http://zwssd1980.blog.163.com/blog/#m=0&t=1&c=fks_084074080082083069084083083095087086083074082082095" target="_blank" hidefocus="true"><span class="iblock dot">・</span>kturtle（1）</a></li>
                    <li><a class="fc05" href="http://zwssd1980.blog.163.com/blog/#m=0&t=1&c=fks_084064087094083065084083087095087086083074082082095" target="_blank" hidefocus="true"><span class="iblock dot">・</span>无谓的科学（1）</a></li>
                    <li><a class="fc05" href="http://zwssd1980.blog.163.com/blog/#m=0&t=1&c=fks_084065092083085071084094080095087086083074082082095" target="_blank" hidefocus="true"><span class="iblock dot">・</span>旅游（1）</a></li>
                    <li><a class="fc05" href="http://zwssd1980.blog.163.com/blog/#m=0&t=1&c=fks_084065087087088075085086086095087086083074082082095" target="_blank" hidefocus="true"><span class="iblock dot">・</span>flash（1）</a></li>
                    <li><a class="fc05" href="http://zwssd1980.blog.163.com/blog/#m=0&t=1&c=fks_084065087087088075084095083095087086083074082082095" target="_blank" hidefocus="true"><span class="iblock dot">・</span>财经（3）</a></li>
                    <li><a class="fc05" href="http://zwssd1980.blog.163.com/blog/#m=0&t=1&c=fks_084065087087088075084095082095087086083074082082095" target="_blank" hidefocus="true"><span class="iblock dot">・</span>ipod&amp;iphone（1）</a></li>
                    <li><a class="fc05" href="http://zwssd1980.blog.163.com/blog/#m=0&t=1&c=fks_084065087087088075084081095095087086083074082082095" target="_blank" hidefocus="true"><span class="iblock dot">・</span>音乐（1）</a></li>
                    <li><a class="fc05" href="http://zwssd1980.blog.163.com/blog/#m=0&t=1&c=fks_084065087086088066085081095095087086083074082082095" target="_blank" hidefocus="true"><span class="iblock dot">・</span>教育（2）</a></li>
                        <li><a class="fc05" href="http://zwssd1980.blog.163.com/blog/#m=0" target="_blank" hidefocus="true"><span class="iblock dot">・</span>更多 &gt;</a></li>
            </ul>
        </div>
        <div id="r_mlofteriframe" class="m-lofteriframe">
            <div class="ttlbar fc06 bdwb bdc0 bds0"><a hidefocus="true" style="display:none;float:left;margin-left:12px;color:#ff0000;font-size:12px;text-decoration:none;" target="_blank" href="http://www.lofter.com/?act=qbbokejingxuan_20150109_03&newloginentry=1">注册免费冲印20张照片</a><span>LOFTER精选</span></div>
            <iframe id="r_lofteriframe" width="240" height="745" frameborder="0" border="0" scrolling="no" marginheight="0" marginwidth="0" allowtransparency="true"></iframe>
            
            <div class="btlink" style="height:20px;line-height:20px;padding:10px 0 0 12px;"><a target="_blank" href="http://www.lofter.com/?act=qbbokejingxuan_20150109_03&newloginentry=1" hidefocus="true" class="fc03" style="font-size:14px;text-decoration:none;">注册免费冲印20张照片 &gt;</a></div>
            
        </div>
        <div id="r_mkaolaadv" class="m-kaolaadv">
            <div class="ttlbar fc06 bdwb bdc0 bds0">网易考拉推荐</div>
            <iframe width="240" height="275" marginheight="0" marginwidth="0" frameborder="0" scrolling="no" border="0" allowtransparency="true" src="http://g.163.com/r?site=netease&affiliate=blog&cat=detail&type=kl_240x275&location=1"></iframe>
            
        </div>
        
        <div id="r_m163news" class="m-163news"></div>
        
        
        <div class="m-rbottomad">
            <a href="#" target="_blank" hidefocus="true"><img style="border:none;" id="rightbottomadimg" /></a>
            <iframe marginwidth="0" marginheight="0" id="rbottom_iframe" style="display:none;" width="240" height="240" frameborder="0" scrolling="no" allowtransparency="true"></iframe>
        </div>
        
        <div id="r_fixedNodesWrap" class="fixedNodesWrap"><div id="r_fixedNodesCnt" class="fixedNodesCnt f-trans"></div></div>
    </div>
    </div>
  </div>
  <div class="left">
       <div class="uperbox">&nbsp;</div>
       <div class="downbox">&nbsp;</div>
     <div class="lcnt bdwr bds0 bdc0 ">
      <div id="$_newOldBlogLinkTopDiv" class='top fc03 bdwb bdc0 bds2 clearfix'>
     </div>
     <div class="mcnt ztag">
      <div class="nbw-bitm bdwb bds2 bdc0 ">
        <div class="multicntwrap">
	      <div class="multicnt">
	      	<div>
		      <h3 class="title pre fs1"><span class="tcnt">一起来写2048(160行python代码)</span>&nbsp;&nbsp;<span class="bgc0 fc07 fw0 fs0"></span></h3>
		      <p class="tdep clearfix nbw-act fc06" style="line-height:20px;">
		        <span class="pleft">
		          
		          <span class="blogsep">2015-08-14 09:05:12</span><span class="blogsep">|&nbsp;&nbsp;分类：</span>
		          <a class="fc03 m2a" href="http://zwssd1980.blog.163.com/blog/#m=0&t=1&c=fks_084065087087081075085085085095087086083074082082095" title="python">python</a>
		          <span class="blogsep phide" id="$_blogTagTitle">|&nbsp;&nbsp;标签：</span><span class="fc03 phide" id="$_blogTagInfo"></span>
		        </span>
		        <span class="pright fc07 ztag"><span class="zihao fc03" id="$_fontswitch">字号<span class="zihaoshow  phide" id="$_fontsTypes"><span class="zihaoc bdc0"><span class="stag"></span><span class="fc04 stag">大</span><span  class="fc04 stag" >中</span><span  class="fc04 stag">小</span></span></span></span></span>
		      </p>
		    </div>
	      </div>
	      
	      <div class="m-shareAndDownLoad">
              <div class="share-wrap pleft">
                <span id="$_shareBtn_lofter2" title="分享到LOFTER" class="shareitm lofter f-bkicons">&nbsp;</span>
                <span id="$_shareBtn_sinaweibo2" title="分享到新浪微博" class="shareitm sinawb f-bkicons">&nbsp;</span>
                <span id="$_shareBtn_qq2" title="分享到QQ空间" class="shareitm qqzone f-bkicons">&nbsp;</span>
                <span id="$_shareBtn_qqweibo2" title="分享到腾讯微博" class="shareitm qqweibo f-bkicons">&nbsp;</span>
                <div id="$_shareBtn_weixin2" title="分享到微信" class="shareitm weixin f-bkicons">
<div class="code2dimlayer fc06">
    <img src="http://blog.163.com/bitMaxImageGen.do?url=http://zwssd1980.blog.163.com/blog/static/302964920157149512717&w=100&h=100&act=qbbkfxtj_20150420_05">
    <div class="tips">
        <p>用微信&nbsp;&nbsp;“扫一扫”</p>
        <p>将文章分享到朋友圈。</p>
    </div>
    <a class="close">&nbsp;</a>
</div>
                </div>
                <div id="$_shareBtn_yixin2" title="分享到易信" class="shareitm yixin f-bkicons">
<div class="code2dimlayer fc06">
    <img src="http://blog.163.com/bitMaxImageGen.do?url=http://zwssd1980.blog.163.com/blog/static/302964920157149512717&w=100&h=100&act=qbbkfxtj_20150420_06">
    <div class="tips">
        <p>用易信&nbsp;&nbsp;“扫一扫”</p>
        <p>将文章分享到朋友圈。</p>
    </div>
    <a class="close">&nbsp;</a>
</div>
                </div>
              </div>
              <a class="pright fc03 noul" target="_blank" href="http://www.lofter.com/app?act=qbbkrzydb_20150408_01">&nbsp;&nbsp;下载LOFTER</a>
              <a class="pright fc03 noul" target="_blank" href="http://yxp.163.com">我的照片书&nbsp;&nbsp;|</a>
          </div>
          
        </div>

        <div>
        
        </div>

        <div class="nbw-blog-start"></div>
        <div class="bct fc05 fc11 nbw-blog ztag"><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >来到这里，我假设大家都玩过2048了，于是我们先分析一下怎么来写一个简单的2048？回想一下，游戏的过程是很简单的：</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong style="text-indent: 0px;"   >开始===&gt;(&nbsp; 进行操作(上下左右)===&gt;矩阵移动===&gt;数字合并===&gt;计分&nbsp; )===&gt;退出</strong></p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >括号内就是游戏的进行过程了，我们退出大概就是两个：1.出现2048,胜利退出 2.无法合并同时无法出现新数（是且的关系）</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >懂得这个运行过程后，我们就一步步来写，整个过程也不会难，哪怕你跟我一样基本是&nbsp;<strong style="text-indent: 0px;"   >新手&nbsp;</strong>。</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >先看看简略图，看起来虽然真的很朴素，但是爱美的你，可以在看完我的程序后自己美化。</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   ><img title="一起来写2048(160行python代码) - davidjory - 伟的博客"   src="http://img2.tuicool.com/y2aIR3.jpg"   alt=""   style="max-width: 550px; height: auto; vertical-align: middle; border-style: none; text-align: center; margin: 0px auto; display: block;"   ><br></p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   ><strong style="text-indent: 0px;"   >储存结构：&nbsp;</strong>列表，其中包括二维矩阵列表，即所谓的mtr[4][4],以及栈，栈是用于退回，如果大家不想要这个功能可以直接忽略。</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >我们的变量定义：</p><pre style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);"   ><span>declare = <span><span style="color: rgb(221, 17, 68);"   >"←：a/h  ↓: s/j ↑: w/k →: d/l ,q(uit),b(ack)"</span></span></span>
<span>illegal = <span><span style="color: rgb(221, 17, 68);"   >"Illegal operation!"</span></span></span>
<span>noefficient = <span><span style="color: rgb(221, 17, 68);"   >"This move has no efficient"</span></span></span>
<span>score = <span><span style="color: rgb(0, 153, 153);"   >0</span></span></span>
<span>step = <span><span style="color: rgb(0, 153, 153);"   >0</span></span></span>
<span>mtr = <span>init()  # init the matrix</span></span>
<span>mtr_stk = <span>[]  # use step for back</span></span>
<span>scr_stk = <span>[]</span></span></pre><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   >稍微解释一下： declare是解释操作提示，自己喜欢怎么写就怎么写～</span><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; illegal是我们输入非正常操作提示,，可以省略</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; noefficient是我们往这个方向没效果，也可以省略～</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; score是得分，step是走了多少步，</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mtr是我们的二维方阵，</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mtr_stk，scr_stk是储存栈，用于后退功能,如果不要后退，还是可以省略～&nbsp;<br></p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   ><strong style="text-indent: 0px;"   >算法实现：&nbsp;</strong><br></p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >&nbsp;・「注：其实没有算法可言....更准确叫函数实现。」</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   ><strong style="text-indent: 0px;"   >（1）.在我们这个没有界面的2048中，我们只能用制表符啦，所以我们需要一个display函数。</strong></p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >&nbsp;这是一个非常简单的事情，跟C语言的printf基本一致, 像如下代码，基本就能绘制出一个&nbsp;<strong style="text-indent: 0px;"   >固定数字&nbsp;</strong>的表格了。&nbsp;<br></p><pre style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);"   ><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"┌"</span>+(<span style="color: rgb(221, 17, 68);"   >"─"</span><span style="color: rgb(0, 128, 128);"   >*5</span>+<span style="color: rgb(221, 17, 68);"   >"┬"</span>)<span style="color: rgb(0, 128, 128);"   >*3</span>+<span style="color: rgb(221, 17, 68);"   >"─"</span><span style="color: rgb(0, 128, 128);"   >*5</span>+<span style="color: rgb(221, 17, 68);"   >"┐"</span>
<span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"│<span style="color: rgb(0, 128, 128);"   >%4d</span> │<span style="color: rgb(0, 128, 128);"   >%4d</span> │<span style="color: rgb(0, 128, 128);"   >%4d</span> │<span style="color: rgb(0, 128, 128);"   >%4d</span> │"</span><span style="color: rgb(0, 128, 128);"   >%(</span><span style="color: rgb(0, 153, 153);"   >1</span>,<span style="color: rgb(0, 153, 153);"   >2048</span>,<span style="color: rgb(0, 153, 153);"   >25</span>,<span style="color: rgb(0, 153, 153);"   >4</span>)
<span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"├"</span>+(<span style="color: rgb(221, 17, 68);"   >"─"</span><span style="color: rgb(0, 128, 128);"   >*5</span>+<span style="color: rgb(221, 17, 68);"   >"┼"</span>)<span style="color: rgb(0, 128, 128);"   >*3</span>+<span style="color: rgb(221, 17, 68);"   >"─"</span><span style="color: rgb(0, 128, 128);"   >*5</span>+<span style="color: rgb(221, 17, 68);"   >"┤"</span>
<span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"│<span style="color: rgb(0, 128, 128);"   >%4d</span> │<span style="color: rgb(0, 128, 128);"   >%4d</span> │<span style="color: rgb(0, 128, 128);"   >%4d</span> │<span style="color: rgb(0, 128, 128);"   >%4d</span> │"</span><span style="color: rgb(0, 128, 128);"   >%(</span><span style="color: rgb(0, 153, 153);"   >1</span>,<span style="color: rgb(0, 153, 153);"   >2048</span>,<span style="color: rgb(0, 153, 153);"   >25</span>,<span style="color: rgb(0, 153, 153);"   >4</span>)
<span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"├"</span>+(<span style="color: rgb(221, 17, 68);"   >"─"</span><span style="color: rgb(0, 128, 128);"   >*5</span>+<span style="color: rgb(221, 17, 68);"   >"┼"</span>)<span style="color: rgb(0, 128, 128);"   >*3</span>+<span style="color: rgb(221, 17, 68);"   >"─"</span><span style="color: rgb(0, 128, 128);"   >*5</span>+<span style="color: rgb(221, 17, 68);"   >"┤"</span>
<span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"│<span style="color: rgb(0, 128, 128);"   >%4d</span> │<span style="color: rgb(0, 128, 128);"   >%4d</span> │<span style="color: rgb(0, 128, 128);"   >%4d</span> │<span style="color: rgb(0, 128, 128);"   >%4d</span> │"</span><span style="color: rgb(0, 128, 128);"   >%(</span><span style="color: rgb(0, 153, 153);"   >1</span>,<span style="color: rgb(0, 153, 153);"   >2048</span>,<span style="color: rgb(0, 153, 153);"   >25</span>,<span style="color: rgb(0, 153, 153);"   >4</span>)
<span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"├"</span>+(<span style="color: rgb(221, 17, 68);"   >"─"</span><span style="color: rgb(0, 128, 128);"   >*5</span>+<span style="color: rgb(221, 17, 68);"   >"┼"</span>)<span style="color: rgb(0, 128, 128);"   >*3</span>+<span style="color: rgb(221, 17, 68);"   >"─"</span><span style="color: rgb(0, 128, 128);"   >*5</span>+<span style="color: rgb(221, 17, 68);"   >"┤"</span>
<span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"│<span style="color: rgb(0, 128, 128);"   >%4d</span> │<span style="color: rgb(0, 128, 128);"   >%4d</span> │<span style="color: rgb(0, 128, 128);"   >%4d</span> │<span style="color: rgb(0, 128, 128);"   >%4d</span> │"</span><span style="color: rgb(0, 128, 128);"   >%(</span><span style="color: rgb(0, 153, 153);"   >1</span>,<span style="color: rgb(0, 153, 153);"   >2048</span>,<span style="color: rgb(0, 153, 153);"   >25</span>,<span style="color: rgb(0, 153, 153);"   >4</span>)
<span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"└"</span>+(<span style="color: rgb(221, 17, 68);"   >"─"</span><span style="color: rgb(0, 128, 128);"   >*5</span>+<span style="color: rgb(221, 17, 68);"   >"┴"</span>)<span style="color: rgb(0, 128, 128);"   >*3</span>+<span style="color: rgb(221, 17, 68);"   >"─"</span><span style="color: rgb(0, 128, 128);"   >*5</span>+<span style="color: rgb(221, 17, 68);"   >"┘"</span></pre><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   >但是我们需要的是将固定的数字变成我们矩阵mtr的数字。</span><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >另外可以，注意到一点，数字输出的形式是固定的，表格边线，只有交叉点是不同，其他是0。而交叉点有五个，我们可以走循环（觉得麻烦可以直接忽略）</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >为了美观，我们&nbsp;<strong style="text-indent: 0px;"   >不将0输出</strong>&nbsp;，所以我们输出时候选择的是字符串即%s,这样，我们遇到0,就可以输出' ',其他直接输出。</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >我们可以用python的&nbsp;<strong style="text-indent: 0px;"   >三目运算符号</strong></p><pre style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);"   ><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"<span style="color: rgb(0, 128, 128);"   >%4s</span> "</span> <span style="color: rgb(0, 128, 128);"   >%(</span>mtr[i][j] <span style="font-weight: bold;"   >if</span> mtr[i][j] <span style="font-weight: bold;"   >else</span> <span style="color: rgb(221, 17, 68);"   >' '</span>)</pre><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   >所以我们的绘制表格写成这样子：&nbsp;</span><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   >最直接的方法！</span><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   ></span><pre style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);"   >def T(a):
    <span style="font-weight: bold;"   >return</span> a <span style="font-weight: bold;"   >if</span> a <span style="font-weight: bold;"   >else</span> <span style="color: rgb(221, 17, 68);"   >' '</span>
def display(mtr):
<span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"┌"</span>+(<span style="color: rgb(221, 17, 68);"   >"─"</span><span style="color: rgb(0, 128, 128);"   >*5</span>+<span style="color: rgb(221, 17, 68);"   >"┬"</span>)<span style="color: rgb(0, 128, 128);"   >*3</span>+<span style="color: rgb(221, 17, 68);"   >"─"</span><span style="color: rgb(0, 128, 128);"   >*5</span>+<span style="color: rgb(221, 17, 68);"   >"┐"</span>
<span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"│<span style="color: rgb(0, 128, 128);"   >%4s</span> │<span style="color: rgb(0, 128, 128);"   >%4s</span> │<span style="color: rgb(0, 128, 128);"   >%4s</span> │<span style="color: rgb(0, 128, 128);"   >%4s</span> │"</span><span style="color: rgb(0, 128, 128);"   >%(</span>T(mtr[<span style="color: rgb(0, 153, 153);"   >0</span>][<span style="color: rgb(0, 153, 153);"   >0</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >0</span>][<span style="color: rgb(0, 153, 153);"   >1</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >0</span>][<span style="color: rgb(0, 153, 153);"   >2</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >0</span>][<span style="color: rgb(0, 153, 153);"   >3</span>]))
<span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"├"</span>+(<span style="color: rgb(221, 17, 68);"   >"─"</span><span style="color: rgb(0, 128, 128);"   >*5</span>+<span style="color: rgb(221, 17, 68);"   >"┼"</span>)<span style="color: rgb(0, 128, 128);"   >*3</span>+<span style="color: rgb(221, 17, 68);"   >"─"</span><span style="color: rgb(0, 128, 128);"   >*5</span>+<span style="color: rgb(221, 17, 68);"   >"┤"</span>
<span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"│<span style="color: rgb(0, 128, 128);"   >%4s</span> │<span style="color: rgb(0, 128, 128);"   >%4s</span> │<span style="color: rgb(0, 128, 128);"   >%4s</span> │<span style="color: rgb(0, 128, 128);"   >%4s</span> │"</span><span style="color: rgb(0, 128, 128);"   >%(</span>T(mtr[<span style="color: rgb(0, 153, 153);"   >1</span>][<span style="color: rgb(0, 153, 153);"   >0</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >1</span>][<span style="color: rgb(0, 153, 153);"   >1</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >1</span>][<span style="color: rgb(0, 153, 153);"   >2</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >1</span>][<span style="color: rgb(0, 153, 153);"   >3</span>]))
<span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"├"</span>+(<span style="color: rgb(221, 17, 68);"   >"─"</span><span style="color: rgb(0, 128, 128);"   >*5</span>+<span style="color: rgb(221, 17, 68);"   >"┼"</span>)<span style="color: rgb(0, 128, 128);"   >*3</span>+<span style="color: rgb(221, 17, 68);"   >"─"</span><span style="color: rgb(0, 128, 128);"   >*5</span>+<span style="color: rgb(221, 17, 68);"   >"┤"</span>
<span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"│<span style="color: rgb(0, 128, 128);"   >%4s</span> │<span style="color: rgb(0, 128, 128);"   >%4s</span> │<span style="color: rgb(0, 128, 128);"   >%4s</span> │<span style="color: rgb(0, 128, 128);"   >%4s</span> │"</span><span style="color: rgb(0, 128, 128);"   >%(</span>T(mtr[<span style="color: rgb(0, 153, 153);"   >2</span>][<span style="color: rgb(0, 153, 153);"   >0</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >2</span>][<span style="color: rgb(0, 153, 153);"   >1</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >2</span>][<span style="color: rgb(0, 153, 153);"   >2</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >2</span>][<span style="color: rgb(0, 153, 153);"   >3</span>]))
<span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"├"</span>+(<span style="color: rgb(221, 17, 68);"   >"─"</span><span style="color: rgb(0, 128, 128);"   >*5</span>+<span style="color: rgb(221, 17, 68);"   >"┼"</span>)<span style="color: rgb(0, 128, 128);"   >*3</span>+<span style="color: rgb(221, 17, 68);"   >"─"</span><span style="color: rgb(0, 128, 128);"   >*5</span>+<span style="color: rgb(221, 17, 68);"   >"┤"</span>
<span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"│<span style="color: rgb(0, 128, 128);"   >%4s</span> │<span style="color: rgb(0, 128, 128);"   >%4s</span> │<span style="color: rgb(0, 128, 128);"   >%4s</span> │<span style="color: rgb(0, 128, 128);"   >%4s</span> │"</span><span style="color: rgb(0, 128, 128);"   >%(</span>T(mtr[<span style="color: rgb(0, 153, 153);"   >3</span>][<span style="color: rgb(0, 153, 153);"   >0</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >3</span>][<span style="color: rgb(0, 153, 153);"   >1</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >3</span>][<span style="color: rgb(0, 153, 153);"   >2</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >3</span>][<span style="color: rgb(0, 153, 153);"   >3</span>]))
<span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"└"</span>+(<span style="color: rgb(221, 17, 68);"   >"─"</span><span style="color: rgb(0, 128, 128);"   >*5</span>+<span style="color: rgb(221, 17, 68);"   >"┴"</span>)<span style="color: rgb(0, 128, 128);"   >*3</span>+<span style="color: rgb(221, 17, 68);"   >"─"</span><span style="color: rgb(0, 128, 128);"   >*5</span>+<span style="color: rgb(221, 17, 68);"   >"┘"</span></pre><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   >如果&nbsp;</span><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   >走循环</span><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   >&nbsp;可以这样写：就是枚举交叉点情况。</span><pre style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);"   ><span><span style="font-weight: bold;"   >def</span> <span style="color: rgb(153, 0, 0); font-weight: bold;"   >display</span><span>(mtrx)</span>:</span> <span style="color: rgb(153, 153, 136); font-style: italic;"   >#output function</span>
<span>  </span>a = (<span style="color: rgb(221, 17, 68);"   >"┌"</span>, <span style="color: rgb(221, 17, 68);"   >"├"</span>, <span style="color: rgb(221, 17, 68);"   >"├"</span>, <span style="color: rgb(221, 17, 68);"   >"├"</span>, <span style="color: rgb(221, 17, 68);"   >"└"</span>)
<span>  </span>b = (<span style="color: rgb(221, 17, 68);"   >"┬"</span>, <span style="color: rgb(221, 17, 68);"   >"┼"</span>, <span style="color: rgb(221, 17, 68);"   >"┼"</span>, <span style="color: rgb(221, 17, 68);"   >"┼"</span>, <span style="color: rgb(221, 17, 68);"   >"┴"</span>)
<span>  </span>c = (<span style="color: rgb(221, 17, 68);"   >"┐"</span>, <span style="color: rgb(221, 17, 68);"   >"┤"</span>, <span style="color: rgb(221, 17, 68);"   >"┤"</span>, <span style="color: rgb(221, 17, 68);"   >"┤"</span>, <span style="color: rgb(221, 17, 68);"   >"┘"</span>)
<span>  </span><span style="font-weight: bold;"   >for</span> i <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span style="font-weight: bold;"   >print</span> a[i] + (<span style="color: rgb(221, 17, 68);"   >"─"</span> * <span style="color: rgb(0, 153, 153);"   >5</span> + b[i]) * <span style="color: rgb(0, 153, 153);"   >3</span> + (<span style="color: rgb(221, 17, 68);"   >"─"</span> * <span style="color: rgb(0, 153, 153);"   >5</span> + c[i])
<span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> j <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"│%4s"</span> % (mtrx[i][j] <span style="font-weight: bold;"   >if</span> mtrx[i][j] <span style="font-weight: bold;"   >else</span> <span style="color: rgb(221, 17, 68);"   >' '</span>),
<span>  </span><span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"│"</span>
<span>  </span><span style="font-weight: bold;"   >print</span> a[<span style="color: rgb(0, 153, 153);"   >4</span>] + (<span style="color: rgb(221, 17, 68);"   >"─"</span> * <span style="color: rgb(0, 153, 153);"   >5</span> + b[<span style="color: rgb(0, 153, 153);"   >4</span>]) * <span style="color: rgb(0, 153, 153);"   >3</span> + (<span style="color: rgb(221, 17, 68);"   >"─"</span> * <span style="color: rgb(0, 153, 153);"   >5</span> + c[<span style="color: rgb(0, 153, 153);"   >4</span>])</pre><strong style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   >（2）有了表格雏形，我们需要对矩阵进行初始化，then,我们就可以看到一个像模像样的2048开始啦！</strong><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   ></span><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >初始化矩阵是非常简单的，我们在矩阵中选两个不同位置，设置为2其他为0即可。</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >先设置为0(没有memset，r(st)q)</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >但是这样就可以啦：(看不惯？没关系，非常容易理解，慢慢习惯吧！)</p><pre style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);"   >mtr = [[0 <span style="font-weight: bold;"   >for</span> i <span style="font-weight: bold;"   >in</span> range(4)] <span style="font-weight: bold;"   >for</span> j <span style="font-weight: bold;"   >in</span> range(4)]</pre><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >我们选的位置是采取随机的，要保证不同，方法很多，但是我们python的random.sample就非常棒了！</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >我们用简单的一句</p><pre style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);"   ><span>ran_pos = <span>random.sample(range(<span style="color: rgb(0, 153, 153);"   >16</span>), <span style="color: rgb(0, 153, 153);"   >2</span>)</span></span></pre><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   >便可以得到一个由两个不同组成的片段</span><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >之后我们通过 4*i+j 进行二维到一维的映射，同样也用（ num/4 ，num%4）进行一维到二维的映射</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >所以我们初始话的过程也是十分简单。(要是偷懒，也可以直接忽略随机过程，自己指定吧！哈哈)</p><pre style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);"   ><span><span style="font-weight: bold;"   >def</span> <span style="color: rgb(153, 0, 0); font-weight: bold;"   >init</span><span>()</span>:</span> <span style="color: rgb(153, 153, 136); font-style: italic;"   >#initial of matrix</span>
    mtr = [[<span style="color: rgb(0, 153, 153);"   >0</span> <span style="font-weight: bold;"   >for</span> i <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>)] <span style="font-weight: bold;"   >for</span> j <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>)]  
    ran_pos = random.sample(range(<span style="color: rgb(0, 153, 153);"   >16</span>), <span style="color: rgb(0, 153, 153);"   >2</span>)
    mtr[ran_pos[<span style="color: rgb(0, 153, 153);"   >0</span>]/<span style="color: rgb(0, 153, 153);"   >4</span>][ran_pos[<span style="color: rgb(0, 153, 153);"   >0</span>]%<span style="color: rgb(0, 153, 153);"   >4</span>] = mtr[ran_pos[<span style="color: rgb(0, 153, 153);"   >1</span>]/<span style="color: rgb(0, 153, 153);"   >4</span>][ran_pos[<span style="color: rgb(0, 153, 153);"   >1</span>]%<span style="color: rgb(0, 153, 153);"   >4</span>] = <span style="color: rgb(0, 153, 153);"   >2</span>
    <span style="font-weight: bold;"   >return</span> mtr</pre><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   >怎么样？2048有2个2啦！！！O(∩_∩)O哈哈~&nbsp;</span><br style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   ><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   ><strong style="text-indent: 0px;"   >(3)动起来！！让我们的2048动起来！&nbsp;</strong><br>老实说，这个过程是全个程序最核心的部分，也是最难过的～不过理解了也就不难了。</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >我们先看向左移动吧。</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >记得我们玩的时候，合并过的格子是不会再在这次合并的，比如 某一行为 2 2 2 2 最后移动到的结果是4 4 0 0 而不是 8 0 0 0。我们要理解这个过程：</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >&nbsp; 我们对于每一行的操作是一样的，即行间无关，所以我们现在要讨论第i行，当我们向左动起来的时候，我们从最左开始确定，我们一开始合并前两个，再合并前三个，再合并前4个。比如</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >&nbsp;&nbsp;&nbsp;&nbsp; 2 2 4 4&nbsp;&nbsp; =&gt; 4 0 4 4 =&gt; 4 4 0 4 =&gt;4 4 4 0 =&gt; 4 8 0 0</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >注意两点： 1.合并过的不再参与合并，所以我们需要一个visit列表,用到前面所讲的映射</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2.合并的情况=&gt;相邻的相等，移动的情况=&gt;当前元素为0</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >python代码</p><pre style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);"   >visit=[]
score=<span style="color: rgb(0, 153, 153);"   >0</span> 
<span style="font-weight: bold;"   >for</span> i <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span> <span style="font-weight: bold;"   >for</span> j <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >1</span>, <span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span>  </span>  <span style="font-weight: bold;"   >for</span> k <span style="font-weight: bold;"   >in</span> range(j,<span style="color: rgb(0, 153, 153);"   >0</span>,-<span style="color: rgb(0, 153, 153);"   >1</span>):
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >if</span> mtr[i][k - <span style="color: rgb(0, 153, 153);"   >1</span>] == <span style="color: rgb(0, 153, 153);"   >0</span> :
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>mtr[i][k - <span style="color: rgb(0, 153, 153);"   >1</span>] = mtr[i][k]
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>mtr[i][k] = <span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >elif</span> mtr[i][k - <span style="color: rgb(0, 153, 153);"   >1</span>] == mtr[i][k] <span style="font-weight: bold;"   >and</span> <span style="color: rgb(0, 153, 153);"   >4</span> * i + k - <span style="color: rgb(0, 153, 153);"   >1</span> <span style="font-weight: bold;"   >not</span> <span style="font-weight: bold;"   >in</span> visit <span style="font-weight: bold;"   >and</span> <span style="color: rgb(0, 153, 153);"   >4</span> * i + k <span style="font-weight: bold;"   >not</span> <span style="font-weight: bold;"   >in</span> visit:
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>mtr[i][k - <span style="color: rgb(0, 153, 153);"   >1</span>] *= <span style="color: rgb(0, 153, 153);"   >2</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>mtr[i][k] = <span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>score += mtr[i][k - <span style="color: rgb(0, 153, 153);"   >1</span>]
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>visit.append(<span style="color: rgb(0, 153, 153);"   >4</span> * i + k)
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>visit.append(<span style="color: rgb(0, 153, 153);"   >4</span> * i + k - <span style="color: rgb(0, 153, 153);"   >1</span>)</pre><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   >当你想明白这个过程后，整个move过程就自然清晰起来了。&nbsp;</span><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   ><strong>这个是本文第一个，最后一个比较长的函数了！</strong></span><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   ></span><pre style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);"   ><span><span style="font-weight: bold;"   >def</span> <span style="color: rgb(153, 0, 0); font-weight: bold;"   >move</span><span>(mtr, dirct)</span>:</span><span style="color: rgb(153, 153, 136); font-style: italic;"   >#the core code!move by the four direction</span>
<span>  </span>score = <span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span>visit = []
<span>  </span><span style="font-weight: bold;"   >if</span> dirct == <span style="color: rgb(0, 153, 153);"   >0</span>:  <span style="color: rgb(153, 153, 136); font-style: italic;"   ># left</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> i <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> j <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >1</span>, <span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> k <span style="font-weight: bold;"   >in</span> range(j,<span style="color: rgb(0, 153, 153);"   >0</span>,-<span style="color: rgb(0, 153, 153);"   >1</span>):
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >if</span> mtr[i][k - <span style="color: rgb(0, 153, 153);"   >1</span>] == <span style="color: rgb(0, 153, 153);"   >0</span> :
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>mtr[i][k - <span style="color: rgb(0, 153, 153);"   >1</span>] = mtr[i][k]
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>mtr[i][k] = <span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >elif</span> mtr[i][k - <span style="color: rgb(0, 153, 153);"   >1</span>] == mtr[i][k] <span style="font-weight: bold;"   >and</span> <span style="color: rgb(0, 153, 153);"   >4</span> * i + k - <span style="color: rgb(0, 153, 153);"   >1</span> <span style="font-weight: bold;"   >not</span> <span style="font-weight: bold;"   >in</span> visit <span style="font-weight: bold;"   >and</span> <span style="color: rgb(0, 153, 153);"   >4</span> * i + k <span style="font-weight: bold;"   >not</span> <span style="font-weight: bold;"   >in</span> visit:
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>mtr[i][k - <span style="color: rgb(0, 153, 153);"   >1</span>] *= <span style="color: rgb(0, 153, 153);"   >2</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>mtr[i][k] = <span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>score += mtr[i][k - <span style="color: rgb(0, 153, 153);"   >1</span>]
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>visit.append(<span style="color: rgb(0, 153, 153);"   >4</span> * i + k)
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>visit.append(<span style="color: rgb(0, 153, 153);"   >4</span> * i + k - <span style="color: rgb(0, 153, 153);"   >1</span>)
<span>  </span><span style="font-weight: bold;"   >elif</span> dirct == <span style="color: rgb(0, 153, 153);"   >1</span>:  <span style="color: rgb(153, 153, 136); font-style: italic;"   ># down</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> j <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> i <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >3</span>, <span style="color: rgb(0, 153, 153);"   >0</span>, -<span style="color: rgb(0, 153, 153);"   >1</span>):
<span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> k <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >0</span>,i):
<span>  </span><span>  </span><span>  </span><span>  </span>   <span style="font-weight: bold;"   >if</span> mtr[k+<span style="color: rgb(0, 153, 153);"   >1</span>][j] == <span style="color: rgb(0, 153, 153);"   >0</span>:
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  mtr[k+<span style="color: rgb(0, 153, 153);"   >1</span>][j] = mtr[k][j]
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  mtr[k][j]=<span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span><span>  </span><span>  </span><span>  </span>   <span style="font-weight: bold;"   >elif</span> mtr[k+<span style="color: rgb(0, 153, 153);"   >1</span>][j]==mtr[k][j] <span style="font-weight: bold;"   >and</span> (<span style="color: rgb(0, 153, 153);"   >4</span> *(k+<span style="color: rgb(0, 153, 153);"   >1</span>)+j) <span style="font-weight: bold;"   >not</span> <span style="font-weight: bold;"   >in</span> visit <span style="font-weight: bold;"   >and</span> (<span style="color: rgb(0, 153, 153);"   >4</span>*k+j) <span style="font-weight: bold;"   >not</span> <span style="font-weight: bold;"   >in</span> visit:
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  mtr[k+<span style="color: rgb(0, 153, 153);"   >1</span>][j]*=<span style="color: rgb(0, 153, 153);"   >2</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  mtr[k][j]=<span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  score=mtr[k+<span style="color: rgb(0, 153, 153);"   >1</span>][j]
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  visit.append(<span style="color: rgb(0, 153, 153);"   >4</span>*(k)+j)
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  visit.append(<span style="color: rgb(0, 153, 153);"   >4</span>*(k+<span style="color: rgb(0, 153, 153);"   >1</span>)+j)
<span>  </span><span style="font-weight: bold;"   >elif</span> dirct == <span style="color: rgb(0, 153, 153);"   >2</span>:  <span style="color: rgb(153, 153, 136); font-style: italic;"   ># up</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> j <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> i <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >1</span>,<span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> k <span style="font-weight: bold;"   >in</span> range(i,<span style="color: rgb(0, 153, 153);"   >0</span>,-<span style="color: rgb(0, 153, 153);"   >1</span>):
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >if</span> mtr[k-<span style="color: rgb(0, 153, 153);"   >1</span>][j]==<span style="color: rgb(0, 153, 153);"   >0</span>:
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>mtr[k-<span style="color: rgb(0, 153, 153);"   >1</span>][j]=mtr[k][j]
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>mtr[k][j]=<span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >elif</span> mtr[k-<span style="color: rgb(0, 153, 153);"   >1</span>][j]==mtr[k][j] <span style="font-weight: bold;"   >and</span> (<span style="color: rgb(0, 153, 153);"   >4</span> *(k-<span style="color: rgb(0, 153, 153);"   >1</span>)+j) <span style="font-weight: bold;"   >not</span> <span style="font-weight: bold;"   >in</span> visit <span style="font-weight: bold;"   >and</span> (<span style="color: rgb(0, 153, 153);"   >4</span>*k+j) <span style="font-weight: bold;"   >not</span> <span style="font-weight: bold;"   >in</span> visit:
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>mtr[k-<span style="color: rgb(0, 153, 153);"   >1</span>][j]*=<span style="color: rgb(0, 153, 153);"   >2</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>mtr[k][j]=<span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>score += mtr[k-<span style="color: rgb(0, 153, 153);"   >1</span>][j]
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>visit.append(<span style="color: rgb(0, 153, 153);"   >4</span>*(k)+j)
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>visit.append(<span style="color: rgb(0, 153, 153);"   >4</span>*(k-<span style="color: rgb(0, 153, 153);"   >1</span>)+j)
<span>  </span><span style="font-weight: bold;"   >elif</span> dirct == <span style="color: rgb(0, 153, 153);"   >3</span>:  <span style="color: rgb(153, 153, 136); font-style: italic;"   ># right</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> i <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> j <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >3</span>, <span style="color: rgb(0, 153, 153);"   >0</span>, -<span style="color: rgb(0, 153, 153);"   >1</span>):
<span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> k <span style="font-weight: bold;"   >in</span> range(j):
<span>  </span><span>  </span><span>  </span><span>  </span>   <span style="font-weight: bold;"   >if</span> mtr[i][k+<span style="color: rgb(0, 153, 153);"   >1</span>]  == <span style="color: rgb(0, 153, 153);"   >0</span>:
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  mtr[i][k+<span style="color: rgb(0, 153, 153);"   >1</span>] = mtr[i][k]
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  mtr[i][k]=<span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span><span>  </span><span>  </span><span>  </span>   <span style="font-weight: bold;"   >elif</span> mtr[i][k] ==mtr[i][k+<span style="color: rgb(0, 153, 153);"   >1</span>] <span style="font-weight: bold;"   >and</span> <span style="color: rgb(0, 153, 153);"   >4</span> * i + k + <span style="color: rgb(0, 153, 153);"   >1</span> <span style="font-weight: bold;"   >not</span> <span style="font-weight: bold;"   >in</span> visit <span style="font-weight: bold;"   >and</span> <span style="color: rgb(0, 153, 153);"   >4</span> * i + k <span style="font-weight: bold;"   >not</span> <span style="font-weight: bold;"   >in</span> visit:
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  mtr[i][k+<span style="color: rgb(0, 153, 153);"   >1</span>]*=<span style="color: rgb(0, 153, 153);"   >2</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  mtr[i][k]=<span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  score+=mtr[i][k+<span style="color: rgb(0, 153, 153);"   >1</span>]
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  visit.append(<span style="color: rgb(0, 153, 153);"   >4</span>*i+k+<span style="color: rgb(0, 153, 153);"   >1</span>)
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  visit.append(<span style="color: rgb(0, 153, 153);"   >4</span>*i+k)
<span>  </span><span style="font-weight: bold;"   >return</span> score</pre><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   >（4）当你来到这步，已经进入轻松的状态了，让控制台读入你的操作，短短两行，其中一行是转成小写</span><pre style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);"   >dirct = raw_input(<span style="color: rgb(221, 17, 68);"   >"Step :<span style="color: rgb(0, 128, 128);"   >%d</span> Score :<span style="color: rgb(0, 128, 128);"   >%d</span> (<span style="color: rgb(0, 128, 128);"   >%s</span>):"</span> % (step, score, declare))
        dirct = dirct.lower()</pre><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   >（5）判断读入操作并处理</span><pre style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);"   ><span style="font-weight: bold;"   >if</span> dirct == <span style="color: rgb(221, 17, 68);"   >"q"</span>:
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >break</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >elif</span> dirct == <span style="color: rgb(221, 17, 68);"   >"a"</span> <span style="font-weight: bold;"   >or</span> dirct == <span style="color: rgb(221, 17, 68);"   >"h"</span>:
<span>  </span><span>  </span><span>  </span>dirct = <span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >elif</span> dirct == <span style="color: rgb(221, 17, 68);"   >"s"</span> <span style="font-weight: bold;"   >or</span> dirct == <span style="color: rgb(221, 17, 68);"   >"j"</span>:
<span>  </span><span>  </span><span>  </span>dirct = <span style="color: rgb(0, 153, 153);"   >1</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >elif</span> dirct == <span style="color: rgb(221, 17, 68);"   >"w"</span> <span style="font-weight: bold;"   >or</span> dirct == <span style="color: rgb(221, 17, 68);"   >"k"</span>:
<span>  </span><span>  </span><span>  </span>dirct = <span style="color: rgb(0, 153, 153);"   >2</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >elif</span> dirct == <span style="color: rgb(221, 17, 68);"   >"d"</span> <span style="font-weight: bold;"   >or</span> dirct == <span style="color: rgb(221, 17, 68);"   >"l"</span>:
<span>  </span><span>  </span><span>  </span>dirct = <span style="color: rgb(0, 153, 153);"   >3</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >elif</span> dirct == <span style="color: rgb(221, 17, 68);"   >"b"</span>:
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >if</span> len(mtr_stk) == <span style="color: rgb(0, 153, 153);"   >1</span>:
<span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"Can't Back.."</span>
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >else</span>:
<span>  </span><span>  </span><span>  </span><span>  </span>mtr_stk.pop()
<span>  </span><span>  </span><span>  </span><span>  </span>scr_stk.pop()
<span>  </span><span>  </span><span>  </span><span>  </span>mtr = copy.deepcopy(mtr_stk[-<span style="color: rgb(0, 153, 153);"   >1</span>])
<span>  </span><span>  </span><span>  </span><span>  </span>score = scr_stk[-<span style="color: rgb(0, 153, 153);"   >1</span>]
<span>  </span><span>  </span><span>  </span><span>  </span>step -= <span style="color: rgb(0, 153, 153);"   >1</span>
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >continue</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >else</span>:
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >print</span> illegal
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >continue</span></pre><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   >我是vim 的脑残粉，所以还支持了hjkl，如果你没有习惯vim什么的，直接asdw就可以了。</span><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >上面最麻烦最值得注意的就是要用深复制.这个bug我调了很久啊亲，用"="伤不起啊。</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >上面的处理意思就是： 映射方向，和b,q的处理（有continue是因为我们将嵌套于while中）。</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >(6)移动的处理</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >在上面处理后，筛选出移动的操作，之后我们调用移动函数，进行加分，和比较。</p><pre style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);"   >tmp = copy.deepcopy(mtr)
<span>  </span><span>  </span>op_scr = move(mtr, dirct)
<span>  </span><span>  </span><span style="font-weight: bold;"   >if</span> tmp != mtr:
<span>  </span><span>  </span><span>  </span>score = score + op_scr
<span>  </span><span>  </span><span>  </span>update(mtr) <span style="color: rgb(153, 153, 136); font-style: italic;"   >#更新</span>
<span>  </span><span>  </span><span>  </span>display(mtr)
<span>  </span><span>  </span><span>  </span>tmp = copy.deepcopy(mtr)
<span>  </span><span>  </span><span>  </span>mtr_stk.append(tmp)  <span style="color: rgb(153, 153, 136); font-style: italic;"   ># 插入后退队列</span>
<span>  </span><span>  </span><span>  </span>scr_stk.append(<span style="font-weight: bold;"   >int</span>(score))
<span>  </span><span>  </span><span>  </span>step = step + <span style="color: rgb(0, 153, 153);"   >1</span>  <span style="color: rgb(153, 153, 136); font-style: italic;"   ># 步数加1</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >else</span>:
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >print</span> noefficient</pre><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   >注意：&nbsp;</span><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   >不能仅仅用加分来判断！因为我们很多时候都是没有碰撞合并，等待下一个2,4出现</span><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   >&nbsp;</span><br style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   ><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >我们用深复制，将老的矩阵放在tmp上，再移动，将老新矩阵比较，没改变的时候就输出 noefficient,否则就加分，插入新数字，并显示，最后将矩阵压入栈中，因为要后退！</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >(7)插入新数字</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >我们遍历0-16,并映射后，将对应0的位置放入random列表，我们用random.choice选出一个，同理我们生成一个ran_num=[2,4],选取加分</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >之后对应位置加分咯！但是注意，当我们没有空位时候不要插数字。</p><pre style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);"   ><span><span style="font-weight: bold;"   >def</span> <span style="color: rgb(153, 0, 0); font-weight: bold;"   >update</span><span>(mtr)</span>:</span>
<span>  </span>ran_pos=[]
<span>  </span>ran_num=[<span style="color: rgb(0, 153, 153);"   >2</span>,<span style="color: rgb(0, 153, 153);"   >4</span>]

<span>  </span><span style="font-weight: bold;"   >for</span> i <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> j <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >if</span> mtr[i][j]==<span style="color: rgb(0, 153, 153);"   >0</span>:
<span>  </span><span>  </span><span>  </span>   ran_pos.append(<span style="color: rgb(0, 153, 153);"   >4</span>*i+j)
<span>  </span><span style="font-weight: bold;"   >if</span> len(ran_pos)&gt;<span style="color: rgb(0, 153, 153);"   >0</span>:
<span>  </span><span>  </span>k=random.choice(ran_pos)
<span>  </span><span>  </span>n=random.choice(ran_num)
<span>  </span><span>  </span>mtr[k/<span style="color: rgb(0, 153, 153);"   >4</span>][k%<span style="color: rgb(0, 153, 153);"   >4</span>]=n</pre><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   >(8)最后一个啦！！！游戏的循环条件</span><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >这个还是很简单的。游戏进行，当前仅当：没有2048且（有0或者可以合并）。</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >所以我们只需要判断2048 in mtr,有就结束，没有 == &gt; 0 in mtr ?有就继续，没有==&gt;可以合并？有继续，没有==》，就返回结束啦</p><pre style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);"   ><span><span style="font-weight: bold;"   >def</span> <span style="color: rgb(153, 0, 0); font-weight: bold;"   >go_on</span><span>(mtr, score)</span>:</span>
<span>  </span><span style="font-weight: bold;"   >if</span> <span style="color: rgb(0, 153, 153);"   >2048</span> <span style="font-weight: bold;"   >in</span> mtr:
<span>  </span><span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"Great!You win!Your score is "</span>, score
<span>  </span><span>  </span>raw_input(<span style="color: rgb(221, 17, 68);"   >"Press any key to continue..."</span>)
<span>  </span><span>  </span>exit()
<span>  </span><span style="font-weight: bold;"   >if</span> <span style="color: rgb(0, 153, 153);"   >0</span> <span style="font-weight: bold;"   >in</span> mtr:
<span>  </span><span>  </span><span style="font-weight: bold;"   >return</span> <span style="color: rgb(0, 134, 179);"   >True</span>
<span>  </span><span style="font-weight: bold;"   >for</span> i <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> j <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >if</span> i &lt; <span style="color: rgb(0, 153, 153);"   >3</span> <span style="font-weight: bold;"   >and</span> mtr[i][j] == mtr[i + <span style="color: rgb(0, 153, 153);"   >1</span>][j]:
<span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >return</span> <span style="color: rgb(0, 134, 179);"   >True</span>
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >if</span> j &lt; <span style="color: rgb(0, 153, 153);"   >3</span> <span style="font-weight: bold;"   >and</span> mtr[i][j] == mtr[i][j + <span style="color: rgb(0, 153, 153);"   >1</span>]:
<span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >return</span> <span style="color: rgb(0, 134, 179);"   >True</span>
<span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"Gameover!"</span>
<span>  </span><span style="font-weight: bold;"   >return</span> <span style="color: rgb(0, 134, 179);"   >False</span></pre><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   >(9)一些其他的东西</span><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >注意一开始要画出开始的画面（循环外），一开始要将初始矩阵，初始分数，压入栈。&nbsp;<br></p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >最后来个最终版本的</p><pre style="padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);"   ><span style="color: rgb(153, 153, 136); font-style: italic;"   >#!/usr/bin/env python</span>
<span style="color: rgb(153, 153, 136); font-style: italic;"   ># coding=utf-8</span>
<span style="color: rgb(153, 153, 136); font-style: italic;"   >#********************************************************</span>
<span style="color: rgb(153, 153, 136); font-style: italic;"   ># &gt; OS	 : Linux 3.2.0-60-generic #91-Ubuntu</span>
<span style="color: rgb(153, 153, 136); font-style: italic;"   >#	&gt; Author : yaolong</span>
<span style="color: rgb(153, 153, 136); font-style: italic;"   >#	&gt; Mail   : dengyaolong@yeah.net</span>
<span style="color: rgb(153, 153, 136); font-style: italic;"   >#	&gt; Time   : 2014年06月01日 星期日 13:13:39</span>
<span style="color: rgb(153, 153, 136); font-style: italic;"   >#********************************************************</span>
<span style="font-weight: bold;"   >import</span> random
<span style="font-weight: bold;"   >import</span> copy

<span><span style="font-weight: bold;"   >def</span> <span style="color: rgb(153, 0, 0); font-weight: bold;"   >T</span><span>(a)</span>:</span>
<span>  </span><span style="font-weight: bold;"   >return</span> a <span style="font-weight: bold;"   >if</span> a <span style="font-weight: bold;"   >else</span> <span style="color: rgb(221, 17, 68);"   >' '</span>
<span><span style="font-weight: bold;"   >def</span> <span style="color: rgb(153, 0, 0); font-weight: bold;"   >display</span><span>(mtr)</span>:</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"┌"</span>+(<span style="color: rgb(221, 17, 68);"   >"─"</span>*<span style="color: rgb(0, 153, 153);"   >5</span>+<span style="color: rgb(221, 17, 68);"   >"┬"</span>)*<span style="color: rgb(0, 153, 153);"   >3</span>+<span style="color: rgb(221, 17, 68);"   >"─"</span>*<span style="color: rgb(0, 153, 153);"   >5</span>+<span style="color: rgb(221, 17, 68);"   >"┐"</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"│%4s │%4s │%4s │%4s │"</span>%(T(mtr[<span style="color: rgb(0, 153, 153);"   >0</span>][<span style="color: rgb(0, 153, 153);"   >0</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >0</span>][<span style="color: rgb(0, 153, 153);"   >1</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >0</span>][<span style="color: rgb(0, 153, 153);"   >2</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >0</span>][<span style="color: rgb(0, 153, 153);"   >3</span>]))
<span>  </span><span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"├"</span>+(<span style="color: rgb(221, 17, 68);"   >"─"</span>*<span style="color: rgb(0, 153, 153);"   >5</span>+<span style="color: rgb(221, 17, 68);"   >"┼"</span>)*<span style="color: rgb(0, 153, 153);"   >3</span>+<span style="color: rgb(221, 17, 68);"   >"─"</span>*<span style="color: rgb(0, 153, 153);"   >5</span>+<span style="color: rgb(221, 17, 68);"   >"┤"</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"│%4s │%4s │%4s │%4s │"</span>%(T(mtr[<span style="color: rgb(0, 153, 153);"   >1</span>][<span style="color: rgb(0, 153, 153);"   >0</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >1</span>][<span style="color: rgb(0, 153, 153);"   >1</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >1</span>][<span style="color: rgb(0, 153, 153);"   >2</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >1</span>][<span style="color: rgb(0, 153, 153);"   >3</span>]))
<span>  </span><span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"├"</span>+(<span style="color: rgb(221, 17, 68);"   >"─"</span>*<span style="color: rgb(0, 153, 153);"   >5</span>+<span style="color: rgb(221, 17, 68);"   >"┼"</span>)*<span style="color: rgb(0, 153, 153);"   >3</span>+<span style="color: rgb(221, 17, 68);"   >"─"</span>*<span style="color: rgb(0, 153, 153);"   >5</span>+<span style="color: rgb(221, 17, 68);"   >"┤"</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"│%4s │%4s │%4s │%4s │"</span>%(T(mtr[<span style="color: rgb(0, 153, 153);"   >2</span>][<span style="color: rgb(0, 153, 153);"   >0</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >2</span>][<span style="color: rgb(0, 153, 153);"   >1</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >2</span>][<span style="color: rgb(0, 153, 153);"   >2</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >2</span>][<span style="color: rgb(0, 153, 153);"   >3</span>]))
<span>  </span><span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"├"</span>+(<span style="color: rgb(221, 17, 68);"   >"─"</span>*<span style="color: rgb(0, 153, 153);"   >5</span>+<span style="color: rgb(221, 17, 68);"   >"┼"</span>)*<span style="color: rgb(0, 153, 153);"   >3</span>+<span style="color: rgb(221, 17, 68);"   >"─"</span>*<span style="color: rgb(0, 153, 153);"   >5</span>+<span style="color: rgb(221, 17, 68);"   >"┤"</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"│%4s │%4s │%4s │%4s │"</span>%(T(mtr[<span style="color: rgb(0, 153, 153);"   >3</span>][<span style="color: rgb(0, 153, 153);"   >0</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >3</span>][<span style="color: rgb(0, 153, 153);"   >1</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >3</span>][<span style="color: rgb(0, 153, 153);"   >2</span>]),T(mtr[<span style="color: rgb(0, 153, 153);"   >3</span>][<span style="color: rgb(0, 153, 153);"   >3</span>]))
<span>  </span><span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"└"</span>+(<span style="color: rgb(221, 17, 68);"   >"─"</span>*<span style="color: rgb(0, 153, 153);"   >5</span>+<span style="color: rgb(221, 17, 68);"   >"┴"</span>)*<span style="color: rgb(0, 153, 153);"   >3</span>+<span style="color: rgb(221, 17, 68);"   >"─"</span>*<span style="color: rgb(0, 153, 153);"   >5</span>+<span style="color: rgb(221, 17, 68);"   >"┘"</span>


<span><span style="font-weight: bold;"   >def</span> <span style="color: rgb(153, 0, 0); font-weight: bold;"   >init</span><span>()</span>:</span>
<span>  </span>mtr = [[<span style="color: rgb(0, 153, 153);"   >0</span> <span style="font-weight: bold;"   >for</span> i <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>)] <span style="font-weight: bold;"   >for</span> j <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>)]  <span style="color: rgb(153, 153, 136); font-style: italic;"   ># 小小蛋疼..</span>
<span>  </span>ran_pos = random.sample(range(<span style="color: rgb(0, 153, 153);"   >16</span>), <span style="color: rgb(0, 153, 153);"   >2</span>)
<span>  </span>mtr[ran_pos[<span style="color: rgb(0, 153, 153);"   >0</span>]/<span style="color: rgb(0, 153, 153);"   >4</span>][ran_pos[<span style="color: rgb(0, 153, 153);"   >0</span>]%<span style="color: rgb(0, 153, 153);"   >4</span>] = mtr[ran_pos[<span style="color: rgb(0, 153, 153);"   >1</span>]/<span style="color: rgb(0, 153, 153);"   >4</span>][ran_pos[<span style="color: rgb(0, 153, 153);"   >1</span>]%<span style="color: rgb(0, 153, 153);"   >4</span>] = <span style="color: rgb(0, 153, 153);"   >2</span>
<span>  </span>
<span>  </span><span style="font-weight: bold;"   >return</span> mtr

<span><span style="font-weight: bold;"   >def</span> <span style="color: rgb(153, 0, 0); font-weight: bold;"   >go_on</span><span>(mtr, score)</span>:</span>
<span>  </span><span style="font-weight: bold;"   >if</span> <span style="color: rgb(0, 153, 153);"   >2048</span> <span style="font-weight: bold;"   >in</span> mtr:
<span>  </span><span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"Great!You win!Your score is "</span>, score
<span>  </span><span>  </span>raw_input(<span style="color: rgb(221, 17, 68);"   >"Press any key to continue..."</span>)
<span>  </span><span>  </span>exit()
<span>  </span><span style="font-weight: bold;"   >if</span> <span style="color: rgb(0, 153, 153);"   >0</span> <span style="font-weight: bold;"   >in</span> mtr:
<span>  </span><span>  </span><span style="font-weight: bold;"   >return</span> <span style="color: rgb(0, 134, 179);"   >True</span>
<span>  </span><span style="font-weight: bold;"   >for</span> i <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> j <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >if</span> i &lt; <span style="color: rgb(0, 153, 153);"   >3</span> <span style="font-weight: bold;"   >and</span> mtr[i][j] == mtr[i + <span style="color: rgb(0, 153, 153);"   >1</span>][j]:
<span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >return</span> <span style="color: rgb(0, 134, 179);"   >True</span>
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >if</span> j &lt; <span style="color: rgb(0, 153, 153);"   >3</span> <span style="font-weight: bold;"   >and</span> mtr[i][j] == mtr[i][j + <span style="color: rgb(0, 153, 153);"   >1</span>]:
<span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >return</span> <span style="color: rgb(0, 134, 179);"   >True</span>
<span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"Gameover!"</span>
<span>  </span><span style="font-weight: bold;"   >return</span> <span style="color: rgb(0, 134, 179);"   >False</span>


<span><span style="font-weight: bold;"   >def</span> <span style="color: rgb(153, 0, 0); font-weight: bold;"   >move</span><span>(mtr, dirct)</span>:</span>
<span>  </span>score = <span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span>visit = []
<span>  </span><span style="font-weight: bold;"   >if</span> dirct == <span style="color: rgb(0, 153, 153);"   >0</span>:  <span style="color: rgb(153, 153, 136); font-style: italic;"   ># left</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> i <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> j <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >1</span>, <span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> k <span style="font-weight: bold;"   >in</span> range(j,<span style="color: rgb(0, 153, 153);"   >0</span>,-<span style="color: rgb(0, 153, 153);"   >1</span>):
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >if</span> mtr[i][k - <span style="color: rgb(0, 153, 153);"   >1</span>] == <span style="color: rgb(0, 153, 153);"   >0</span> :
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>mtr[i][k - <span style="color: rgb(0, 153, 153);"   >1</span>] = mtr[i][k]
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>mtr[i][k] = <span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >elif</span> mtr[i][k - <span style="color: rgb(0, 153, 153);"   >1</span>] == mtr[i][k] <span style="font-weight: bold;"   >and</span> <span style="color: rgb(0, 153, 153);"   >4</span> * i + k - <span style="color: rgb(0, 153, 153);"   >1</span> <span style="font-weight: bold;"   >not</span> <span style="font-weight: bold;"   >in</span> visit <span style="font-weight: bold;"   >and</span> <span style="color: rgb(0, 153, 153);"   >4</span> * i + k <span style="font-weight: bold;"   >not</span> <span style="font-weight: bold;"   >in</span> visit:
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>mtr[i][k - <span style="color: rgb(0, 153, 153);"   >1</span>] *= <span style="color: rgb(0, 153, 153);"   >2</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>mtr[i][k] = <span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>score += mtr[i][k - <span style="color: rgb(0, 153, 153);"   >1</span>]
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>visit.append(<span style="color: rgb(0, 153, 153);"   >4</span> * i + k)
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>visit.append(<span style="color: rgb(0, 153, 153);"   >4</span> * i + k - <span style="color: rgb(0, 153, 153);"   >1</span>)
<span>  </span><span>  </span><span style="color: rgb(153, 153, 136); font-style: italic;"   ># for i in range(4):</span>
<span>  </span><span>  </span><span style="color: rgb(153, 153, 136); font-style: italic;"   >#	for j in range(3):</span>

<span>  </span><span style="font-weight: bold;"   >elif</span> dirct == <span style="color: rgb(0, 153, 153);"   >1</span>:  <span style="color: rgb(153, 153, 136); font-style: italic;"   ># down</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> j <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> i <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >3</span>, <span style="color: rgb(0, 153, 153);"   >0</span>, -<span style="color: rgb(0, 153, 153);"   >1</span>):
<span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> k <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >0</span>,i):
<span>  </span><span>  </span><span>  </span><span>  </span>   <span style="font-weight: bold;"   >if</span> mtr[k+<span style="color: rgb(0, 153, 153);"   >1</span>][j] == <span style="color: rgb(0, 153, 153);"   >0</span>:
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  mtr[k+<span style="color: rgb(0, 153, 153);"   >1</span>][j] = mtr[k][j]
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  mtr[k][j]=<span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span><span>  </span><span>  </span><span>  </span>   <span style="font-weight: bold;"   >elif</span> mtr[k+<span style="color: rgb(0, 153, 153);"   >1</span>][j]==mtr[k][j] <span style="font-weight: bold;"   >and</span> (<span style="color: rgb(0, 153, 153);"   >4</span> *(k+<span style="color: rgb(0, 153, 153);"   >1</span>)+j) <span style="font-weight: bold;"   >not</span> <span style="font-weight: bold;"   >in</span> visit <span style="font-weight: bold;"   >and</span> (<span style="color: rgb(0, 153, 153);"   >4</span>*k+j) <span style="font-weight: bold;"   >not</span> <span style="font-weight: bold;"   >in</span> visit:
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  mtr[k+<span style="color: rgb(0, 153, 153);"   >1</span>][j]*=<span style="color: rgb(0, 153, 153);"   >2</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  mtr[k][j]=<span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  score=mtr[k+<span style="color: rgb(0, 153, 153);"   >1</span>][j]
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  visit.append(<span style="color: rgb(0, 153, 153);"   >4</span>*(k)+j)
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  visit.append(<span style="color: rgb(0, 153, 153);"   >4</span>*(k+<span style="color: rgb(0, 153, 153);"   >1</span>)+j)


<span>  </span><span style="font-weight: bold;"   >elif</span> dirct == <span style="color: rgb(0, 153, 153);"   >2</span>:  <span style="color: rgb(153, 153, 136); font-style: italic;"   ># up</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> j <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> i <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >1</span>,<span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> k <span style="font-weight: bold;"   >in</span> range(i,<span style="color: rgb(0, 153, 153);"   >0</span>,-<span style="color: rgb(0, 153, 153);"   >1</span>):
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >if</span> mtr[k-<span style="color: rgb(0, 153, 153);"   >1</span>][j]==<span style="color: rgb(0, 153, 153);"   >0</span>:
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>mtr[k-<span style="color: rgb(0, 153, 153);"   >1</span>][j]=mtr[k][j]
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>mtr[k][j]=<span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >elif</span> mtr[k-<span style="color: rgb(0, 153, 153);"   >1</span>][j]==mtr[k][j] <span style="font-weight: bold;"   >and</span> (<span style="color: rgb(0, 153, 153);"   >4</span> *(k-<span style="color: rgb(0, 153, 153);"   >1</span>)+j) <span style="font-weight: bold;"   >not</span> <span style="font-weight: bold;"   >in</span> visit <span style="font-weight: bold;"   >and</span> (<span style="color: rgb(0, 153, 153);"   >4</span>*k+j) <span style="font-weight: bold;"   >not</span> <span style="font-weight: bold;"   >in</span> visit:
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>mtr[k-<span style="color: rgb(0, 153, 153);"   >1</span>][j]*=<span style="color: rgb(0, 153, 153);"   >2</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>mtr[k][j]=<span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>score += mtr[k-<span style="color: rgb(0, 153, 153);"   >1</span>][j]
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>visit.append(<span style="color: rgb(0, 153, 153);"   >4</span>*(k)+j)
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>visit.append(<span style="color: rgb(0, 153, 153);"   >4</span>*(k-<span style="color: rgb(0, 153, 153);"   >1</span>)+j)

<span>  </span><span style="font-weight: bold;"   >elif</span> dirct == <span style="color: rgb(0, 153, 153);"   >3</span>:  <span style="color: rgb(153, 153, 136); font-style: italic;"   ># right</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> i <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> j <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >3</span>, <span style="color: rgb(0, 153, 153);"   >0</span>, -<span style="color: rgb(0, 153, 153);"   >1</span>):
<span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> k <span style="font-weight: bold;"   >in</span> range(j):
<span>  </span><span>  </span><span>  </span><span>  </span>   <span style="font-weight: bold;"   >if</span> mtr[i][k+<span style="color: rgb(0, 153, 153);"   >1</span>]  == <span style="color: rgb(0, 153, 153);"   >0</span>:
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  mtr[i][k+<span style="color: rgb(0, 153, 153);"   >1</span>] = mtr[i][k]
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  mtr[i][k]=<span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span><span>  </span><span>  </span><span>  </span>   <span style="font-weight: bold;"   >elif</span> mtr[i][k] ==mtr[i][k+<span style="color: rgb(0, 153, 153);"   >1</span>] <span style="font-weight: bold;"   >and</span> <span style="color: rgb(0, 153, 153);"   >4</span> * i + k + <span style="color: rgb(0, 153, 153);"   >1</span> <span style="font-weight: bold;"   >not</span> <span style="font-weight: bold;"   >in</span> visit <span style="font-weight: bold;"   >and</span> <span style="color: rgb(0, 153, 153);"   >4</span> * i + k <span style="font-weight: bold;"   >not</span> <span style="font-weight: bold;"   >in</span> visit:
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  mtr[i][k+<span style="color: rgb(0, 153, 153);"   >1</span>]*=<span style="color: rgb(0, 153, 153);"   >2</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  mtr[i][k]=<span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  score+=mtr[i][k+<span style="color: rgb(0, 153, 153);"   >1</span>]
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  visit.append(<span style="color: rgb(0, 153, 153);"   >4</span>*i+k+<span style="color: rgb(0, 153, 153);"   >1</span>)
<span>  </span><span>  </span><span>  </span><span>  </span><span>  </span>  visit.append(<span style="color: rgb(0, 153, 153);"   >4</span>*i+k)


<span>  </span><span style="font-weight: bold;"   >return</span> score


<span><span style="font-weight: bold;"   >def</span> <span style="color: rgb(153, 0, 0); font-weight: bold;"   >update</span><span>(mtr)</span>:</span>
<span>  </span>ran_pos=[]
<span>  </span>ran_num=[<span style="color: rgb(0, 153, 153);"   >2</span>,<span style="color: rgb(0, 153, 153);"   >4</span>]

<span>  </span><span style="font-weight: bold;"   >for</span> i <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span style="font-weight: bold;"   >for</span> j <span style="font-weight: bold;"   >in</span> range(<span style="color: rgb(0, 153, 153);"   >4</span>):
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >if</span> mtr[i][j]==<span style="color: rgb(0, 153, 153);"   >0</span>:
<span>  </span><span>  </span><span>  </span>   ran_pos.append(<span style="color: rgb(0, 153, 153);"   >4</span>*i+j)
<span>  </span><span style="font-weight: bold;"   >if</span> len(ran_pos)&gt;<span style="color: rgb(0, 153, 153);"   >0</span>:
<span>  </span><span>  </span>k=random.choice(ran_pos)
<span>  </span><span>  </span>n=random.choice(ran_num)
<span>  </span><span>  </span>mtr[k/<span style="color: rgb(0, 153, 153);"   >4</span>][k%<span style="color: rgb(0, 153, 153);"   >4</span>]=n

<span style="color: rgb(153, 153, 136); font-style: italic;"   ># map 0 left,1 down,2 up ,3 right</span>
<span style="color: rgb(153, 153, 136); font-style: italic;"   ># a,h=&gt; left ,s,j=&gt;down, w,k=&gt;up, d,l=&gt;right</span>
declare = <span style="color: rgb(221, 17, 68);"   >"←：a/h  ↓: s/j ↑: w/k →: d/l ,q(uit),b(ack)"</span>
illegal = <span style="color: rgb(221, 17, 68);"   >"Illegal operation!"</span>
noefficient = <span style="color: rgb(221, 17, 68);"   >"This move has no efficient"</span>
<span style="font-weight: bold;"   >if</span> __name__ == <span style="color: rgb(221, 17, 68);"   >'__main__'</span>:
<span>  </span>score = <span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span>step = <span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span>mtr = init()
<span>  </span>mtr_stk = []  <span style="color: rgb(153, 153, 136); font-style: italic;"   ># for back</span>
<span>  </span>scr_stk = []
<span>  </span>tmp = copy.deepcopy(mtr)
<span>  </span>mtr_stk.append(tmp)
<span>  </span>scr_stk.append(<span style="color: rgb(0, 153, 153);"   >0</span>)
<span>  </span>display(mtr)
<span>  </span><span style="font-weight: bold;"   >while</span> go_on(mtr, score):
<span>  </span><span>  </span>dirct = raw_input(<span style="color: rgb(221, 17, 68);"   >"Step :%d Score :%d (%s):"</span> % (step, score, declare))
<span>  </span><span>  </span>dirct = dirct.lower()
<span>  </span><span>  </span><span style="font-weight: bold;"   >if</span> dirct == <span style="color: rgb(221, 17, 68);"   >"q"</span>:
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >break</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >elif</span> dirct == <span style="color: rgb(221, 17, 68);"   >"a"</span> <span style="font-weight: bold;"   >or</span> dirct == <span style="color: rgb(221, 17, 68);"   >"h"</span>:
<span>  </span><span>  </span><span>  </span>dirct = <span style="color: rgb(0, 153, 153);"   >0</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >elif</span> dirct == <span style="color: rgb(221, 17, 68);"   >"s"</span> <span style="font-weight: bold;"   >or</span> dirct == <span style="color: rgb(221, 17, 68);"   >"j"</span>:
<span>  </span><span>  </span><span>  </span>dirct = <span style="color: rgb(0, 153, 153);"   >1</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >elif</span> dirct == <span style="color: rgb(221, 17, 68);"   >"w"</span> <span style="font-weight: bold;"   >or</span> dirct == <span style="color: rgb(221, 17, 68);"   >"k"</span>:
<span>  </span><span>  </span><span>  </span>dirct = <span style="color: rgb(0, 153, 153);"   >2</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >elif</span> dirct == <span style="color: rgb(221, 17, 68);"   >"d"</span> <span style="font-weight: bold;"   >or</span> dirct == <span style="color: rgb(221, 17, 68);"   >"l"</span>:
<span>  </span><span>  </span><span>  </span>dirct = <span style="color: rgb(0, 153, 153);"   >3</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >elif</span> dirct == <span style="color: rgb(221, 17, 68);"   >"b"</span>:
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >if</span> len(mtr_stk) == <span style="color: rgb(0, 153, 153);"   >1</span>:
<span>  </span><span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >print</span> <span style="color: rgb(221, 17, 68);"   >"Can't Back.."</span>
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >else</span>:
<span>  </span><span>  </span><span>  </span><span>  </span>mtr_stk.pop()
<span>  </span><span>  </span><span>  </span><span>  </span>scr_stk.pop()
<span>  </span><span>  </span><span>  </span><span>  </span>mtr = copy.deepcopy(mtr_stk[-<span style="color: rgb(0, 153, 153);"   >1</span>])
<span>  </span><span>  </span><span>  </span><span>  </span>score = scr_stk[-<span style="color: rgb(0, 153, 153);"   >1</span>]
<span>  </span><span>  </span><span>  </span><span>  </span>step -= <span style="color: rgb(0, 153, 153);"   >1</span>
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >continue</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >else</span>:
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >print</span> illegal
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >continue</span>
<span>  </span><span>  </span>tmp = copy.deepcopy(mtr)
<span>  </span><span>  </span>op_scr = move(mtr, dirct)
<span>  </span><span>  </span><span style="font-weight: bold;"   >if</span> tmp != mtr:
<span>  </span><span>  </span><span>  </span>score = score + op_scr
<span>  </span><span>  </span><span>  </span>update(mtr) <span style="color: rgb(153, 153, 136); font-style: italic;"   >#更新</span>
<span>  </span><span>  </span><span>  </span>display(mtr)
<span>  </span><span>  </span><span>  </span>tmp = copy.deepcopy(mtr)
<span>  </span><span>  </span><span>  </span>mtr_stk.append(tmp)  <span style="color: rgb(153, 153, 136); font-style: italic;"   ># 插入后退队列</span>
<span>  </span><span>  </span><span>  </span>scr_stk.append(int(score))
<span>  </span><span>  </span><span>  </span>step = step + <span style="color: rgb(0, 153, 153);"   >1</span>  <span style="color: rgb(153, 153, 136); font-style: italic;"   ># 步数加1</span>
<span>  </span><span>  </span><span style="font-weight: bold;"   >else</span>:
<span>  </span><span>  </span><span>  </span><span style="font-weight: bold;"   >print</span> noefficient</pre><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   >还有我github的版本，大致一样,点&nbsp;</span><a style="color: rgb(148, 148, 148); text-decoration: none; -webkit-transition: 0.25s; transition: 0.25s; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: rgb(148, 148, 148); font-style: italic; font-weight: bold; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', &#24494;&#36719;&#38597;&#40657;, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);" target="_blank" rel="nofollow" href="https://github.com/dengyaolong/2048python/blob/master/2048.py"   >这里</a><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);"   ></span><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >如果我的算法有什么不对，请提出，因为写得匆忙，我未能很完整第测试，但是我自己玩了几把还是OK了，没玩到2048r(st)q。。。</p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   ><br></p><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   >修改版 ：</p><pre class="prettyprint"   ><p>#!/usr/bin/env python<br># coding=utf-8<br>#********************************************************<br># &gt; OS	 : Linux 3.2.0-60-generic #91-Opensuse<br>#	&gt; Author : David<br>#	&gt; Mail   : xxx@xxx.com<br>#	&gt; Time   : 2015年08月14日 星期日 08:58:39<br>#********************************************************<br>import random<br>import copy<br>import  os<br>import  sys<br>import  tty, termios<br><br>def T(a):<br>  return a if a else ' '<br>def display(mtr):<br>    print "┌"+("─"*5+"┬")*3+"─"*5+"┐"<br>    print "│%4s │%4s │%4s │%4s │"%(T(mtr[0][0]),T(mtr[0][1]),T(mtr[0][2]),T(mtr[0][3]))<br>    print "├"+("─"*5+"┼")*3+"─"*5+"┤"<br>    print "│%4s │%4s │%4s │%4s │"%(T(mtr[1][0]),T(mtr[1][1]),T(mtr[1][2]),T(mtr[1][3]))<br>    print "├"+("─"*5+"┼")*3+"─"*5+"┤"<br>    print "│%4s │%4s │%4s │%4s │"%(T(mtr[2][0]),T(mtr[2][1]),T(mtr[2][2]),T(mtr[2][3]))<br>    print "├"+("─"*5+"┼")*3+"─"*5+"┤"<br>    print "│%4s │%4s │%4s │%4s │"%(T(mtr[3][0]),T(mtr[3][1]),T(mtr[3][2]),T(mtr[3][3]))<br>    print "└"+("─"*5+"┴")*3+"─"*5+"┘"<br><br><br>def init():<br>  mtr = [[0 for i in range(4)] for j in range(4)]  # 小小蛋疼..<br>  ran_pos = random.sample(range(16), 2)<br>  mtr[ran_pos[0]/4][ran_pos[0]%4] = mtr[ran_pos[1]/4][ran_pos[1]%4] = 2<br>  <br>  return mtr<br><br>def go_on(mtr, score):<br>  if 2048 in mtr:<br>    print "Great!You win!Your score is ", score<br>    raw_input("Press any key to continue...")<br>    exit()<br>  if 0 in mtr:<br>    return True<br>  for i in range(4):<br>    for j in range(4):<br>      if i &lt; 3 and mtr[i][j] == mtr[i + 1][j]:<br>        return True<br>      if j &lt; 3 and mtr[i][j] == mtr[i][j + 1]:<br>        return True<br>  print "Gameover!"<br>  return False<br><br><br>def move(mtr, dirct):<br>  score = 0<br>  visit = []<br>  if dirct == 0:  # left<br>    for i in range(4):<br>      for j in range(1, 4):<br>        for k in range(j,0,-1):<br>          if mtr[i][k - 1] == 0 :<br>            mtr[i][k - 1] = mtr[i][k]<br>            mtr[i][k] = 0<br>          elif mtr[i][k - 1] == mtr[i][k] and 4 * i + k - 1 not in visit and 4 * i + k not in visit:<br>            mtr[i][k - 1] *= 2<br>            mtr[i][k] = 0<br>            score += mtr[i][k - 1]<br>            visit.append(4 * i + k)<br>            visit.append(4 * i + k - 1)<br>    # for i in range(4):<br>    #	for j in range(3):<br><br>  elif dirct == 1:  # down<br>    for j in range(4):<br>      for i in range(3, 0, -1):<br>        for k in range(0,i):<br>           if mtr[k+1][j] == 0:<br>            mtr[k+1][j] = mtr[k][j]<br>            mtr[k][j]=0<br>           elif mtr[k+1][j]==mtr[k][j] and (4 *(k+1)+j) not in visit and (4*k+j) not in visit:<br>            mtr[k+1][j]*=2<br>            mtr[k][j]=0<br>            score=mtr[k+1][j]<br>            visit.append(4*(k)+j)<br>            visit.append(4*(k+1)+j)<br><br><br>  elif dirct == 2:  # up<br>    for j in range(4):<br>      for i in range(1,4):<br>        for k in range(i,0,-1):<br>          if mtr[k-1][j]==0:<br>            mtr[k-1][j]=mtr[k][j]<br>            mtr[k][j]=0<br>          elif mtr[k-1][j]==mtr[k][j] and (4 *(k-1)+j) not in visit and (4*k+j) not in visit:<br>            mtr[k-1][j]*=2<br>            mtr[k][j]=0<br>            score += mtr[k-1][j]<br>            visit.append(4*(k)+j)<br>            visit.append(4*(k-1)+j)<br><br>  elif dirct == 3:  # right<br>    for i in range(4):<br>      for j in range(3, 0, -1):<br>        for k in range(j):<br>           if mtr[i][k+1]  == 0:<br>            mtr[i][k+1] = mtr[i][k]<br>            mtr[i][k]=0<br>           elif mtr[i][k] ==mtr[i][k+1] and 4 * i + k + 1 not in visit and 4 * i + k not in visit:<br>            mtr[i][k+1]*=2<br>            mtr[i][k]=0<br>            score+=mtr[i][k+1]<br>            visit.append(4*i+k+1)<br>            visit.append(4*i+k)<br><br><br>  return score<br><br><br>def update(mtr):<br>  ran_pos=[]<br>  ran_num=[2,4]<br><br>  for i in range(4):<br>    for j in range(4):<br>      if mtr[i][j]==0:<br>         ran_pos.append(4*i+j)<br>  if len(ran_pos)&gt;0:<br>    k=random.choice(ran_pos)<br>    n=random.choice(ran_num)<br>    mtr[k/4][k%4]=n<br><br># map 0 left,1 down,2 up ,3 right<br># a,j=&gt; left ,s,k=&gt;down, w,i=&gt;up, d,l=&gt;right<br>declare = "←：a/j  ↓: s/k ↑: w/i →: d/l ,q(uit),b(ack)"<br>illegal = "Illegal operation!"<br>noefficient = "This move has no efficient"<br>if __name__ == '__main__':<br>  score = 0<br>  step = 0<br>  mtr = init()<br>  mtr_stk = []  # for back<br>  scr_stk = []<br>  tmp = copy.deepcopy(mtr)<br>  mtr_stk.append(tmp)<br>  scr_stk.append(0)<br>  display(mtr)<br>  fd = sys.stdin.fileno()<br>  old_settings = termios.tcgetattr(fd)<br>  while go_on(mtr, score):<br>    try :<br>      tty.setraw( fd )<br>      ch = sys.stdin.read( 1 )<br>    finally :<br>      termios.tcsetattr(fd, termios.TCSADRAIN, old_settings)<br>    print "Step :%d Score :%d (%s):" % (step, score, declare)<br>    #dirct = raw_input("Step :%d Score :%d (%s):" % (step, score, declare))<br>    #dirct = dirct.lower()<br>    dirct = ch<br>    if dirct == "q":<br>      break<br>    elif dirct == "a" or dirct == "j":<br>      dirct = 0<br>    elif dirct == "s" or dirct == "k":<br>      dirct = 1<br>    elif dirct == "w" or dirct == "i":<br>      dirct = 2<br>    elif dirct == "d" or dirct == "l":<br>      dirct = 3<br>    elif dirct == "b":<br>      if len(mtr_stk) == 1:<br>        print "Can't Back.."<br>      else:<br>        mtr_stk.pop()<br>        scr_stk.pop()<br>        mtr = copy.deepcopy(mtr_stk[-1])<br>        score = scr_stk[-1]<br>        step -= 1<br>      continue<br>    else:<br>      print illegal<br>      continue<br>    tmp = copy.deepcopy(mtr)<br>    op_scr = move(mtr, dirct)<br>    if tmp != mtr:<br>      score = score + op_scr<br>      update(mtr) #更新<br>      display(mtr)<br>      tmp = copy.deepcopy(mtr)<br>      mtr_stk.append(tmp)  # 插入后退队列<br>      scr_stk.append(int(score))<br>      step = step + 1  # 步数加1<br>    else:<br>      print noefficient<br></p><div><br></div></pre><p style="margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);"   ><br></p><wbr></div>
        <div class="nbw-blog-end"></div>

        <div>
		</div>

        <div>
		</div>

		<div>
      	  <div >
		  	<script type="text/javascript" id="wumiiRelatedItems"></script>
		  </div>
		</div>

        <div class="ptc phide ztag">
          <span class="ptcp">
            <span class="iblock bcmimg">&nbsp;</span>
            <span class="nbc-0 nbc-0-40 ptcmt ptcmt-2">评论这张</span>
          </span>
        </div>
		<div style="display:none" class="ptc phide ztag">
          <span class="ptcp">
            <span class="nbc-0 nbc-0-40 ptcmi">
              <img src="http://b.bst.126.net/newpage/images/microblog.png?1" />
            </span>
            <span class="nbc-0 nbc-0-40 ptcmt">转发至微博</span>
          </span>
        </div>
        <div class="ptc phide">
          <a id="publishtolofter" class="toLofter" title="发布到LOFTER" target="_blank" hidefocus="true">&nbsp;</a>
        </div>
        
        <div style="display:none" class="ptc phide ztag">
          <span class="ptcp">
            <span class="nbc-0 nbc-0-40 ptcmi">
              <img src="http://b.bst.126.net/newpage/images/microblog.png?1" />
            </span>
            <span class="nbc-0 nbc-0-40 ptcmt">转发至微博</span>
          </span>
        </div>

        <div style="width:290px;" class="phide"><iframe id="$_mblogcardf" allowTransparency="true" frameborder="0" scrolling="no" width="100%" height="133"></iframe></div>

        <div class="nbw-act tbar fc03 clearfix">
          
          
          <div class="editopbar" style="height:32px;line-height:32px;text-align:left;">
            <span class="fc07">阅读(<span id="$_spaniReadCount">8</span>)</span><span class="sep fc07">|</span>
            <span class="fc07">评论(<span id="$_spaniCommentCount">0</span>)</span>
            <span class="sep fc07">|</span>
            <a class="noul m2a" href="http://zwssd1980.blog.163.com/blog/getBlog.do?bid=fks_087069080082081065081084083071072085081065093080082074">编辑</a>
            <span class="sep fc07">|</span><span id="$_spanDelete" class="m2a">删除</span>
              <span class="sep fc07">|</span><a target="_blank" class="noul m2a" href="http://q.163.com/blogPush.do?pi=3029649&ps=302964920157149512717">推送</a>
            <span class="sep fc07">|</span><span id="$_spanTop" class="m2a">置顶</span>
          </div>
          
          
          <div style="height:40px;line-height:40px;">
            <div class="pleft rdif">
              <span style="display:none" class="pleft sep sep-last fc07">|</span>
              <div class="share-wrap pleft">
                <span id="$_shareBtn_lofter" title="分享到LOFTER" class="shareitm lofter f-bkicons">&nbsp;</span>
                <span id="$_shareBtn_sinaweibo" title="分享到新浪微博" class="shareitm sinawb f-bkicons">&nbsp;</span>
                <span id="$_shareBtn_qq" title="分享到QQ空间" class="shareitm qqzone f-bkicons">&nbsp;</span>
                <span id="$_shareBtn_qqweibo" title="分享到腾讯微博" class="shareitm qqweibo f-bkicons">&nbsp;</span>
                <div id="$_shareBtn_weixin" title="分享到微信" class="shareitm weixin f-bkicons">
<div class="code2dimlayer fc06">
    <img src="http://blog.163.com/bitMaxImageGen.do?url=http://zwssd1980.blog.163.com/blog/static/302964920157149512717&w=100&h=100&act=qbbkfxtj_20150420_11">
    <div class="tips">
        <p>用微信&nbsp;&nbsp;“扫一扫”</p>
        <p>将文章分享到朋友圈。</p>
    </div>
    <a class="close">&nbsp;</a>
</div>
                </div>
                <div id="$_shareBtn_yixin" title="分享到易信" class="shareitm yixin f-bkicons">
<div class="code2dimlayer fc06">
    <img src="http://blog.163.com/bitMaxImageGen.do?url=http://zwssd1980.blog.163.com/blog/static/302964920157149512717&w=100&h=100&act=qbbkfxtj_20150420_12">
    <div class="tips">
        <p>用易信&nbsp;&nbsp;“扫一扫”</p>
        <p>将文章分享到朋友圈。</p>
    </div>
    <a class="close">&nbsp;</a>
</div>
                </div>
              </div>
              
              <form style="display:none" id="shareToLofterForm" method="post" target="_blank" action="http://www.lofter.com/sharetext?act=qbblogpost_20131023_04">
                <input type="hidden" name="thirdId" value="fks_087069080082081065081084083071072085081065093080082074" />
                <input type="hidden" name="from" value="BLOGPOST" />
                <input type="hidden" name="title" value="一起来写2048(160行python代码)" />
                <input type="hidden" name="content" value="&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;来到这里，我假设大家都玩过2048了，于是我们先分析一下怎么来写一个简单的2048？回想一下，游戏的过程是很简单的：&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;strong style=&quot;text-indent: 0px;&quot;   &gt;开始===&amp;gt;(&amp;nbsp; 进行操作(上下左右)===&amp;gt;矩阵移动===&amp;gt;数字合并===&amp;gt;计分&amp;nbsp; )===&amp;gt;退出&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;括号内就是游戏的进行过程了，我们退出大概就是两个：1.出现2048,胜利退出 2.无法合并同时无法出现新数（是且的关系）&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;懂得这个运行过程后，我们就一步步来写，整个过程也不会难，哪怕你跟我一样基本是&amp;nbsp;&lt;strong style=&quot;text-indent: 0px;&quot;   &gt;新手&amp;nbsp;&lt;/strong&gt;。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;先看看简略图，看起来虽然真的很朴素，但是爱美的你，可以在看完我的程序后自己美化。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;&lt;img title=&quot;一起来写2048(160行python代码) - davidjory - 伟的博客&quot;   src=&quot;http://img2.tuicool.com/y2aIR3.jpg&quot;   alt=&quot;&quot;   style=&quot;max-width: 550px; height: auto; vertical-align: middle; border-style: none; text-align: center; margin: 0px auto; display: block;&quot;   &gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;&lt;strong style=&quot;text-indent: 0px;&quot;   &gt;储存结构：&amp;nbsp;&lt;/strong&gt;列表，其中包括二维矩阵列表，即所谓的mtr[4][4],以及栈，栈是用于退回，如果大家不想要这个功能可以直接忽略。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;我们的变量定义：&lt;/p&gt;&lt;pre style=&quot;padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);&quot;   &gt;&lt;span&gt;declare = &lt;span&gt;&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;←：a/h  ↓: s/j ↑: w/k →: d/l ,q(uit),b(ack)&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;illegal = &lt;span&gt;&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;Illegal operation!&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;noefficient = &lt;span&gt;&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;This move has no efficient&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;score = &lt;span&gt;&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;step = &lt;span&gt;&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;mtr = &lt;span&gt;init()  # init the matrix&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;mtr_stk = &lt;span&gt;[]  # use step for back&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;scr_stk = &lt;span&gt;[]&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;稍微解释一下： declare是解释操作提示，自己喜欢怎么写就怎么写～&lt;/span&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; illegal是我们输入非正常操作提示,，可以省略&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; noefficient是我们往这个方向没效果，也可以省略～&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; score是得分，step是走了多少步，&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; mtr是我们的二维方阵，&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; mtr_stk，scr_stk是储存栈，用于后退功能,如果不要后退，还是可以省略～&amp;nbsp;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;&lt;strong style=&quot;text-indent: 0px;&quot;   &gt;算法实现：&amp;nbsp;&lt;/strong&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;&amp;nbsp;・「注：其实没有算法可言....更准确叫函数实现。」&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;&lt;strong style=&quot;text-indent: 0px;&quot;   &gt;（1）.在我们这个没有界面的2048中，我们只能用制表符啦，所以我们需要一个display函数。&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;&amp;nbsp;这是一个非常简单的事情，跟C语言的printf基本一致, 像如下代码，基本就能绘制出一个&amp;nbsp;&lt;strong style=&quot;text-indent: 0px;&quot;   &gt;固定数字&amp;nbsp;&lt;/strong&gt;的表格了。&amp;nbsp;&lt;br&gt;&lt;/p&gt;&lt;pre style=&quot;padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);&quot;   &gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┌&quot;&lt;/span&gt;+(&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┬&quot;&lt;/span&gt;)&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*3&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┐&quot;&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;│&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4d&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4d&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4d&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4d&lt;/span&gt; │&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%(&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;,&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2048&lt;/span&gt;,&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;25&lt;/span&gt;,&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;)
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;├&quot;&lt;/span&gt;+(&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┼&quot;&lt;/span&gt;)&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*3&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┤&quot;&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;│&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4d&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4d&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4d&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4d&lt;/span&gt; │&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%(&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;,&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2048&lt;/span&gt;,&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;25&lt;/span&gt;,&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;)
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;├&quot;&lt;/span&gt;+(&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┼&quot;&lt;/span&gt;)&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*3&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┤&quot;&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;│&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4d&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4d&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4d&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4d&lt;/span&gt; │&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%(&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;,&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2048&lt;/span&gt;,&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;25&lt;/span&gt;,&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;)
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;├&quot;&lt;/span&gt;+(&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┼&quot;&lt;/span&gt;)&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*3&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┤&quot;&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;│&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4d&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4d&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4d&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4d&lt;/span&gt; │&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%(&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;,&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2048&lt;/span&gt;,&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;25&lt;/span&gt;,&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;)
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;└&quot;&lt;/span&gt;+(&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┴&quot;&lt;/span&gt;)&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*3&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┘&quot;&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;但是我们需要的是将固定的数字变成我们矩阵mtr的数字。&lt;/span&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;另外可以，注意到一点，数字输出的形式是固定的，表格边线，只有交叉点是不同，其他是0。而交叉点有五个，我们可以走循环（觉得麻烦可以直接忽略）&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;为了美观，我们&amp;nbsp;&lt;strong style=&quot;text-indent: 0px;&quot;   &gt;不将0输出&lt;/strong&gt;&amp;nbsp;，所以我们输出时候选择的是字符串即%s,这样，我们遇到0,就可以输出' ',其他直接输出。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;我们可以用python的&amp;nbsp;&lt;strong style=&quot;text-indent: 0px;&quot;   &gt;三目运算符号&lt;/strong&gt;&lt;/p&gt;&lt;pre style=&quot;padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);&quot;   &gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4s&lt;/span&gt; &quot;&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%(&lt;/span&gt;mtr[i][j] &lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; mtr[i][j] &lt;span style=&quot;font-weight: bold;&quot;   &gt;else&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;' '&lt;/span&gt;)&lt;/pre&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;所以我们的绘制表格写成这样子：&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;最直接的方法！&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;&lt;/span&gt;&lt;pre style=&quot;padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);&quot;   &gt;def T(a):
    &lt;span style=&quot;font-weight: bold;&quot;   &gt;return&lt;/span&gt; a &lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; a &lt;span style=&quot;font-weight: bold;&quot;   &gt;else&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;' '&lt;/span&gt;
def display(mtr):
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┌&quot;&lt;/span&gt;+(&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┬&quot;&lt;/span&gt;)&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*3&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┐&quot;&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;│&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4s&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4s&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4s&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4s&lt;/span&gt; │&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%(&lt;/span&gt;T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;]))
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;├&quot;&lt;/span&gt;+(&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┼&quot;&lt;/span&gt;)&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*3&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┤&quot;&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;│&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4s&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4s&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4s&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4s&lt;/span&gt; │&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%(&lt;/span&gt;T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;]))
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;├&quot;&lt;/span&gt;+(&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┼&quot;&lt;/span&gt;)&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*3&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┤&quot;&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;│&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4s&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4s&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4s&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4s&lt;/span&gt; │&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%(&lt;/span&gt;T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;]))
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;├&quot;&lt;/span&gt;+(&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┼&quot;&lt;/span&gt;)&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*3&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┤&quot;&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;│&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4s&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4s&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4s&lt;/span&gt; │&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%4s&lt;/span&gt; │&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%(&lt;/span&gt;T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;]))
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;└&quot;&lt;/span&gt;+(&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┴&quot;&lt;/span&gt;)&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*3&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;*5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┘&quot;&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;如果&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;走循环&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;&amp;nbsp;可以这样写：就是枚举交叉点情况。&lt;/span&gt;&lt;pre style=&quot;padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);&quot;   &gt;&lt;span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;def&lt;/span&gt; &lt;span style=&quot;color: rgb(153, 0, 0); font-weight: bold;&quot;   &gt;display&lt;/span&gt;&lt;span&gt;(mtrx)&lt;/span&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;#output function&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;a = (&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┌&quot;&lt;/span&gt;, &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;├&quot;&lt;/span&gt;, &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;├&quot;&lt;/span&gt;, &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;├&quot;&lt;/span&gt;, &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;└&quot;&lt;/span&gt;)
&lt;span&gt;  &lt;/span&gt;b = (&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┬&quot;&lt;/span&gt;, &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┼&quot;&lt;/span&gt;, &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┼&quot;&lt;/span&gt;, &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┼&quot;&lt;/span&gt;, &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┴&quot;&lt;/span&gt;)
&lt;span&gt;  &lt;/span&gt;c = (&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┐&quot;&lt;/span&gt;, &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┤&quot;&lt;/span&gt;, &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┤&quot;&lt;/span&gt;, &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┤&quot;&lt;/span&gt;, &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┘&quot;&lt;/span&gt;)
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; i &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; a[i] + (&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt; * &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;5&lt;/span&gt; + b[i]) * &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt; + (&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt; * &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;5&lt;/span&gt; + c[i])
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; j &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;│%4s&quot;&lt;/span&gt; % (mtrx[i][j] &lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; mtrx[i][j] &lt;span style=&quot;font-weight: bold;&quot;   &gt;else&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;' '&lt;/span&gt;),
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;│&quot;&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; a[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;] + (&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt; * &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;5&lt;/span&gt; + b[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;]) * &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt; + (&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt; * &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;5&lt;/span&gt; + c[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;])&lt;/pre&gt;&lt;strong style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;（2）有了表格雏形，我们需要对矩阵进行初始化，then,我们就可以看到一个像模像样的2048开始啦！&lt;/strong&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;&lt;/span&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;初始化矩阵是非常简单的，我们在矩阵中选两个不同位置，设置为2其他为0即可。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;先设置为0(没有memset，r(st)q)&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;但是这样就可以啦：(看不惯？没关系，非常容易理解，慢慢习惯吧！)&lt;/p&gt;&lt;pre style=&quot;padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);&quot;   &gt;mtr = [[0 &lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; i &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(4)] &lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; j &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(4)]&lt;/pre&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;我们选的位置是采取随机的，要保证不同，方法很多，但是我们python的random.sample就非常棒了！&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;我们用简单的一句&lt;/p&gt;&lt;pre style=&quot;padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);&quot;   &gt;&lt;span&gt;ran_pos = &lt;span&gt;random.sample(range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;16&lt;/span&gt;), &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;便可以得到一个由两个不同组成的片段&lt;/span&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;之后我们通过 4*i+j 进行二维到一维的映射，同样也用（ num/4 ，num%4）进行一维到二维的映射&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;所以我们初始话的过程也是十分简单。(要是偷懒，也可以直接忽略随机过程，自己指定吧！哈哈)&lt;/p&gt;&lt;pre style=&quot;padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);&quot;   &gt;&lt;span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;def&lt;/span&gt; &lt;span style=&quot;color: rgb(153, 0, 0); font-weight: bold;&quot;   &gt;init&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;#initial of matrix&lt;/span&gt;
    mtr = [[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; i &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;)] &lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; j &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;)]  
    ran_pos = random.sample(range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;16&lt;/span&gt;), &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;)
    mtr[ran_pos[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;]/&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;][ran_pos[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;]%&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;] = mtr[ran_pos[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]/&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;][ran_pos[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]%&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;] = &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;
    &lt;span style=&quot;font-weight: bold;&quot;   &gt;return&lt;/span&gt; mtr&lt;/pre&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;怎么样？2048有2个2啦！！！O(∩_∩)O哈哈~&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;&lt;strong style=&quot;text-indent: 0px;&quot;   &gt;(3)动起来！！让我们的2048动起来！&amp;nbsp;&lt;/strong&gt;&lt;br&gt;老实说，这个过程是全个程序最核心的部分，也是最难过的～不过理解了也就不难了。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;我们先看向左移动吧。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;记得我们玩的时候，合并过的格子是不会再在这次合并的，比如 某一行为 2 2 2 2 最后移动到的结果是4 4 0 0 而不是 8 0 0 0。我们要理解这个过程：&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;&amp;nbsp; 我们对于每一行的操作是一样的，即行间无关，所以我们现在要讨论第i行，当我们向左动起来的时候，我们从最左开始确定，我们一开始合并前两个，再合并前三个，再合并前4个。比如&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 2 2 4 4&amp;nbsp;&amp;nbsp; =&amp;gt; 4 0 4 4 =&amp;gt; 4 4 0 4 =&amp;gt;4 4 4 0 =&amp;gt; 4 8 0 0&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;注意两点： 1.合并过的不再参与合并，所以我们需要一个visit列表,用到前面所讲的映射&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 2.合并的情况=&amp;gt;相邻的相等，移动的情况=&amp;gt;当前元素为0&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;python代码&lt;/p&gt;&lt;pre style=&quot;padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);&quot;   &gt;visit=[]
score=&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt; 
&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; i &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; j &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;, &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  &lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; k &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(j,&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;,-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; mtr[i][k - &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;] == &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt; :
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[i][k - &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;] = mtr[i][k]
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[i][k] = &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; mtr[i][k - &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;] == mtr[i][k] &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt; * i + k - &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;not&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; visit &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt; * i + k &lt;span style=&quot;font-weight: bold;&quot;   &gt;not&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; visit:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[i][k - &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;] *= &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[i][k] = &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;score += mtr[i][k - &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;visit.append(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt; * i + k)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;visit.append(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt; * i + k - &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;)&lt;/pre&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;当你想明白这个过程后，整个move过程就自然清晰起来了。&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;&lt;strong&gt;这个是本文第一个，最后一个比较长的函数了！&lt;/strong&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;&lt;/span&gt;&lt;pre style=&quot;padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);&quot;   &gt;&lt;span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;def&lt;/span&gt; &lt;span style=&quot;color: rgb(153, 0, 0); font-weight: bold;&quot;   &gt;move&lt;/span&gt;&lt;span&gt;(mtr, dirct)&lt;/span&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;#the core code!move by the four direction&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;score = &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;visit = []
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;:  &lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;# left&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; i &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; j &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;, &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; k &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(j,&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;,-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; mtr[i][k - &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;] == &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt; :
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[i][k - &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;] = mtr[i][k]
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[i][k] = &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; mtr[i][k - &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;] == mtr[i][k] &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt; * i + k - &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;not&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; visit &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt; * i + k &lt;span style=&quot;font-weight: bold;&quot;   &gt;not&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; visit:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[i][k - &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;] *= &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[i][k] = &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;score += mtr[i][k - &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;visit.append(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt; * i + k)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;visit.append(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt; * i + k - &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;)
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;:  &lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;# down&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; j &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; i &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;, &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;, -&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; k &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;,i):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;   &lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; mtr[k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j] == &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  mtr[k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j] = mtr[k][j]
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  mtr[k][j]=&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;   &lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; mtr[k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j]==mtr[k][j] &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; (&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt; *(k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;)+j) &lt;span style=&quot;font-weight: bold;&quot;   &gt;not&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; visit &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; (&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;*k+j) &lt;span style=&quot;font-weight: bold;&quot;   &gt;not&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; visit:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  mtr[k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j]*=&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  mtr[k][j]=&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  score=mtr[k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j]
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  visit.append(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;*(k)+j)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  visit.append(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;*(k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;)+j)
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;:  &lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;# up&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; j &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; i &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;,&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; k &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(i,&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;,-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; mtr[k-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j]==&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[k-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j]=mtr[k][j]
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[k][j]=&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; mtr[k-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j]==mtr[k][j] &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; (&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt; *(k-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;)+j) &lt;span style=&quot;font-weight: bold;&quot;   &gt;not&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; visit &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; (&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;*k+j) &lt;span style=&quot;font-weight: bold;&quot;   &gt;not&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; visit:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[k-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j]*=&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[k][j]=&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;score += mtr[k-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j]
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;visit.append(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;*(k)+j)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;visit.append(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;*(k-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;)+j)
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;:  &lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;# right&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; i &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; j &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;, &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;, -&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; k &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(j):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;   &lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; mtr[i][k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]  == &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  mtr[i][k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;] = mtr[i][k]
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  mtr[i][k]=&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;   &lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; mtr[i][k] ==mtr[i][k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;] &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt; * i + k + &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;not&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; visit &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt; * i + k &lt;span style=&quot;font-weight: bold;&quot;   &gt;not&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; visit:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  mtr[i][k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]*=&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  mtr[i][k]=&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  score+=mtr[i][k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  visit.append(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;*i+k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  visit.append(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;*i+k)
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;return&lt;/span&gt; score&lt;/pre&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;（4）当你来到这步，已经进入轻松的状态了，让控制台读入你的操作，短短两行，其中一行是转成小写&lt;/span&gt;&lt;pre style=&quot;padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);&quot;   &gt;dirct = raw_input(&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;Step :&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%d&lt;/span&gt; Score :&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%d&lt;/span&gt; (&lt;span style=&quot;color: rgb(0, 128, 128);&quot;   &gt;%s&lt;/span&gt;):&quot;&lt;/span&gt; % (step, score, declare))
        dirct = dirct.lower()&lt;/pre&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;（5）判断读入操作并处理&lt;/span&gt;&lt;pre style=&quot;padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);&quot;   &gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;q&quot;&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;break&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;a&quot;&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;or&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;h&quot;&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;dirct = &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;s&quot;&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;or&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;j&quot;&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;dirct = &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;w&quot;&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;or&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;k&quot;&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;dirct = &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;d&quot;&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;or&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;l&quot;&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;dirct = &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;b&quot;&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; len(mtr_stk) == &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;Can't Back..&quot;&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;else&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr_stk.pop()
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;scr_stk.pop()
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr = copy.deepcopy(mtr_stk[-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;])
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;score = scr_stk[-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;step -= &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;continue&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;else&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; illegal
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;continue&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;我是vim 的脑残粉，所以还支持了hjkl，如果你没有习惯vim什么的，直接asdw就可以了。&lt;/span&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;上面最麻烦最值得注意的就是要用深复制.这个bug我调了很久啊亲，用&quot;=&quot;伤不起啊。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;上面的处理意思就是： 映射方向，和b,q的处理（有continue是因为我们将嵌套于while中）。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;(6)移动的处理&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;在上面处理后，筛选出移动的操作，之后我们调用移动函数，进行加分，和比较。&lt;/p&gt;&lt;pre style=&quot;padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);&quot;   &gt;tmp = copy.deepcopy(mtr)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;op_scr = move(mtr, dirct)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; tmp != mtr:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;score = score + op_scr
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;update(mtr) &lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;#更新&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;display(mtr)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;tmp = copy.deepcopy(mtr)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr_stk.append(tmp)  &lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;# 插入后退队列&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;scr_stk.append(&lt;span style=&quot;font-weight: bold;&quot;   &gt;int&lt;/span&gt;(score))
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;step = step + &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;  &lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;# 步数加1&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;else&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; noefficient&lt;/pre&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;注意：&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;不能仅仅用加分来判断！因为我们很多时候都是没有碰撞合并，等待下一个2,4出现&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;我们用深复制，将老的矩阵放在tmp上，再移动，将老新矩阵比较，没改变的时候就输出 noefficient,否则就加分，插入新数字，并显示，最后将矩阵压入栈中，因为要后退！&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;(7)插入新数字&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;我们遍历0-16,并映射后，将对应0的位置放入random列表，我们用random.choice选出一个，同理我们生成一个ran_num=[2,4],选取加分&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;之后对应位置加分咯！但是注意，当我们没有空位时候不要插数字。&lt;/p&gt;&lt;pre style=&quot;padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);&quot;   &gt;&lt;span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;def&lt;/span&gt; &lt;span style=&quot;color: rgb(153, 0, 0); font-weight: bold;&quot;   &gt;update&lt;/span&gt;&lt;span&gt;(mtr)&lt;/span&gt;:&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;ran_pos=[]
&lt;span&gt;  &lt;/span&gt;ran_num=[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;,&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;]

&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; i &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; j &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; mtr[i][j]==&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;   ran_pos.append(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;*i+j)
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; len(ran_pos)&amp;gt;&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;k=random.choice(ran_pos)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;n=random.choice(ran_num)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[k/&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;][k%&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;]=n&lt;/pre&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;(8)最后一个啦！！！游戏的循环条件&lt;/span&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;这个还是很简单的。游戏进行，当前仅当：没有2048且（有0或者可以合并）。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;所以我们只需要判断2048 in mtr,有就结束，没有 == &amp;gt; 0 in mtr ?有就继续，没有==&amp;gt;可以合并？有继续，没有==》，就返回结束啦&lt;/p&gt;&lt;pre style=&quot;padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);&quot;   &gt;&lt;span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;def&lt;/span&gt; &lt;span style=&quot;color: rgb(153, 0, 0); font-weight: bold;&quot;   &gt;go_on&lt;/span&gt;&lt;span&gt;(mtr, score)&lt;/span&gt;:&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2048&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; mtr:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;Great!You win!Your score is &quot;&lt;/span&gt;, score
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;raw_input(&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;Press any key to continue...&quot;&lt;/span&gt;)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;exit()
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; mtr:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 134, 179);&quot;   &gt;True&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; i &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; j &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; i &amp;lt; &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; mtr[i][j] == mtr[i + &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j]:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 134, 179);&quot;   &gt;True&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; j &amp;lt; &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; mtr[i][j] == mtr[i][j + &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 134, 179);&quot;   &gt;True&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;Gameover!&quot;&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 134, 179);&quot;   &gt;False&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;(9)一些其他的东西&lt;/span&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;注意一开始要画出开始的画面（循环外），一开始要将初始矩阵，初始分数，压入栈。&amp;nbsp;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;最后来个最终版本的&lt;/p&gt;&lt;pre style=&quot;padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-radius: 4px; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgba(0, 0, 0, 0.14902); overflow-y: auto; background-color: rgb(246, 246, 246);&quot;   &gt;&lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;#!/usr/bin/env python&lt;/span&gt;
&lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;# coding=utf-8&lt;/span&gt;
&lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;#********************************************************&lt;/span&gt;
&lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;# &amp;gt; OS	 : Linux 3.2.0-60-generic #91-Ubuntu&lt;/span&gt;
&lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;#	&amp;gt; Author : yaolong&lt;/span&gt;
&lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;#	&amp;gt; Mail   : dengyaolong@yeah.net&lt;/span&gt;
&lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;#	&amp;gt; Time   : 2014年06月01日 星期日 13:13:39&lt;/span&gt;
&lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;#********************************************************&lt;/span&gt;
&lt;span style=&quot;font-weight: bold;&quot;   &gt;import&lt;/span&gt; random
&lt;span style=&quot;font-weight: bold;&quot;   &gt;import&lt;/span&gt; copy

&lt;span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;def&lt;/span&gt; &lt;span style=&quot;color: rgb(153, 0, 0); font-weight: bold;&quot;   &gt;T&lt;/span&gt;&lt;span&gt;(a)&lt;/span&gt;:&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;return&lt;/span&gt; a &lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; a &lt;span style=&quot;font-weight: bold;&quot;   &gt;else&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;' '&lt;/span&gt;
&lt;span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;def&lt;/span&gt; &lt;span style=&quot;color: rgb(153, 0, 0); font-weight: bold;&quot;   &gt;display&lt;/span&gt;&lt;span&gt;(mtr)&lt;/span&gt;:&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┌&quot;&lt;/span&gt;+(&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;*&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┬&quot;&lt;/span&gt;)*&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;*&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┐&quot;&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;│%4s │%4s │%4s │%4s │&quot;&lt;/span&gt;%(T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;]))
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;├&quot;&lt;/span&gt;+(&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;*&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┼&quot;&lt;/span&gt;)*&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;*&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┤&quot;&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;│%4s │%4s │%4s │%4s │&quot;&lt;/span&gt;%(T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;]))
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;├&quot;&lt;/span&gt;+(&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;*&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┼&quot;&lt;/span&gt;)*&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;*&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┤&quot;&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;│%4s │%4s │%4s │%4s │&quot;&lt;/span&gt;%(T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;]))
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;├&quot;&lt;/span&gt;+(&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;*&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┼&quot;&lt;/span&gt;)*&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;*&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┤&quot;&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;│%4s │%4s │%4s │%4s │&quot;&lt;/span&gt;%(T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;]),T(mtr[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;][&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;]))
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;└&quot;&lt;/span&gt;+(&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;*&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┴&quot;&lt;/span&gt;)*&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;─&quot;&lt;/span&gt;*&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;5&lt;/span&gt;+&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;┘&quot;&lt;/span&gt;


&lt;span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;def&lt;/span&gt; &lt;span style=&quot;color: rgb(153, 0, 0); font-weight: bold;&quot;   &gt;init&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;:&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;mtr = [[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; i &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;)] &lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; j &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;)]  &lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;# 小小蛋疼..&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;ran_pos = random.sample(range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;16&lt;/span&gt;), &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;)
&lt;span&gt;  &lt;/span&gt;mtr[ran_pos[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;]/&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;][ran_pos[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;]%&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;] = mtr[ran_pos[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]/&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;][ran_pos[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]%&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;] = &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;return&lt;/span&gt; mtr

&lt;span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;def&lt;/span&gt; &lt;span style=&quot;color: rgb(153, 0, 0); font-weight: bold;&quot;   &gt;go_on&lt;/span&gt;&lt;span&gt;(mtr, score)&lt;/span&gt;:&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2048&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; mtr:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;Great!You win!Your score is &quot;&lt;/span&gt;, score
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;raw_input(&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;Press any key to continue...&quot;&lt;/span&gt;)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;exit()
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; mtr:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 134, 179);&quot;   &gt;True&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; i &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; j &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; i &amp;lt; &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; mtr[i][j] == mtr[i + &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j]:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 134, 179);&quot;   &gt;True&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; j &amp;lt; &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; mtr[i][j] == mtr[i][j + &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 134, 179);&quot;   &gt;True&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;Gameover!&quot;&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 134, 179);&quot;   &gt;False&lt;/span&gt;


&lt;span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;def&lt;/span&gt; &lt;span style=&quot;color: rgb(153, 0, 0); font-weight: bold;&quot;   &gt;move&lt;/span&gt;&lt;span&gt;(mtr, dirct)&lt;/span&gt;:&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;score = &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;visit = []
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;:  &lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;# left&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; i &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; j &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;, &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; k &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(j,&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;,-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; mtr[i][k - &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;] == &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt; :
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[i][k - &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;] = mtr[i][k]
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[i][k] = &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; mtr[i][k - &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;] == mtr[i][k] &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt; * i + k - &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;not&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; visit &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt; * i + k &lt;span style=&quot;font-weight: bold;&quot;   &gt;not&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; visit:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[i][k - &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;] *= &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[i][k] = &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;score += mtr[i][k - &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;visit.append(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt; * i + k)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;visit.append(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt; * i + k - &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;# for i in range(4):&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;#	for j in range(3):&lt;/span&gt;

&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;:  &lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;# down&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; j &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; i &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;, &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;, -&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; k &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;,i):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;   &lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; mtr[k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j] == &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  mtr[k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j] = mtr[k][j]
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  mtr[k][j]=&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;   &lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; mtr[k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j]==mtr[k][j] &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; (&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt; *(k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;)+j) &lt;span style=&quot;font-weight: bold;&quot;   &gt;not&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; visit &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; (&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;*k+j) &lt;span style=&quot;font-weight: bold;&quot;   &gt;not&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; visit:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  mtr[k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j]*=&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  mtr[k][j]=&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  score=mtr[k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j]
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  visit.append(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;*(k)+j)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  visit.append(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;*(k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;)+j)


&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;:  &lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;# up&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; j &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; i &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;,&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; k &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(i,&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;,-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; mtr[k-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j]==&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[k-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j]=mtr[k][j]
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[k][j]=&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; mtr[k-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j]==mtr[k][j] &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; (&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt; *(k-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;)+j) &lt;span style=&quot;font-weight: bold;&quot;   &gt;not&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; visit &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; (&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;*k+j) &lt;span style=&quot;font-weight: bold;&quot;   &gt;not&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; visit:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[k-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j]*=&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[k][j]=&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;score += mtr[k-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;][j]
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;visit.append(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;*(k)+j)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;visit.append(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;*(k-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;)+j)

&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;:  &lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;# right&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; i &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; j &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;, &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;, -&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; k &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(j):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;   &lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; mtr[i][k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]  == &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  mtr[i][k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;] = mtr[i][k]
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  mtr[i][k]=&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;   &lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; mtr[i][k] ==mtr[i][k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;] &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt; * i + k + &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;not&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; visit &lt;span style=&quot;font-weight: bold;&quot;   &gt;and&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt; * i + k &lt;span style=&quot;font-weight: bold;&quot;   &gt;not&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; visit:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  mtr[i][k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]*=&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  mtr[i][k]=&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  score+=mtr[i][k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  visit.append(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;*i+k+&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;  visit.append(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;*i+k)


&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;return&lt;/span&gt; score


&lt;span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;def&lt;/span&gt; &lt;span style=&quot;color: rgb(153, 0, 0); font-weight: bold;&quot;   &gt;update&lt;/span&gt;&lt;span&gt;(mtr)&lt;/span&gt;:&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;ran_pos=[]
&lt;span&gt;  &lt;/span&gt;ran_num=[&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;,&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;]

&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; i &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;for&lt;/span&gt; j &lt;span style=&quot;font-weight: bold;&quot;   &gt;in&lt;/span&gt; range(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; mtr[i][j]==&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;   ran_pos.append(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;*i+j)
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; len(ran_pos)&amp;gt;&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;k=random.choice(ran_pos)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;n=random.choice(ran_num)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr[k/&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;][k%&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;4&lt;/span&gt;]=n

&lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;# map 0 left,1 down,2 up ,3 right&lt;/span&gt;
&lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;# a,h=&amp;gt; left ,s,j=&amp;gt;down, w,k=&amp;gt;up, d,l=&amp;gt;right&lt;/span&gt;
declare = &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;←：a/h  ↓: s/j ↑: w/k →: d/l ,q(uit),b(ack)&quot;&lt;/span&gt;
illegal = &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;Illegal operation!&quot;&lt;/span&gt;
noefficient = &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;This move has no efficient&quot;&lt;/span&gt;
&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; __name__ == &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;'__main__'&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;score = &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;step = &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;mtr = init()
&lt;span&gt;  &lt;/span&gt;mtr_stk = []  &lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;# for back&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;scr_stk = []
&lt;span&gt;  &lt;/span&gt;tmp = copy.deepcopy(mtr)
&lt;span&gt;  &lt;/span&gt;mtr_stk.append(tmp)
&lt;span&gt;  &lt;/span&gt;scr_stk.append(&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;)
&lt;span&gt;  &lt;/span&gt;display(mtr)
&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;while&lt;/span&gt; go_on(mtr, score):
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;dirct = raw_input(&lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;Step :%d Score :%d (%s):&quot;&lt;/span&gt; % (step, score, declare))
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;dirct = dirct.lower()
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;q&quot;&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;break&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;a&quot;&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;or&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;h&quot;&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;dirct = &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;0&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;s&quot;&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;or&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;j&quot;&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;dirct = &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;w&quot;&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;or&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;k&quot;&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;dirct = &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;2&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;d&quot;&lt;/span&gt; &lt;span style=&quot;font-weight: bold;&quot;   &gt;or&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;l&quot;&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;dirct = &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;3&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;elif&lt;/span&gt; dirct == &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;b&quot;&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; len(mtr_stk) == &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; &lt;span style=&quot;color: rgb(221, 17, 68);&quot;   &gt;&quot;Can't Back..&quot;&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;else&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr_stk.pop()
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;scr_stk.pop()
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr = copy.deepcopy(mtr_stk[-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;])
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;score = scr_stk[-&lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;]
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;step -= &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;continue&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;else&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; illegal
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;continue&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;tmp = copy.deepcopy(mtr)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;op_scr = move(mtr, dirct)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;if&lt;/span&gt; tmp != mtr:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;score = score + op_scr
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;update(mtr) &lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;#更新&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;display(mtr)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;tmp = copy.deepcopy(mtr)
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;mtr_stk.append(tmp)  &lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;# 插入后退队列&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;scr_stk.append(int(score))
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;step = step + &lt;span style=&quot;color: rgb(0, 153, 153);&quot;   &gt;1&lt;/span&gt;  &lt;span style=&quot;color: rgb(153, 153, 136); font-style: italic;&quot;   &gt;# 步数加1&lt;/span&gt;
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;else&lt;/span&gt;:
&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;   &gt;print&lt;/span&gt; noefficient&lt;/pre&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;还有我github的版本，大致一样,点&amp;nbsp;&lt;/span&gt;&lt;a style=&quot;color: rgb(148, 148, 148); text-decoration: none; -webkit-transition: 0.25s; transition: 0.25s; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: rgb(148, 148, 148); font-style: italic; font-weight: bold; font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', &amp;#24494;&amp;#36719;&amp;#38597;&amp;#40657;, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot; href=&quot;https://github.com/dengyaolong/2048python/blob/master/2048.py&quot;   &gt;这里&lt;/a&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; line-height: 27.2000007629395px; background-color: rgb(254, 254, 254);&quot;   &gt;&lt;/span&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;如果我的算法有什么不对，请提出，因为写得匆忙，我未能很完整第测试，但是我自己玩了几把还是OK了，没玩到2048r(st)q。。。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;修改版 ：&lt;/p&gt;&lt;pre class=&quot;prettyprint&quot;   &gt;&lt;p&gt;#!/usr/bin/env python&lt;br&gt;# coding=utf-8&lt;br&gt;#********************************************************&lt;br&gt;# &amp;gt; OS	 : Linux 3.2.0-60-generic #91-Opensuse&lt;br&gt;#	&amp;gt; Author : David&lt;br&gt;#	&amp;gt; Mail   : xxx@xxx.com&lt;br&gt;#	&amp;gt; Time   : 2015年08月14日 星期日 08:58:39&lt;br&gt;#********************************************************&lt;br&gt;import random&lt;br&gt;import copy&lt;br&gt;import  os&lt;br&gt;import  sys&lt;br&gt;import  tty, termios&lt;br&gt;&lt;br&gt;def T(a):&lt;br&gt;  return a if a else ' '&lt;br&gt;def display(mtr):&lt;br&gt;    print &quot;┌&quot;+(&quot;─&quot;*5+&quot;┬&quot;)*3+&quot;─&quot;*5+&quot;┐&quot;&lt;br&gt;    print &quot;│%4s │%4s │%4s │%4s │&quot;%(T(mtr[0][0]),T(mtr[0][1]),T(mtr[0][2]),T(mtr[0][3]))&lt;br&gt;    print &quot;├&quot;+(&quot;─&quot;*5+&quot;┼&quot;)*3+&quot;─&quot;*5+&quot;┤&quot;&lt;br&gt;    print &quot;│%4s │%4s │%4s │%4s │&quot;%(T(mtr[1][0]),T(mtr[1][1]),T(mtr[1][2]),T(mtr[1][3]))&lt;br&gt;    print &quot;├&quot;+(&quot;─&quot;*5+&quot;┼&quot;)*3+&quot;─&quot;*5+&quot;┤&quot;&lt;br&gt;    print &quot;│%4s │%4s │%4s │%4s │&quot;%(T(mtr[2][0]),T(mtr[2][1]),T(mtr[2][2]),T(mtr[2][3]))&lt;br&gt;    print &quot;├&quot;+(&quot;─&quot;*5+&quot;┼&quot;)*3+&quot;─&quot;*5+&quot;┤&quot;&lt;br&gt;    print &quot;│%4s │%4s │%4s │%4s │&quot;%(T(mtr[3][0]),T(mtr[3][1]),T(mtr[3][2]),T(mtr[3][3]))&lt;br&gt;    print &quot;└&quot;+(&quot;─&quot;*5+&quot;┴&quot;)*3+&quot;─&quot;*5+&quot;┘&quot;&lt;br&gt;&lt;br&gt;&lt;br&gt;def init():&lt;br&gt;  mtr = [[0 for i in range(4)] for j in range(4)]  # 小小蛋疼..&lt;br&gt;  ran_pos = random.sample(range(16), 2)&lt;br&gt;  mtr[ran_pos[0]/4][ran_pos[0]%4] = mtr[ran_pos[1]/4][ran_pos[1]%4] = 2&lt;br&gt;  &lt;br&gt;  return mtr&lt;br&gt;&lt;br&gt;def go_on(mtr, score):&lt;br&gt;  if 2048 in mtr:&lt;br&gt;    print &quot;Great!You win!Your score is &quot;, score&lt;br&gt;    raw_input(&quot;Press any key to continue...&quot;)&lt;br&gt;    exit()&lt;br&gt;  if 0 in mtr:&lt;br&gt;    return True&lt;br&gt;  for i in range(4):&lt;br&gt;    for j in range(4):&lt;br&gt;      if i &amp;lt; 3 and mtr[i][j] == mtr[i + 1][j]:&lt;br&gt;        return True&lt;br&gt;      if j &amp;lt; 3 and mtr[i][j] == mtr[i][j + 1]:&lt;br&gt;        return True&lt;br&gt;  print &quot;Gameover!&quot;&lt;br&gt;  return False&lt;br&gt;&lt;br&gt;&lt;br&gt;def move(mtr, dirct):&lt;br&gt;  score = 0&lt;br&gt;  visit = []&lt;br&gt;  if dirct == 0:  # left&lt;br&gt;    for i in range(4):&lt;br&gt;      for j in range(1, 4):&lt;br&gt;        for k in range(j,0,-1):&lt;br&gt;          if mtr[i][k - 1] == 0 :&lt;br&gt;            mtr[i][k - 1] = mtr[i][k]&lt;br&gt;            mtr[i][k] = 0&lt;br&gt;          elif mtr[i][k - 1] == mtr[i][k] and 4 * i + k - 1 not in visit and 4 * i + k not in visit:&lt;br&gt;            mtr[i][k - 1] *= 2&lt;br&gt;            mtr[i][k] = 0&lt;br&gt;            score += mtr[i][k - 1]&lt;br&gt;            visit.append(4 * i + k)&lt;br&gt;            visit.append(4 * i + k - 1)&lt;br&gt;    # for i in range(4):&lt;br&gt;    #	for j in range(3):&lt;br&gt;&lt;br&gt;  elif dirct == 1:  # down&lt;br&gt;    for j in range(4):&lt;br&gt;      for i in range(3, 0, -1):&lt;br&gt;        for k in range(0,i):&lt;br&gt;           if mtr[k+1][j] == 0:&lt;br&gt;            mtr[k+1][j] = mtr[k][j]&lt;br&gt;            mtr[k][j]=0&lt;br&gt;           elif mtr[k+1][j]==mtr[k][j] and (4 *(k+1)+j) not in visit and (4*k+j) not in visit:&lt;br&gt;            mtr[k+1][j]*=2&lt;br&gt;            mtr[k][j]=0&lt;br&gt;            score=mtr[k+1][j]&lt;br&gt;            visit.append(4*(k)+j)&lt;br&gt;            visit.append(4*(k+1)+j)&lt;br&gt;&lt;br&gt;&lt;br&gt;  elif dirct == 2:  # up&lt;br&gt;    for j in range(4):&lt;br&gt;      for i in range(1,4):&lt;br&gt;        for k in range(i,0,-1):&lt;br&gt;          if mtr[k-1][j]==0:&lt;br&gt;            mtr[k-1][j]=mtr[k][j]&lt;br&gt;            mtr[k][j]=0&lt;br&gt;          elif mtr[k-1][j]==mtr[k][j] and (4 *(k-1)+j) not in visit and (4*k+j) not in visit:&lt;br&gt;            mtr[k-1][j]*=2&lt;br&gt;            mtr[k][j]=0&lt;br&gt;            score += mtr[k-1][j]&lt;br&gt;            visit.append(4*(k)+j)&lt;br&gt;            visit.append(4*(k-1)+j)&lt;br&gt;&lt;br&gt;  elif dirct == 3:  # right&lt;br&gt;    for i in range(4):&lt;br&gt;      for j in range(3, 0, -1):&lt;br&gt;        for k in range(j):&lt;br&gt;           if mtr[i][k+1]  == 0:&lt;br&gt;            mtr[i][k+1] = mtr[i][k]&lt;br&gt;            mtr[i][k]=0&lt;br&gt;           elif mtr[i][k] ==mtr[i][k+1] and 4 * i + k + 1 not in visit and 4 * i + k not in visit:&lt;br&gt;            mtr[i][k+1]*=2&lt;br&gt;            mtr[i][k]=0&lt;br&gt;            score+=mtr[i][k+1]&lt;br&gt;            visit.append(4*i+k+1)&lt;br&gt;            visit.append(4*i+k)&lt;br&gt;&lt;br&gt;&lt;br&gt;  return score&lt;br&gt;&lt;br&gt;&lt;br&gt;def update(mtr):&lt;br&gt;  ran_pos=[]&lt;br&gt;  ran_num=[2,4]&lt;br&gt;&lt;br&gt;  for i in range(4):&lt;br&gt;    for j in range(4):&lt;br&gt;      if mtr[i][j]==0:&lt;br&gt;         ran_pos.append(4*i+j)&lt;br&gt;  if len(ran_pos)&amp;gt;0:&lt;br&gt;    k=random.choice(ran_pos)&lt;br&gt;    n=random.choice(ran_num)&lt;br&gt;    mtr[k/4][k%4]=n&lt;br&gt;&lt;br&gt;# map 0 left,1 down,2 up ,3 right&lt;br&gt;# a,j=&amp;gt; left ,s,k=&amp;gt;down, w,i=&amp;gt;up, d,l=&amp;gt;right&lt;br&gt;declare = &quot;←：a/j  ↓: s/k ↑: w/i →: d/l ,q(uit),b(ack)&quot;&lt;br&gt;illegal = &quot;Illegal operation!&quot;&lt;br&gt;noefficient = &quot;This move has no efficient&quot;&lt;br&gt;if __name__ == '__main__':&lt;br&gt;  score = 0&lt;br&gt;  step = 0&lt;br&gt;  mtr = init()&lt;br&gt;  mtr_stk = []  # for back&lt;br&gt;  scr_stk = []&lt;br&gt;  tmp = copy.deepcopy(mtr)&lt;br&gt;  mtr_stk.append(tmp)&lt;br&gt;  scr_stk.append(0)&lt;br&gt;  display(mtr)&lt;br&gt;  fd = sys.stdin.fileno()&lt;br&gt;  old_settings = termios.tcgetattr(fd)&lt;br&gt;  while go_on(mtr, score):&lt;br&gt;    try :&lt;br&gt;      tty.setraw( fd )&lt;br&gt;      ch = sys.stdin.read( 1 )&lt;br&gt;    finally :&lt;br&gt;      termios.tcsetattr(fd, termios.TCSADRAIN, old_settings)&lt;br&gt;    print &quot;Step :%d Score :%d (%s):&quot; % (step, score, declare)&lt;br&gt;    #dirct = raw_input(&quot;Step :%d Score :%d (%s):&quot; % (step, score, declare))&lt;br&gt;    #dirct = dirct.lower()&lt;br&gt;    dirct = ch&lt;br&gt;    if dirct == &quot;q&quot;:&lt;br&gt;      break&lt;br&gt;    elif dirct == &quot;a&quot; or dirct == &quot;j&quot;:&lt;br&gt;      dirct = 0&lt;br&gt;    elif dirct == &quot;s&quot; or dirct == &quot;k&quot;:&lt;br&gt;      dirct = 1&lt;br&gt;    elif dirct == &quot;w&quot; or dirct == &quot;i&quot;:&lt;br&gt;      dirct = 2&lt;br&gt;    elif dirct == &quot;d&quot; or dirct == &quot;l&quot;:&lt;br&gt;      dirct = 3&lt;br&gt;    elif dirct == &quot;b&quot;:&lt;br&gt;      if len(mtr_stk) == 1:&lt;br&gt;        print &quot;Can't Back..&quot;&lt;br&gt;      else:&lt;br&gt;        mtr_stk.pop()&lt;br&gt;        scr_stk.pop()&lt;br&gt;        mtr = copy.deepcopy(mtr_stk[-1])&lt;br&gt;        score = scr_stk[-1]&lt;br&gt;        step -= 1&lt;br&gt;      continue&lt;br&gt;    else:&lt;br&gt;      print illegal&lt;br&gt;      continue&lt;br&gt;    tmp = copy.deepcopy(mtr)&lt;br&gt;    op_scr = move(mtr, dirct)&lt;br&gt;    if tmp != mtr:&lt;br&gt;      score = score + op_scr&lt;br&gt;      update(mtr) #更新&lt;br&gt;      display(mtr)&lt;br&gt;      tmp = copy.deepcopy(mtr)&lt;br&gt;      mtr_stk.append(tmp)  # 插入后退队列&lt;br&gt;      scr_stk.append(int(score))&lt;br&gt;      step = step + 1  # 步数加1&lt;br&gt;    else:&lt;br&gt;      print noefficient&lt;br&gt;&lt;/p&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/pre&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);&quot;   &gt;&lt;br&gt;&lt;/p&gt;&lt;wbr&gt;" />
                <input type="hidden" name="source" value="davidjory" />
                <input type="hidden" name="sourceUrl" value="http://zwssd1980.blog.163.com/blog/static/302964920157149512717" />
                <input type="hidden" name="tag" value="" />
              </form>
              
            </div>
            <div class="pright rightoperatebar rightoperatebar-new">
              <span class="f-myLikeIcons likebtn pnt pright" id="$_spanLike">喜欢</span>
	          <span style="display:none" id="$_spanShowRecommend" class="pleft rdct  phide">
	            <span class="pleft ul fc03"><span id="$_spanRecommendCount">0</span>人</span><span class="pleft iblock icn0 icn0-722 nbw-tgl1 nas-icn0fix">&nbsp;</span><span class="pleft iblock icn0 icn0-621 nbw-tgl0 nas-icn0fix">&nbsp;</span><span class="fc07"></span>|&nbsp;
	          </span>
                <span class="f-myLikeIcons reblogbtn pnt pright" id="$_spanCite">转载</span>
            </div>
          </div>
        </div>
      </div>
      <div class="snl">
        <div style="display:none" class="phide bdwb bds2 bdc0 rdcnt" id="$_divRecommendContent"></div>
        <div id="yodaoad" class="bdwb bds2 bdc0" style="display:none;_zoom:1;">&nbsp;</div>
        <div id="$_newOldBlogLinkBottomDiv" class='top fc03 clearfix'>
	     </div>
	    <div class="relateblog phide">
          <h4 class="bdwb bds2 bdc0 fc07 fs0">历史上的今天</h4>
          <div class="cnt ztag clearfix"></div>
        </div>
	    <div style="display:none;visibility:hidden;width:0;height:0;overflow:hidden;" class="author">
	      <h4 class="bdwb bds2 bdc0 fc07 fs0">最近读者</h4>
	      <div class="cnt ztag clearfix"></div>
	    </div>
	    <div style="display:none;visibility:hidden;width:0;height:0;overflow:hidden;" id="hotarea" class="hotarea author ">
	      <h4 class="bdwb bds2 bdc0 fc07 fs0">热度</h4>
	      <div id="hotlist" class="cnt clearfix"></div>
	    </div>
	    <div class="phide" id="yodaoad_1" style="_zoom:1;"></div>
	    
	    <div class="m-lmiddlead" style="display:none">
	        <a class="adlink" href="#" target="_blank" hidefocus="true"><img style="border:none;" id="leftmiddleadimg" /></a>
	        <div id="flashadwrap" class="flashadwrap"></div>
	        <iframe marginwidth="0" marginheight="0" id="lmid_iframe" style="display:none;" width="590" height="100" frameborder="0" scrolling="no" allowtransparency="true"></iframe>
	    </div>
	    
	    <div>
	    	<h4 class="bdwb bds2 bdc0 fc07 fs0" style="padding:0 0 0 10px;line-height:30px;text-align:left;">在LOFTER的更多文章</h4>
	    	<div style="width:100%;overflow:hidden;">
	    	<iframe style="max-width:780px;margin:10px 0 10px 5px;display:block" id="morecontent_frame" width="100%" height="125" allowtransparency="true" scrolling="no" frameborder="0" src="http://www.lofter.com/recommendblog?email=zwssd1980@163.com"></iframe>
	    	</div>
	    </div>
	    <div id="loftertextlinkad" style="display:none;padding:0 6px 0 5px;">
	      <div style="height:40px;line-height:40px;margin:15px 0 15px 0;border:1px solid #d5d5d5;background:#ffffe1;text-align:left;">
	        <span style="float:right;height:20px;line-height:20px;padding:10px 16px 10px 0;color:#d7854e;cursor:pointer;">关闭</span>
	        <div style="padding-left:24px;color:#000;">玩LOFTER，免费冲印20张照片，人人有奖！&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="color:#d7854e;text-decoration:none;" href="http://www.lofter.com" target="_blank">我要抢&gt;</a></div>
	      </div>
	    </div>
	    <div class="comment">
	      <h4 class="bdwb bds2 bdc0 fc07 fs0">评论</h4>
	      <a name="blogComment" id="blogComment"></a>
	      <div class="ztag"></div>
	    </div>
	    <div class="phide" id="yodaoad_3" style="_zoom:1;"></div>
      </div>
      <div class="cite ztag fc03"></div>
    </div>
   </div>
  </div>
</div>
<div class="phide nb-init">
  <textarea name="js">
    this.p={  m:2,
              b:2,
              loftPermalink:'',
              id:'fks_087069080082081065081084083071072085081065093080082074',
              blogTitle:'一起来写2048(160行python代码)',
              blogAbstract:'<p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: \'Helvetica Neue\', Helvetica, Tahoma, Arial, STXihei, \'Microsoft YaHei\', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);\"   \>来到这里，我假设大家都玩过2048了，于是我们先分析一下怎么来写一个简单的2048？回想一下，游戏的过程是很简单的：</p\><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2000007629395px; text-indent: 1em; color: rgb(51, 51, 51); font-family: \'Helvetica Neue\', Helvetica, Tahoma, Arial, STXihei, \'Microsoft YaHei\', 微软雅黑, sans-serif; background-color: rgb(254, 254, 254);\"   \>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong style=\"text-indent: 0px;\"   \>开始===&gt;(&nbsp; 进行操作(上下左右)===&gt;矩阵移动===&gt;数字合并===&gt;计分&nbsp; )===&gt;退出</strong\></p\>',
              blogTag:'',
              blogUrl:'blog/static/302964920157149512717',
              isPublished:1,
              istop:false,
              type:0,
              modifyTime:1479004157235,
              publishTime:1439514312717,
              permalink:'blog/static/302964920157149512717',
              commentCount:0,
              mainCommentCount:0,
              recommendCount:0,
              bsrk:-100,
              publisherId:0,
              recomBlogHome:false,
              currentRecomBlog:false,
              attachmentsFileIds:[],
              vote:{},
              groupInfo:{},
              friendstatus:'',
              followstatus:'',
              pubSucc:'',
              visitorProvince:'',
              visitorCity:'',
              visitorNewUser:false,
              postAddInfo:{},
              mset:'001',
              mcon:'1',
              srk:19900,
              remindgoodnightblog:false,
              isBlackVisitor:false,
              isShowYodaoAd:false,
              hostIntro:'',
              hmcon:'1',
              selfRecomBlogCount:'0',
              lofter_single:'<iframe width="140" height="560" style="overflow:hidden;" src="http://www.lofter.com/mailEntry.do?blogad=1&blog" frameBorder="0"></iframe>'
            }
  </textarea>
  <textarea name="jst" id="m-3-jst-1">
    {list a as x}
    {if !!x}
    <div class="iblock nbw-fce nbw-f40">
      <a class="fc03 noul" target="_blank" hidefocus="true" href="http://blog.163.com/${x.visitorName}/">
      {if x.visitorName==visitor.userName}
      <img alt="${x.visitorNickname|escape}" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="${fn1(x.visitorName)}&r=${visitor.imageUpdateTime}"/>
      {else}
      <img alt="${x.visitorNickname|escape}" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="${fn1(x.visitorName)}"/>
      {/if}
      </a>
      <div class="cwd vname thide">
        {if x.moveFrom=='wap'}
          <a class="noul pnt" target="_blank" href="http://blog.163.com/services/wapblog.html?frompersonalbloghome"><span title="来自网易手机博客" class="iblock wapIcon">&nbsp;</span></a>
        {elseif x.moveFrom=='iphone'}
          <a class="noul pnt" target="_blank"><span title="来自iPhone客户端" class="iblock iphoneIcon">&nbsp;</span></a>
        {elseif x.moveFrom=='android'}
          <a class="noul pnt" target="_blank"><span title="来自Android客户端" class="iblock androidIcon">&nbsp;</span></a>
        {elseif x.moveFrom=='mobile'}
          <a class="noul pnt" target="_blank" href="http://blog.163.com/services/emsblog.html?frompersonalbloghome"><span title="来自网易短信写博" class="iblock wapIcon">&nbsp;</span></a>
        {/if}
        <a class="fc03 m2a"  target="_blank" hidefocus="true" href="http://blog.163.com/${x.visitorName}/">
          ${fn(x.visitorNickname,8)|escape}
        </a>
      </div>
    </div>
    {/if}
    {/list}
  </textarea>
  <textarea name="jst" id="m-3-jst-2">
    {if !!a}
    <a target="_blank" href="http://blog.163.com/${a.userName}/"><img class="bdwa bdc0 pnt" onerror="this.src=location.f60" src="${fn1(a.userName)}"/></a>
    <a target="_blank" class="fc03 m2a" href="http://blog.163.com/${a.userName}/">${fn(a.nickname,8)|escape}</a>
    <div class="intro fc05">${a.selfIntro|escape}{if great260}${suplement}{/if}</div>
	  <div class="mbga phide xtag">
        <div class="mbgai">&nbsp;</div>
        <a class="fc03 xtag m2a" href="#" target="_blank"></a>
      </div>
    {/if}
  </textarea>
  <#--最新日志，群博日志-->
  <textarea name="jst" id="m-3-jst-3">
    {list a as x}
    {if !!x}
    <li class="thide"><a target="_blank" class="fc03 m2a" href="${furl()}${x.permalink}/?latestBlog">${fn(x.title,26)|escape}</a></li>
    {/if}
    {/list}
  </textarea>
  <#--推荐日志-->
  <textarea name="jst" id="m-3-jst-4">
    <p class="fc06">推荐过这篇日志的人：</p>
    <div>
      {list a as x}
      {if !!x}
      <div class="iblock nbw-fce nbw-f40">
        <a class="fc03 noul" target="_blank" hidefocus="true" href="http://blog.163.com/${x.recommenderName}/">
        <img alt="${x.recommenderNickname|escape}" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="${fn1(x.recommenderName)}"/>
        </a>
        <div class="cwd thide">
          <a class="fc03 m2a" target="_blank" hidefocus="true" href="http://blog.163.com/${x.recommenderName}/">
            ${fn(x.recommenderNickname,6)|escape}
          </a>
        </div>
      </div>
      {/if}
      {/list}
    </div>
    {if !!b&&b.length>0}
    <p  class="fc06">他们还推荐了：</p>
    <ul>
    {list b as y}
      {if !!y}
        <li class="rrb"><span class="iblock">&#183;</span><a class="fc03 m2a" target="_blank" href="http://blog.163.com/${y.recommendBlogPermalink}/?from=blog/static/302964920157149512717">${y.recommendBlogTitle|escape}</a></li>
      {/if}
    {/list}
    </ul>
    {/if}
  </textarea>
  <#--引用记录-->
  <textarea name="jst" id="m-3-jst-5">
    <span class="pleft fc07">转载记录：</span>
    <ul class="tbac">
    {list d as x}
      <li class="clearfix">
        <span class="pleft iblock">&#183;</span>
        <div class="tbl thide pleft"><span><a target="_blank" class="fc07 m2a" href="${x.referBlogUrl}">${x.referBlogTitle|escape}</a></span></div>
        <div class="tbr pleft"><span><a target="_blank" class="fc07 m2a" href="${x.referHomePage}">${x.referUserName|escape}</a></span></div>
      </li>
    {/list}
    </ul>
  </textarea>
  <#--博主推荐-->
  <textarea name="jst" id="m-3-jst-6">
    {list a as x}
    {if !!x}
    <li class="thide"><a target="_blank" class="fc03 m2a" href="http://blog.163.com/${x.userName}/${x.permalink}/?recommendBlog" title="${x.title|default:""|escape}">${x.title|default:""|escape}</a></li>
    {/if}
    {/list}
  </textarea>
  <#--随机阅读-->
  <textarea name="jst" id="m-3-jst-7">
    {list a as x}
    {if !!x}
    <li class="thide"><a target="_blank" class="fc03 m2a" href="http://blog.163.com/${x.userName}/${x.permalink}/?personalRecomBlog" title="${x.title|default:""|escape}">${x.title|default:""|escape}</a></li>
    {/if}
    {/list}
  </textarea>
  <#--首页推荐-->
  <textarea name="jst" id="m-3-jst-8">
    {list a as x}
    {if !!x}
    <li class="thide"><a target="_blank" class="fc03 m2a" target="_blank" href="${x.blogUrl|default:""|escape}?recommendReader" title="${x.blogTile|default:""|escape}">${x.blogTile|default:""|escape}</a></li>
    {/if}
    {/list}
  </textarea>
  <#--历史上的今天-->
  <textarea name="jst" id="m-3-jst-10">
    <ul>
      {list a as x}
      {if x_index>4}{break}{/if}
      {if !!x}
        <li class="thide fc03">
          <a class="m2a" target="_blank"  href="http://blog.163.com/${x.userName}/${x.permalink|default:""}"  title="${x.title|default:""|escape}">${fn1(x.title,60)|escape}</a><span class="fc07">${fn2(x.publishTime,'yyyy-MM-dd HH:mm:ss')}</span>
        </li>
      {/if}
      {/list}
    </ul>
  </textarea>
  <#--被推荐日志-->
  <textarea name="jst" id="m-3-jst-11">
    {list a as x}
    {if !!x}
    <li class="thide"><a target="_blank" class="fc03 m2a" href="${furl()}${x.permalink}/">${fn(x.title,26)|escape}</a></li>
    {/if}
    {/list}
  </textarea>
    <#--上一篇，下一篇-->
  <textarea name="jst" id="m-3-jst-12">
     {if !!(blogDetail.preBlogPermalink)}
       <span class="ilft iblock icn0 icn0-620">&nbsp;</span>
       <div class="pleft thide"><a class="m2a"  href="http://zwssd1980.blog.163.com/${blogDetail.preBlogPermalink}/">${blogDetail.preBlogTitle|escape}</a></div>
     {/if}
     {if !!(blogDetail.nextBlogPermalink)}
       <span class="irgt iblock icn0 icn0-619">&nbsp;</span>
       <div class="pright thide"><a class="m2a" href="http://zwssd1980.blog.163.com/${blogDetail.nextBlogPermalink}/">${blogDetail.nextBlogTitle|escape}</a></div>
     {/if}
  </textarea>
  <#-- 热度 -->
  <textarea name="jst" id="m-3-jst-13">
    {list a as x}
    {if !!x}
    <div class="hotItem iblock nbw-fce nbw-f40">
      <a class="fc03 noul" target="_blank" hidefocus="true" href="http://blog.163.com/${x.publisherUsername}/">
      {if x.publisherUsername==visitor.userName}
      <img alt="${x.publisherNickname|escape}" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="${fn1(x.publisherUsername)}&r=${visitor.imageUpdateTime}"/>
      {else}
      <img alt="${x.publisherNickname|escape}" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="${fn1(x.publisherUsername)}"/>
      {/if}
      </a>
      <div class="cwd vname thide">
        <a class="fc03 m2a"  target="_blank" hidefocus="true" href="http://blog.163.com/${x.publisherUsername}/">
          ${fn(x.publisherNickname,8)|escape}
        </a>
      </div>
      <a class="f-myLikeIcons hottype {if x.type==1} js-liketype{elseif x.type==2} js-reblogtype{elseif x.type==3} js-sharetype{else}{/if}" target="_blank" hidefocus="true" href="http://blog.163.com/${x.publisherUsername}/">&nbsp;</a>
    </div>
    {/if}
    {/list}
  </textarea>
  
  <#--  网易新闻广告  -->
  <textarea name="jst" id="m-3-jst-14">
            <div class="ttlbar fc06 bdwb bdc0 bds0">网易新闻</div>
            <div class="newscnt">
                <a class="headnews" hidefocus="true" target="_blank" href="${headlines.url_3w|escape}">
			        <img src="${imgsize(headlines.imgsrc,240,150,true)}">
			        <span class="icover"></span>
			        <span class="info"><span class="imgdesc thide">${headlines.title|escape}</span></span>
		        </a>
		        <ul>
		          {if defined('newslist')&&newslist.length>0}
                    {list newslist as x}
                    {if x_index>7}{break}{/if}
		            <li class="thide"><a hidefocus="true" target="_blank" href="${x.url_3w|escape}" class="fc05"><span class="iblock dot">・</span>${x.title|escape}</a></li>
		            {/list}
                  {/if}
		        </ul>
		        <div class="download163news">
		            <a class="fc03" target="_blank" hidefocus="true" href="http://www.163.com/newsapp/">下载网易新闻客户端 &gt;</a>
		        </div>
            </div>
  </textarea>
  
  <#--右边模块结构-->
  <textarea name="txt" id="m-3-txt-0">
    <div class="uinfo ztag"></div>
    <h4 class="fc07 fs0 ltt phide ztag">被推荐日志</h4>
    <ul class="ztag blst"></ul>
    <h4 class="fc07 fs0 ltt phide ztag">最新日志</h4>
    <ul class="ztag blst"></ul>
    <h4 class="fc07 fs0 ltt phide ztag">该作者的其他文章</h4>
    <ul class="ztag blst"></ul>
    <h4 class="fc07 fs0 ltt phide ztag">博主推荐</h4>
    <ul class="ztag blst"></ul>
    <h4 class="fc07 fs0 ltt phide ztag">随机阅读</h4>
    <ul class="ztag blst"></ul>
    <h4 class="fc07 fs0 ltt phide ztag">首页推荐</h4>
    <ul class="ztag blst"></ul>
    <div class="more"><a target="_blank" class="fc03 m2a" href="http://blog.163.com">更多&gt;&gt;</a></div>
    <br/><br/>
    <div id="yodaoad_r" style="display:none;_zoom:1;"></div>
    <div id="lofter_single"></div>
    <div id="blogPublicAccount"></div>
  </textarea>
  <#--评论模块结构-->
  <textarea name="txt" id="m-3-txt-1">
    <div class="publish ztag"></div>
    <div class="bdwt bds2 bdc0 phide" id="yodaoad_2" style="_zoom:1;"></div>
    <div class="ztag bdwt bds2 bdc0">
      <div class="case"></div>
      <div class="clearfix"></div>
    </div>
  </textarea>
  <#--引用模块结构-->
  <textarea name="jst" id="m-3-txt-2">
     <div class="close">
       <span class="ztag iblock icn0 icn0-57">&nbsp;</span>
     </div>
	 <div class="ztag phide"></div>
  </textarea>
    <#--博主发起的投票-->
  <textarea name="jst" id="m-3-txt-3">
    {list a as x}
    {if !!x}
      <li>
      <a href="http://blog.163.com/${x.userName}/" target="_blank" class="m2a fc03">${x.nickName|escape}</a>&nbsp;&nbsp;投票给
        {var first_option = true;}
        {list x.voteDetailList as voteToOption}
            {if voteToOption==1}
              {if first_option==false},{/if}&nbsp;&nbsp;“${b[voteToOption_index]}”&nbsp;&nbsp;
            {/if}
        {/list}
        {if (x.role!="-1") },“我是${c[x.role]}”&nbsp;&nbsp;{/if}
        &nbsp;&nbsp;&nbsp;&nbsp;<span class="fc07">&nbsp;&nbsp;&nbsp;&nbsp;${fn1(x.voteTime)}</span>
        {if x.userName=='zwssd1980'}{/if}
    {/if}
    {/list}
  </textarea>
</div>

<script type="text/javascript">
var wumiiPermaLink = "http://blog.163.com/zwssd1980/blog/static/302964920157149512717/"; //文章的永久链接，作为文章的唯一标识
var wumiiTags = ""; //文章标签，以英文逗号分隔，如："标签1,标签2"
var wumiiSitePrefix = "http://blog.163.com/zwssd1980/"; //博客的主页地址，作为博客的唯一标识
var wumiiParams = "&num=5&mode=3&pf=blog163"; //num为默认显示的相关文章数目，mode为默认的显示模式（1为文字，2为图片，3为自动）
</script>
<script type="text/javascript" src="http://widget.wumii.com/ext/relatedItemsWidget.htm"></script>
</div>
      <div class="l cl h100">&nbsp;</div>
      <div class="r cr h100">&nbsp;</div>
    </div>
    <div class="nb-mb lcr bh space">
      <div class="l bl bh">&nbsp;</div>
      <div class="r br bh">&nbsp;</div>
      <div class="c bc bh lcr">&nbsp;</div>
    </div>
  </div>

</div>
      <div class="l wl g lg h100">&nbsp;</div>
      <div class="l wl t lt">&nbsp;</div>
      <div class="l wl b lb">&nbsp;</div>
      <div class="r wr g rg h100">&nbsp;</div>
      <div class="r wr t rt">&nbsp;</div>
      <div class="r wr b rb">&nbsp;</div>
    </div>
  </div>
  <div class="nb-are nb-smb"><div class="wkg h space"><div class="l h">&nbsp;</div><div class="r h">&nbsp;</div><div class="c h">&nbsp;</div></div></div>
<div class="nb-are nb-fot">
  <div class="wkg h">
    <h2>页脚</h2>
    <div class="k">      <a rel="nofollow" class="m2a fc08" target="_blank" href="http://yxp.163.com">我的照片书</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_blank" href="http://blog.163.com/public/theme/">博客风格</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_blank" href="http://blog.163.com/services/wapblog.html">手机博客</a>
      <span class="p fc10">-</span>
      <a rel="nofollow" class="m2a fc08" target="_blank" href="http://www.lofter.com/app?act=qbboke_20150209_02">下载LOFTER APP</a>
      
    </div>
    <p class="fc08">网易公司版权所有&nbsp;&copy;1997-2017</p>
  </div>
</div></div>
    <!--[if lte IE 6]></div><![endif]-->
  <!--[if lte IE 6]></div><![endif]-->
  <div class="nb-layer" id="blog-163-com-layer"></div>
  <div class="nb-tpl nb-init phide" id="blog-163-com-template" style="display:none;">  <textarea rows="1" cols="1" name="jst" id="nb-jst-a0">  <div class="nbw-new">
    <span class="arw space icn1 icn1-2">&nbsp;</span>
    <div class="{if n.length<=1}nbw-act js-nomore-102{else}nbw-act{/if}"><span class="ul hdn ztag">显示后${n.length-1}条</span><span class="sep hdn">|</span><span class="ul ztag">关闭</span></div>
    <div class="box">{list n as x}<div class="itm thide">{if x.url!=null&&x.url!=""}<a class="m2a" href="${x.url}" target="_blank"><span class="dot">&#183;</span>${x.title}</a>{else}<a class="m2a" href="javascript:;"><span class="dot">&#183;</span>${x.title}</a>{/if}</div>{/list}</div>
  </div>
</textarea>
  <textarea rows="1" cols="1" name="txt" id="nb-txt-b0">  <a class="iblock itm0" hidefocus="true" target="_blank" href="http://zwssd1980.blog.163.com/blog/getBlog.do?fromToolBarBlog&fromString=topbar">写日志</a>
  <a class="iblock itm1" hidefocus="true" target="_blank" href="http://zwssd1980.blog.163.com/album/?fromToolBarPhoto#m=5">传相片</a>
  <a class="iblock itm2" hidefocus="true" target="_blank" href="http://zwssd1980.blog.163.com/m/?fromToolBarMusic">音乐盒</a>
  <a class="iblock itm5" hidefocus="true" target="_blank" href="http://blog.163.com/clone/clone.html?fromToolBarCopy">博客搬家</a>
  <a class="iblock itm4 ztag" hidefocus="true" href="#">装扮博客</a>
</textarea>
  <textarea rows="1" cols="1" name="txt" id="nb-txt-b1">  <label class="fs1">正在装扮我的博客，开始</label>
  <input class="ztag" type="button" value="换风格"/>
  <input class="ztag" type="button" value="设置首页内容"/>
  <input class="ztag" type="button" value="设置首页版式"/>
  <div class="iblock cls"><span class="ul ztag">[关闭]</span></div>
</textarea>
  <textarea rows="1" cols="1" name="jst" id="nb-jst-d0">      {list wl as x}
        <div class="grp">${x.g}</div>
        {list x.l as y}
        <a class="itm noul" href="#" hidefocus="true" name="{if typeof(y.v)=='string'}${y.v}{else}${y_index}{/if}">${y.n}</a>
        {/list}
      {/list}
</textarea>
  <textarea rows="1" cols="1" name="jst" id="nb-jst-d1">	{if defined('wl')}
        {list wl as x}<a class="itm noul" href="#" hidefocus="true" name="${x.v}">${x.n}</a>{/list}
    {/if}
</textarea>
</div>
<script type="text/javascript">
  window.N = {tm:{'zbtn':'nbtn',
                  'bdc0':'bdc0','bdc2':'bdc1',
				  'bgc0':'bgc0','bgc1':'bgc1','bgc2':'bgc2','bgh0':'bgc9',
				  'fc00':'fc03','fc01':'fc04','fc02':'fc05','fc03':'fc06','fc04':'fc07','fc05':'fc09'}};
  Date.servTime = '02/28/2017 21:34:17';
  location.api = 'http://api.blog.163.com/';
  location.msg = 'http://api.blog.163.com/msg/dwr';
  location.dwr = 'http://api.blog.163.com/zwssd1980/dwr';
  location.vcd = 'http://api.blog.163.com/cap/captcha.jpgx?parentId=3029649&r=';
  location.mrt = 'http://b.bst.126.net/newpage/style/mbox/';
  location.fce = 'http://os.blog.163.com/common/ava.s?host=';
  location.fce2= 'http://os.blog.163.com/common/ava.s?host=';
  location.passportfce = 'http://os.blog.163.com/common/ava.s?passport=';
  location.fpr = 'http://b.bst.126.net/common/portrait/face/preview/';
  location.f60 = 'http://b.bst.126.net/common/face60.png';
  location.f140= 'http://b.bst.126.net/common/face140.png';
  location.f40 = location.f140;
  location.adf140= 'http://b.bst.126.net/common/admireface140.png';
  location.ept = 'http://b.bst.126.net/common/empty.png';
  location.guide_profile_add= 'http://b.bst.126.net/common/guide_profile_add.gif';
  location.phtoto_dream = 'http://photo.dream.163.com/blog/writeBlogCallback.do';
  window.CF = {
    ca:false
   ,mid:-3
   ,cb:''
   ,cc:true
   ,cd:true
   ,ce:'-3'
   ,ck:3
   ,ci:['api.blog.163.com'
       ,'http://photo.163.com/photo/html/crossdomain.html?t=20100205'
        
        ,'ud.blog.163.com'
        
        
        
        ]
   ,cj:[-3]
   ,cl:''
   ,cm:["","blog/","album/","music/","collection/","friends/","profile/","pprank/","","loftarchive/"]
   ,cf:0
   ,co:{pv:false
       ,ti:109612735
       ,tn:''
       ,tc:0
       ,tl:3
       ,ut:0
       ,un:''
       ,um:''
       ,ui:0
       ,ud:true}
   ,cp:{nr:1
       ,cr:1
       ,vr:10000
       ,fr:0}
   ,cs:0
   ,ct:{'nav':['首页','日志','相册','音乐','收藏','博友','关于我','LOFTER'],'enabled':[0,1,6],'defaultnav':parseInt('11111111',2)}
   ,cu:false
   ,cv:true
   ,cw:false
  };
  window.UD = {};
  UD.host = {
      userId:3029649
     ,userName:'zwssd1980'
     ,nickName:'davidjory'
     ,imageUpdateTime:-1
     ,baseUrl:'http://zwssd1980.blog.163.com/'
     ,gender:'他'
     ,email:'zwssd1980@163.com'
     ,photo163Name:'zwssd1980'
     ,photo163HostName:'zwssd1980'
     ,TOKEN_HTMLMODULE:''
     ,isMultiUserBlog:false
     ,isWumiUser:true
     ,isNewTemplate:true
     ,sRank:19900
  };
  UD.visitor = {
     userId:3029649,
     userName:'zwssd1980',
     nickName:'davidjory',
     imageUpdateTime:-1,
     userType:[12,21],
     baseUrl:'http://zwssd1980.blog.163.com/',
     email:'zwssd1980@163.com'
     ,photo163Name:'zwssd1980'
     ,photo163VisitorName:'zwssd1980'
     ,isOnwer:true
     ,isMultiUserMember:false
     ,multiUserVisitorRank:10000
     ,isShowFaXianTip:false
     ,isShowGuanggaoTip:false
     ,isLofterInviteTip:false
     ,isVIP:false
     ,isShowYXP:false
     ,isSinaOauthExpired:false
  };
</script>
    <script type="text/javascript" src="http://b1.bst.126.net/newpage/r/j/ec.js?v=1484551956519"></script>
    <script type="text/javascript" src="http://b1.bst.126.net/newpage/r/j/m/m-3/em.js?v=1484551956519"></script>
  
  <script type="text/javascript">
    
    
    new Image().src = 'http://blog.163.com/newpage/images/analyse.png?s=e&t='+new Date().getTime();
  </script>
<script>
window.setTimeout(function(){
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69204963-1', 'auto');
  ga('send', 'pageview');
},300);



</script> 




<script>
window.setTimeout(function(){
    var script = document.createElement('script');
    script.async = 1;
    script.src = 'http://b1.bst.126.net/newregflow/res/js/blog_aswlf_V3_1.js';
    document.body.appendChild(script);
    
},300);

</script> 
    <script type="text/javascript" src="/newpage/prettycode/prettify.js"></script>
</body>
</html>
